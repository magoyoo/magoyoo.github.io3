<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/><link rel="preload" as="font" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/98e4530578c425d7.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-2f2428fbb7549638.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-695585668d16e3fb.js" async=""></script><script src="/_next/static/chunks/596-e6a99af3279f5db8.js" async=""></script><script src="/_next/static/chunks/main-app-8d8e64378ebd25aa.js" async=""></script><link rel="preload" as="script" href="https://www.googletagmanager.com/gtag/js?id=G-DRZBQ8XGPS"/><title>iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리 | 마고자비 블로그</title><meta name="description" content="이 문서는 iOS 애플리케이션에서 StoreKit을 이용하여 구독 모델을 구현하는 방법을 다룹니다. 반복 결제 시스템 설계와 구독 상태 관리에 대한 자세한 설명을 제공합니다."/><meta name="keywords" content="iOS,StoreKit,구독 모델,반복 결제"/><link rel="canonical" href="https://magomercy.com/swift/iOS-%EA%B5%AC%EB%8F%85-%EB%AA%A8%EB%8D%B8-%EA%B5%AC%ED%98%84-StoreKit%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%98%EB%B3%B5-%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B4%80%EB%A6%AC-aae7a94b"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-title" content="iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리 | 마고자비 블로그"/><meta name="apple-mobile-web-app-status-bar-style" content="default"/><meta property="og:title" content="iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리 | 마고자비 블로그"/><meta property="og:description" content="이 문서는 iOS 애플리케이션에서 StoreKit을 이용하여 구독 모델을 구현하는 방법을 다룹니다. 반복 결제 시스템 설계와 구독 상태 관리에 대한 자세한 설명을 제공합니다."/><meta property="og:url" content="https://magomercy.com/swift/iOS-%EA%B5%AC%EB%8F%85-%EB%AA%A8%EB%8D%B8-%EA%B5%AC%ED%98%84-StoreKit%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%98%EB%B3%B5-%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B4%80%EB%A6%AC-aae7a94b"/><meta property="og:site_name" content="마고자비 블로그 | 마구잡이로 하고 싶은 것을 합니다."/><meta property="og:locale" content="kr"/><meta property="og:image" content="https://magomercy.com/images/swiftBanner2.jpg"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:creator" content="마고자비 블로그"/><meta name="twitter:title" content="iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리 | 마고자비 블로그"/><meta name="twitter:description" content="이 문서는 iOS 애플리케이션에서 StoreKit을 이용하여 구독 모델을 구현하는 방법을 다룹니다. 반복 결제 시스템 설계와 구독 상태 관리에 대한 자세한 설명을 제공합니다."/><meta name="twitter:image" content="https://magomercy.com/images/swiftBanner2.jpg"/><link rel="icon" href="https://magomercy.com/favicon32.png"/><link rel="apple-touch-icon" href="https://magomercy.com/favicon32.png"/><meta name="next-size-adjust"/><meta name="google-site-verification" content="WaKebxnU_qX7Mu3Qu9GWWzpa_7KmuUe8QEsu6fKv3bc"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_aaf875"><div class="flex flex-col w-full fixed top-[0px] z-50 "><header class="flex flex-row justify-center w-[100%] sm:h-[80px] h-[60px]  "><div class="flex justify-between items-center xl:w-[1200px] w-[100%] sm:px-[40px] px-[20px]"><a href="/"><img alt="로고" loading="lazy" width="140" height="35" decoding="async" data-nimg="1" class="sm:block hidden" style="color:transparent" src="/dallogLogo.png"/><img alt="로고" loading="lazy" width="104" height="26" decoding="async" data-nimg="1" class="sm:hidden" style="color:transparent" src="/dallogLogoDark.png"/></a><nav><ul class="flex flex-row md:gap-[20px] gap-[10px]"><li><a href="/search" target="_blank"><div class="sm:flex hidden items-center h-[40px] px-[18px]  rounded-[100px] text-[15px] text-gray-100 gap-[4px] "><img alt="검색 아이콘" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" style="color:transparent" src="/search.png"/>검색</div><div class="sm:hidden flex justify-center items-center h-[40px] w-[40px]"><img alt="검색 아이콘" loading="lazy" width="22" height="22" decoding="async" data-nimg="1" class="sm:hidden" style="color:transparent" src="/search_dark.png"/></div></a></li><li><a href="/profile" target="_blank"><div class="sm:flex hidden items-center h-[40px] px-[18px] rounded-[100px] "><img alt="프로필 아이콘" loading="lazy" width="24" height="24" decoding="async" data-nimg="1" style="color:transparent" src="/i_person.png"/></div><div class="sm:hidden flex justify-center items-center h-[40px] w-[40px]"><img alt="프로필 아이콘" loading="lazy" width="28" height="28" decoding="async" data-nimg="1" style="color:transparent" src="/i_person_dark.png"/></div></a></li></ul></nav></div></header><div class="w-full flex flex-row justify-start"><div class="h-[2px] bg-[#F2D024] filter-blur-4" style="width:0%"></div></div></div><section class="flex fixed top-0 left-0 w-full  md:h-[600px] h-[300px] justify-center" style="background-image:url(/images/swiftBanner2.jpg);background-position:center;background-size:contain;background-repeat:no-repeat"><div class="w-full md:h-[600px] h-[300px]  bg-[#171E24] bg-opacity-[0.35] absolute top-0 left-0"></div><div class="hidden md:flex flex-col justify-end w-[100%] md:w-[700px] px-[20px] pb-[100px]"><h1 class="font-semibold text-[40px] text-gray-100 text-shadow-default z-40">iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리</h1></div></section><main class="flex flex-row justify-center md:py-[120px] py-[60px] bg-white md:mt-[600px] mt-[300px] relative z-30 "><div class="xl:flex hidden w-[300px]"><div class="toc sticky top-[90px] flex flex-col"><div class="googleAd-container" style="width:100%;padding-left:30px;padding-right:30px"><ins class="adsbygoogle" style="display:block" data-ad-slot="9496760534" data-ad-format="auto" data-full-width-responsive="true"></ins></div></div></div><article class="flex flex-col w-full md:w-[600px] px-[20px] md:px-[0px] gap-[40px]"><div class="md:hidden border-b-[0.6px] pb-[40px] border-gray-200"><h1 class="text-[28px] font-bold leading-[150%]">iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리</h1></div><div class="flex flex-col"><div class="googleAd-container" style="width:100%"><ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-6t+ed+2i-1n-4w" data-ad-client="ca-pub-4221532240017712" data-ad-slot="5421225677"></ins></div><div>작성일 : <time>2024-07-02</time></div></div><div><div class="md-to-html"><h1 id="a79d9838" class="md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900">iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리</h1>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">애플리케이션 개발자에게 구독 모델은 안정적인 수익 모델을 제공합니다. Apple의 StoreKit 프레임워크는 iOS 앱에서 인앱 구독을 손쉽게 관리하고 반복 결제를 처리할 수 있도록 해줍니다. 이 문서에서는 iOS 애플리케이션에 StoreKit을 사용하여 구독 모델을 구현하는 방법을 단계별로 설명합니다.</p>
<h2 id="f60ef07c" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">준비 작업</h2>
<h3 id="4199ffbf" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">Apple Developer 계정 설정</h3>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">먼저 구독 모델을 구현하려면 Apple Developer 계정이 필요합니다. Apple Developer 계정으로 로그인한 후 App Store Connect에서 새로운 애플리케이션을 생성하거나 기존의 애플리케이션에 인앱 구독 상품을 추가합니다.</p>
<ol>
<li>App Store Connect에 로그인합니다.</li>
<li><code node="[object Object]">My Apps</code>로 이동하여 새로운 앱을 생성하거나 기존 앱을 선택합니다.</li>
<li><code node="[object Object]">Features</code> 탭에서 <code node="[object Object]">In-App Purchases</code>를 선택합니다.</li>
<li><code node="[object Object]">+</code> 버튼을 클릭하여 새로운 인앱 구매 항목을 추가합니다.</li>
<li><code node="[object Object]">Subscription</code> 유형을 선택하고 필요한 정보를 입력합니다.</li>
</ol>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">이 과정에서 구독 항목의 이름, 설명, 가격 및 결제 주기를 설정할 수 있습니다. 항목을 입력한 후 검토 및 승인을 기다립니다.</p>
<h3 id="4843ac6b" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">Xcode 프로젝트 설정</h3>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">앱 내부에서는 Xcode를 사용하여 StoreKit 프레임워크를 설정해야 합니다. StoreKit은 기본적으로 iOS 프로젝트에 포함되어 있으므로 별도의 설치는 필요하지 않습니다.</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>swift</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-swift" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">StoreKit</span></code></pre></div></pre>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">위의 코드를 프로젝트의 적절한 위치에 추가하여 StoreKit을 가져옵니다.</p>
<h2 id="031247c4" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">StoreKit 초기화 및 제품 식별자 설정</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">사용자가 구독을 시작할 수 있도록 코드에서 StoreKit을 초기화하고 제품 식별자를 설정해야 합니다. 다음은 이를 위한 샘플 코드입니다.</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>swift</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-swift" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">class</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">SubscriptionManager</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">NSObject</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">SKProductsRequestDelegate</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">SKPaymentTransactionObserver</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">static</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">let</span><span> shared </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">SubscriptionManager</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">let</span><span> productIdentifiers</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">Set</span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token" style="color:hsl(29, 54%, 61%)">String</span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token string-literal" style="color:hsl(95, 38%, 62%)">&quot;com.yourapp.subscription.monthly&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">var</span><span> products </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(29, 54%, 61%)">SKProduct</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span>
<span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">func</span><span> </span><span class="token function-definition" style="color:hsl(207, 82%, 66%)">requestProducts</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(286, 60%, 67%)">let</span><span> request </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">SKProductsRequest</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>productIdentifiers</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> productIdentifiers</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>        request</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>delegate </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">self</span><span>
</span><span>        request</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(207, 82%, 66%)">start</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span>
<span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">func</span><span> </span><span class="token function-definition" style="color:hsl(207, 82%, 66%)">productsRequest</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token omit" style="color:hsl(286, 60%, 67%)">_</span><span> request</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">SKProductsRequest</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> didReceive response</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">SKProductsResponse</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        products </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> response</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>products
</span><span>        </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// 제품 리스트 업데이트 로직</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<h2 id="ec2604dd" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">구독 구매 및 상태 관리</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">사용자가 구독을 구매할 수 있도록 프로세스를 설정해야 합니다. 이는 크게 세 단계로 나눌 수 있습니다: 구독 상품 표시, 구매 트랜잭션 처리, 구독 상태 갱신.</p>
<h3 id="187bc948" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">구독 상품 표시</h3>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">앱 내에서 구독 상품을 사용자에게 보여주는 UI를 구현합니다. 예를 들어, 스토어 화면이나 구독 전용 페이지에 구독 옵션을 나열할 수 있습니다.</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>swift</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-swift" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">func</span><span> </span><span class="token function-definition" style="color:hsl(207, 82%, 66%)">displayProducts</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// 상품을 표시하는 UI 업데이트 로직</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">for</span><span> product </span><span class="token" style="color:hsl(286, 60%, 67%)">in</span><span> products </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(207, 82%, 66%)">print</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token string-literal" style="color:hsl(95, 38%, 62%)">&quot;Product: </span><span class="token string-literal" style="color:hsl(220, 14%, 71%)">\(</span><span class="token string-literal interpolation">product</span><span class="token string-literal interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token string-literal interpolation">localizedTitle</span><span class="token string-literal" style="color:hsl(220, 14%, 71%)">)</span><span class="token string-literal" style="color:hsl(95, 38%, 62%)"> - Price: </span><span class="token string-literal" style="color:hsl(220, 14%, 71%)">\(</span><span class="token string-literal interpolation">product</span><span class="token string-literal interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token string-literal interpolation">priceLocale</span><span class="token string-literal interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token string-literal interpolation">currencySymbol </span><span class="token string-literal interpolation" style="color:hsl(207, 82%, 66%)">??</span><span class="token string-literal interpolation"> </span><span class="token string-literal interpolation" style="color:hsl(95, 38%, 62%)">&quot;&quot;</span><span class="token string-literal" style="color:hsl(220, 14%, 71%)">)</span><span class="token string-literal" style="color:hsl(220, 14%, 71%)">\(</span><span class="token string-literal interpolation">product</span><span class="token string-literal interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token string-literal interpolation">price</span><span class="token string-literal" style="color:hsl(220, 14%, 71%)">)</span><span class="token string-literal" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<h3 id="63cea9d5" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">구매 트랜잭션 처리</h3>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">사용자가 구독 상품을 선택하면 결제 프로세스를 시작하여 트랜잭션을 처리합니다.</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>swift</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-swift" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">func</span><span> </span><span class="token function-definition" style="color:hsl(207, 82%, 66%)">purchase</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>product</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">SKProduct</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">SKPaymentQueue</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(207, 82%, 66%)">canMakePayments</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(286, 60%, 67%)">let</span><span> payment </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">SKPayment</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>product</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> product</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>        </span><span class="token" style="color:hsl(29, 54%, 61%)">SKPaymentQueue</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(286, 60%, 67%)">default</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(207, 82%, 66%)">add</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>payment</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">else</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(207, 82%, 66%)">print</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token string-literal" style="color:hsl(95, 38%, 62%)">&quot;In-app purchases are not allowed&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<h3 id="5de5d577" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">트랜잭션 업데이트 처리</h3>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">결제 트랜잭션을 처리하고 상태를 관리하기 위해 <code node="[object Object]">SKPaymentTransactionObserver</code>를 구현합니다.</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>swift</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-swift" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">func</span><span> </span><span class="token function-definition" style="color:hsl(207, 82%, 66%)">paymentQueue</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token omit" style="color:hsl(286, 60%, 67%)">_</span><span> queue</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">SKPaymentQueue</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> updatedTransactions transactions</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(29, 54%, 61%)">SKPaymentTransaction</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">for</span><span> transaction </span><span class="token" style="color:hsl(286, 60%, 67%)">in</span><span> transactions </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(286, 60%, 67%)">switch</span><span> transaction</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>transactionState </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(286, 60%, 67%)">case</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>purchased</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>            </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// 구독 활성화 로직</span><span>
</span><span>            </span><span class="token" style="color:hsl(29, 54%, 61%)">SKPaymentQueue</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(286, 60%, 67%)">default</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(207, 82%, 66%)">finishTransaction</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>transaction</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>        </span><span class="token" style="color:hsl(286, 60%, 67%)">case</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>failed</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>            </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// 에러 처리 로직</span><span>
</span><span>            </span><span class="token" style="color:hsl(29, 54%, 61%)">SKPaymentQueue</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(286, 60%, 67%)">default</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(207, 82%, 66%)">finishTransaction</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>transaction</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>        </span><span class="token" style="color:hsl(286, 60%, 67%)">case</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>restored</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>            </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// 구독 복원 로직</span><span>
</span><span>            </span><span class="token" style="color:hsl(29, 54%, 61%)">SKPaymentQueue</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(286, 60%, 67%)">default</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(207, 82%, 66%)">finishTransaction</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>transaction</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>        </span><span class="token" style="color:hsl(286, 60%, 67%)">default</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>            </span><span class="token" style="color:hsl(286, 60%, 67%)">break</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<h2 id="e53fdd54" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">결제 영수증 검증 및 구독 상태 확인</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">구독 상태를 정확히 관리하려면 결제 영수증을 검증하고 사용자의 구독 상태를 주기적으로 확인해야 합니다. 이는 보안상의 이유로 백엔드 서버에서 처리하는 것이 가장 좋습니다. 백엔드 서버는 Apple의 영수증 검증 API를 이용해 사용자의 구독 상태를 검증할 수 있습니다.</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>swift</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-swift" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">func</span><span> </span><span class="token function-definition" style="color:hsl(207, 82%, 66%)">verifyReceipt</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// 백엔드 서버로 영수증 데이터 전송 및 검증 로직</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<h2 id="f48dcfc1" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">구독 관리 및 갱신</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">사용자는 언제든지 자신의 구독을 관리하고 갱신할 수 있어야 합니다. 이를 위해 앱 내에서 사용자에게 구독 상태를 표시하고, 필요시 갱신 또는 해지할 수 있는 기능을 제공해야 합니다.</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>swift</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-swift" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">func</span><span> </span><span class="token function-definition" style="color:hsl(207, 82%, 66%)">manageSubscriptions</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">let</span><span> url </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">URL</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>string</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token string-literal" style="color:hsl(95, 38%, 62%)">&quot;https://apps.apple.com/account/subscriptions&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(29, 54%, 61%)">UIApplication</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>shared</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(286, 60%, 67%)">open</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>url</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<h2 id="ed8464a3" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">마무리</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">iOS 앱에서 StoreKit을 이용해 구독 모델을 구현하는 것은 복잡하지만, 위에서 설명한 단계를 따르면 사용자에게 원활한 구독 경험을 제공할 수 있습니다. 올바르게 설계된 구독 모델은 애플리케이션의 수익성을 높이고 사용자 유지율을 향상시킬 수 있습니다.</p></div></div><div class="googleAd-container" style="width:100%"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-4221532240017712" data-ad-slot="6323802284"></ins></div></article><div class="xl:flex hidden w-[300px]"><section class="flex flex-col pl-[30px] "><div class="toc sticky top-[90px] flex flex-col"><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-medium py-[5px]" href="#a79d9838">iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#f60ef07c">준비 작업</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#4199ffbf">Apple Developer 계정 설정</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#4843ac6b">Xcode 프로젝트 설정</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#031247c4">StoreKit 초기화 및 제품 식별자 설정</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#ec2604dd">구독 구매 및 상태 관리</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#187bc948">구독 상품 표시</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#63cea9d5">구매 트랜잭션 처리</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#5de5d577">트랜잭션 업데이트 처리</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#e53fdd54">결제 영수증 검증 및 구독 상태 확인</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#f48dcfc1">구독 관리 및 갱신</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#ed8464a3">마무리</a><div class="googleAd-container" style="width:100%;padding-left:30px;padding-right:30px"><ins class="adsbygoogle" style="display:block" data-ad-slot="9496760534" data-ad-format="auto" data-full-width-responsive="true"></ins></div></div></section></div></main><script src="/_next/static/chunks/webpack-2f2428fbb7549638.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/98e4530578c425d7.css\",{\"as\":\"style\"}]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:I{\"id\":57948,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n6:I{\"id\":56628,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":42879,\"chunks\":[\"185:static/chunks/app/layout-b198f10c98e34978.js\"],\"name\":\"GoogleAnalytics\",\"async\":false}\n8:I{"])</script><script>self.__next_f.push([1,"\"id\":47767,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n9:I{\"id\":57920,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/98e4530578c425d7.css\",\"precedence\":\"next\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"BTzIZmIeYXT3BlsSUt3SU\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/swift/iOS-%EA%B5%AC%EB%8F%85-%EB%AA%A8%EB%8D%B8-%EA%B5%AC%ED%98%84-StoreKit%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%98%EB%B3%B5-%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B4%80%EB%A6%AC-aae7a94b\",\"initialTree\":[\"\",{\"children\":[\"swift\",{\"children\":[[\"slug\",\"iOS-%EA%B5%AC%EB%8F%85-%EB%AA%A8%EB%8D%B8-%EA%B5%AC%ED%98%84-StoreKit%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%98%EB%B3%B5-%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B4%80%EB%A6%AC-aae7a94b\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"iOS-구독-모델-구현-StoreKit을-이용한-반복-결제-시스템-설계-및-관리-aae7a94b\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L5\"],\"globalErrorComponent\":\"$6\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[[\"$\",\"$L7\",null,{}],[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"swift\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"swift\",\"children\",[\"slug\",\"iOS-%EA%B5%AC%EB%8F%85-%EB%AA%A8%EB%8D%B8-%EA%B5%AC%ED%98%84-StoreKit%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%98%EB%B3%B5-%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B4%80%EB%A6%AC-aae7a94b\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$La\",\"$Lb\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"iOS-구독-모델-구현-StoreKit을-이용한-반복-결제-시스템-설계-및-관리-aae7a94b\\\"}\"},\"styles\":[]}],\"segment\":[\"slug\",\"iOS-%EA%B5%AC%EB%8F%85-%EB%AA%A8%EB%8D%B8-%EA%B5%AC%ED%98%84-StoreKit%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%98%EB%B3%B5-%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B4%80%EB%A6%AC-aae7a94b\",\"d\"]},\"styles\":[]}],\"segment\":\"swift\"},\"styles\":[]}]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"c:I{\"id\":22873,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\nd:I{\"id\":84423,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\ne:I{\"id\":2346,\"chunks\""])</script><script>self.__next_f.push([1,":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\nf:I{\"id\":67490,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"MarkDownCode\",\"async\":false}\n10:I{\"id\":87272,\"chunks\":[\"986:st"])</script><script>self.__next_f.push([1,"atic/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\n11:I{\"id\":55026,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"$Lc\",null,{\"language\":\"kr\",\"screenType\":\"ARTICLE_DETAIL\"}],[\"$\",\"section\",null,{\"className\":\"flex fixed top-0 left-0 w-full  md:h-[600px] h-[300px] justify-center\",\"style\":{\"backgroundImage\":\"url(/images/swiftBanner2.jpg)\",\"backgroundPosition\":\"center\",\"backgroundSize\":\"contain\",\"backgroundRepeat\":\"no-repeat\"},\"children\":[[\"$\",\"div\",null,{\"className\":\"w-full md:h-[600px] h-[300px]  bg-[#171E24] bg-opacity-[0.35] absolute top-0 left-0\"}],[\"$\",\"div\",null,{\"className\":\"hidden md:flex flex-col justify-end w-[100%] md:w-[700px] px-[20px] pb-[100px]\",\"children\":[\"$\",\"h1\",null,{\"className\":\"font-semibold text-[40px] text-gray-100 text-shadow-default z-40\",\"children\":\"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리\"}]}]]}],[\"$\",\"main\",null,{\"className\":\"flex flex-row justify-center md:py-[120px] py-[60px] bg-white md:mt-[600px] mt-[300px] relative z-30 \",\"children\":[[\"$\",\"div\",null,{\"className\":\"xl:flex hidden w-[300px]\",\"children\":[\"$\",\"div\",null,{\"className\":\"toc sticky top-[90px] flex flex-col\",\"children\":[\"$\",\"$Ld\",null,{}]}]}],[\"$\",\"article\",null,{\"className\":\"flex flex-col w-full md:w-[600px] px-[20px] md:px-[0px] gap-[40px]\",\"children\":[[\"$\",\"div\",null,{\"className\":\"md:hidden border-b-[0.6px] pb-[40px] border-gray-200\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-[28px] font-bold leading-[150%]\",\"children\":\"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리\"}]}],[\"$\",\"div\",null,{\"className\":\"flex flex-col\",\"children\":[[\"$\",\"$Le\",null,{}],[\"$\",\"div\",null,{\"children\":[\"작성일 : \",[\"$\",\"time\",null,{\"children\":\"2024-07-02\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"md-to-html\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"a79d9838\",\"className\":\"md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900\",\"children\":\"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"애플리케이션 개발자에게 구독 모델은 안정적인 수익 모델을 제공합니다. Apple의 StoreKit 프레임워크는 iOS 앱에서 인앱 구독을 손쉽게 관리하고 반복 결제를 처리할 수 있도록 해줍니다. 이 문서에서는 iOS 애플리케이션에 StoreKit을 사용하여 구독 모델을 구현하는 방법을 단계별로 설명합니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"f60ef07c\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"준비 작업\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"4199ffbf\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"Apple Developer 계정 설정\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"먼저 구독 모델을 구현하려면 Apple Developer 계정이 필요합니다. Apple Developer 계정으로 로그인한 후 App Store Connect에서 새로운 애플리케이션을 생성하거나 기존의 애플리케이션에 인앱 구독 상품을 추가합니다.\"}],\"\\n\",[\"$\",\"ol\",\"ol-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"App Store Connect에 로그인합니다.\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"My Apps\",\"position\":{\"start\":{\"line\":13,\"column\":4,\"offset\":432},\"end\":{\"line\":13,\"column\":13,\"offset\":441}}}],\"position\":{\"start\":{\"line\":13,\"column\":4,\"offset\":432},\"end\":{\"line\":13,\"column\":13,\"offset\":441}}},\"children\":\"My Apps\"}}],\"로 이동하여 새로운 앱을 생성하거나 기존 앱을 선택합니다.\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"Features\",\"position\":{\"start\":{\"line\":14,\"column\":4,\"offset\":477},\"end\":{\"line\":14,\"column\":14,\"offset\":487}}}],\"position\":{\"start\":{\"line\":14,\"column\":4,\"offset\":477},\"end\":{\"line\":14,\"column\":14,\"offset\":487}}},\"children\":\"Features\"}}],\" 탭에서 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"In-App Purchases\",\"position\":{\"start\":{\"line\":14,\"column\":19,\"offset\":492},\"end\":{\"line\":14,\"column\":37,\"offset\":510}}}],\"position\":{\"start\":{\"line\":14,\"column\":19,\"offset\":492},\"end\":{\"line\":14,\"column\":37,\"offset\":510}}},\"children\":\"In-App Purchases\"}}],\"를 선택합니다.\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"+\",\"position\":{\"start\":{\"line\":15,\"column\":4,\"offset\":522},\"end\":{\"line\":15,\"column\":7,\"offset\":525}}}],\"position\":{\"start\":{\"line\":15,\"column\":4,\"offset\":522},\"end\":{\"line\":15,\"column\":7,\"offset\":525}}},\"children\":\"+\"}}],\" 버튼을 클릭하여 새로운 인앱 구매 항목을 추가합니다.\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"Subscription\",\"position\":{\"start\":{\"line\":16,\"column\":4,\"offset\":559},\"end\":{\"line\":16,\"column\":18,\"offset\":573}}}],\"position\":{\"start\":{\"line\":16,\"column\":4,\"offset\":559},\"end\":{\"line\":16,\"column\":18,\"offset\":573}}},\"children\":\"Subscription\"}}],\" 유형을 선택하고 필요한 정보를 입력합니다.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"이 과정에서 구독 항목의 이름, 설명, 가격 및 결제 주기를 설정할 수 있습니다. 항목을 입력한 후 검토 및 승인을 기다립니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"4843ac6b\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"Xcode 프로젝트 설정\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"앱 내부에서는 Xcode를 사용하여 StoreKit 프레임워크를 설정해야 합니다. StoreKit은 기본적으로 iOS 프로젝트에 포함되어 있으므로 별도의 설치는 필요하지 않습니다.\"}],\"\\n\",[\"$\",\"pre\",\"pre-0\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-swift\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-swift\"]},\"children\":[{\"type\":\"text\",\"value\":\"import StoreKit\\n\"}],\"position\":{\"start\":{\"line\":24,\"column\":1,\"offset\":793},\"end\":{\"line\":26,\"column\":4,\"offset\":821}}},\"children\":\"import StoreKit\\n\"}}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"위의 코드를 프로젝트의 적절한 위치에 추가하여 StoreKit을 가져옵니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"031247c4\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"StoreKit 초기화 및 제품 식별자 설정\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"사용자가 구독을 시작할 수 있도록 코드에서 StoreKit을 초기화하고 제품 식별자를 설정해야 합니다. 다음은 이를 위한 샘플 코드입니다.\"}],\"\\n\",[\"$\",\"pre\",\"pre-1\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-swift\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-swift\"]},\"children\":[{\"type\":\"text\",\"value\":\"class SubscriptionManager: NSObject, SKProductsRequestDelegate, SKPaymentTransactionObserver {\\n    static let shared = SubscriptionManager()\\n    let productIdentifiers: Set\u003cString\u003e = [\\\"com.yourapp.subscription.monthly\\\"]\\n    var products = [SKProduct]()\\n\\n    func requestProducts() {\\n        let request = SKProductsRequest(productIdentifiers: productIdentifiers)\\n        request.delegate = self\\n        request.start()\\n    }\\n\\n    func productsRequest(_ request: SKProductsRequest, didReceive response: SKProductsResponse) {\\n        products = response.products\\n        // 제품 리스트 업데이트 로직\\n    }\\n}\\n\"}],\"position\":{\"start\":{\"line\":34,\"column\":1,\"offset\":975},\"end\":{\"line\":51,\"column\":4,\"offset\":1582}}},\"children\":\"class SubscriptionManager: NSObject, SKProductsRequestDelegate, SKPaymentTransactionObserver {\\n    static let shared = SubscriptionManager()\\n    let productIdentifiers: Set\u003cString\u003e = [\\\"com.yourapp.subscription.monthly\\\"]\\n    var products = [SKProduct]()\\n\\n    func requestProducts() {\\n        let request = SKProductsRequest(productIdentifiers: productIdentifiers)\\n        request.delegate = self\\n        request.start()\\n    }\\n\\n    func productsRequest(_ request: SKProductsRequest, didReceive response: SKProductsResponse) {\\n        products = response.products\\n        // 제품 리스트 업데이트 로직\\n    }\\n}\\n\"}}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"ec2604dd\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"구독 구매 및 상태 관리\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"사용자가 구독을 구매할 수 있도록 프로세스를 설정해야 합니다. 이는 크게 세 단계로 나눌 수 있습니다: 구독 상품 표시, 구매 트랜잭션 처리, 구독 상태 갱신.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"187bc948\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"구독 상품 표시\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"앱 내에서 구독 상품을 사용자에게 보여주는 UI를 구현합니다. 예를 들어, 스토어 화면이나 구독 전용 페이지에 구독 옵션을 나열할 수 있습니다.\"}],\"\\n\",[\"$\",\"pre\",\"pre-2\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-swift\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-swift\"]},\"children\":[{\"type\":\"text\",\"value\":\"func displayProducts() {\\n    // 상품을 표시하는 UI 업데이트 로직\\n    for product in products {\\n        print(\\\"Product: \\\\(product.localizedTitle) - Price: \\\\(product.priceLocale.currencySymbol ?? \\\"\\\")\\\\(product.price)\\\")\\n    }\\n}\\n\"}],\"position\":{\"start\":{\"line\":61,\"column\":1,\"offset\":1789},\"end\":{\"line\":68,\"column\":4,\"offset\":2012}}},\"children\":\"func displayProducts() {\\n    // 상품을 표시하는 UI 업데이트 로직\\n    for product in products {\\n        print(\\\"Product: \\\\(product.localizedTitle) - Price: \\\\(product.priceLocale.currencySymbol ?? \\\"\\\")\\\\(product.price)\\\")\\n    }\\n}\\n\"}}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"63cea9d5\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"구매 트랜잭션 처리\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"사용자가 구독 상품을 선택하면 결제 프로세스를 시작하여 트랜잭션을 처리합니다.\"}],\"\\n\",[\"$\",\"pre\",\"pre-3\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-swift\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-swift\"]},\"children\":[{\"type\":\"text\",\"value\":\"func purchase(product: SKProduct) {\\n    if SKPaymentQueue.canMakePayments() {\\n        let payment = SKPayment(product: product)\\n        SKPaymentQueue.default().add(payment)\\n    } else {\\n        print(\\\"In-app purchases are not allowed\\\")\\n    }\\n}\\n\"}],\"position\":{\"start\":{\"line\":74,\"column\":1,\"offset\":2075},\"end\":{\"line\":83,\"column\":4,\"offset\":2332}}},\"children\":\"func purchase(product: SKProduct) {\\n    if SKPaymentQueue.canMakePayments() {\\n        let payment = SKPayment(product: product)\\n        SKPaymentQueue.default().add(payment)\\n    } else {\\n        print(\\\"In-app purchases are not allowed\\\")\\n    }\\n}\\n\"}}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"5de5d577\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"트랜잭션 업데이트 처리\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":[\"결제 트랜잭션을 처리하고 상태를 관리하기 위해 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"SKPaymentTransactionObserver\",\"position\":{\"start\":{\"line\":87,\"column\":27,\"offset\":2378},\"end\":{\"line\":87,\"column\":57,\"offset\":2408}}}],\"position\":{\"start\":{\"line\":87,\"column\":27,\"offset\":2378},\"end\":{\"line\":87,\"column\":57,\"offset\":2408}}},\"children\":\"SKPaymentTransactionObserver\"}}],\"를 구현합니다.\"]}],\"\\n\",[\"$\",\"pre\",\"pre-4\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-swift\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-swift\"]},\"children\":[{\"type\":\"text\",\"value\":\"func paymentQueue(_ queue: SKPaymentQueue, updatedTransactions transactions: [SKPaymentTransaction]) {\\n    for transaction in transactions {\\n        switch transaction.transactionState {\\n        case .purchased:\\n            // 구독 활성화 로직\\n            SKPaymentQueue.default().finishTransaction(transaction)\\n        case .failed:\\n            // 에러 처리 로직\\n            SKPaymentQueue.default().finishTransaction(transaction)\\n        case .restored:\\n            // 구독 복원 로직\\n            SKPaymentQueue.default().finishTransaction(transaction)\\n        default:\\n            break\\n        }\\n    }\\n}\\n\"}],\"position\":{\"start\":{\"line\":89,\"column\":1,\"offset\":2418},\"end\":{\"line\":107,\"column\":4,\"offset\":3018}}},\"children\":\"func paymentQueue(_ queue: SKPaymentQueue, updatedTransactions transactions: [SKPaymentTransaction]) {\\n    for transaction in transactions {\\n        switch transaction.transactionState {\\n        case .purchased:\\n            // 구독 활성화 로직\\n            SKPaymentQueue.default().finishTransaction(transaction)\\n        case .failed:\\n            // 에러 처리 로직\\n            SKPaymentQueue.default().finishTransaction(transaction)\\n        case .restored:\\n            // 구독 복원 로직\\n            SKPaymentQueue.default().finishTransaction(transaction)\\n        default:\\n            break\\n        }\\n    }\\n}\\n\"}}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"e53fdd54\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"결제 영수증 검증 및 구독 상태 확인\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"구독 상태를 정확히 관리하려면 결제 영수증을 검증하고 사용자의 구독 상태를 주기적으로 확인해야 합니다. 이는 보안상의 이유로 백엔드 서버에서 처리하는 것이 가장 좋습니다. 백엔드 서버는 Apple의 영수증 검증 API를 이용해 사용자의 구독 상태를 검증할 수 있습니다.\"}],\"\\n\",[\"$\",\"pre\",\"pre-5\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-swift\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-swift\"]},\"children\":[{\"type\":\"text\",\"value\":\"func verifyReceipt() {\\n    // 백엔드 서버로 영수증 데이터 전송 및 검증 로직\\n}\\n\"}],\"position\":{\"start\":{\"line\":113,\"column\":1,\"offset\":3197},\"end\":{\"line\":117,\"column\":4,\"offset\":3268}}},\"children\":\"func verifyReceipt() {\\n    // 백엔드 서버로 영수증 데이터 전송 및 검증 로직\\n}\\n\"}}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"f48dcfc1\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"구독 관리 및 갱신\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"사용자는 언제든지 자신의 구독을 관리하고 갱신할 수 있어야 합니다. 이를 위해 앱 내에서 사용자에게 구독 상태를 표시하고, 필요시 갱신 또는 해지할 수 있는 기능을 제공해야 합니다.\"}],\"\\n\",[\"$\",\"pre\",\"pre-6\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-swift\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-swift\"]},\"children\":[{\"type\":\"text\",\"value\":\"func manageSubscriptions() {\\n    if let url = URL(string: \\\"https://apps.apple.com/account/subscriptions\\\") {\\n        UIApplication.shared.open(url)\\n    }\\n}\\n\"}],\"position\":{\"start\":{\"line\":123,\"column\":1,\"offset\":3388},\"end\":{\"line\":129,\"column\":4,\"offset\":3555}}},\"children\":\"func manageSubscriptions() {\\n    if let url = URL(string: \\\"https://apps.apple.com/account/subscriptions\\\") {\\n        UIApplication.shared.open(url)\\n    }\\n}\\n\"}}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"ed8464a3\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"마무리\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"iOS 앱에서 StoreKit을 이용해 구독 모델을 구현하는 것은 복잡하지만, 위에서 설명한 단계를 따르면 사용자에게 원활한 구독 경험을 제공할 수 있습니다. 올바르게 설계된 구독 모델은 애플리케이션의 수익성을 높이고 사용자 유지율을 향상시킬 수 있습니다.\"}]]}]}],[\"$\",\"$L10\",null,{}]]}],[\"$\",\"div\",null,{\"className\":\"xl:flex hidden w-[300px]\",\"children\":[\"$\",\"$L11\",null,{\"articleTitle\":\"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리\",\"toc\":[{\"tagName\":\"h1\",\"title\":\"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리\",\"id\":\"a79d9838\"},{\"tagName\":\"h2\",\"title\":\"준비 작업\",\"id\":\"f60ef07c\"},{\"tagName\":\"h3\",\"title\":\"Apple Developer 계정 설정\",\"id\":\"4199ffbf\"},{\"tagName\":\"h3\",\"title\":\"Xcode 프로젝트 설정\",\"id\":\"4843ac6b\"},{\"tagName\":\"h2\",\"title\":\"StoreKit 초기화 및 제품 식별자 설정\",\"id\":\"031247c4\"},{\"tagName\":\"h2\",\"title\":\"구독 구매 및 상태 관리\",\"id\":\"ec2604dd\"},{\"tagName\":\"h3\",\"title\":\"구독 상품 표시\",\"id\":\"187bc948\"},{\"tagName\":\"h3\",\"title\":\"구매 트랜잭션 처리\",\"id\":\"63cea9d5\"},{\"tagName\":\"h3\",\"title\":\"트랜잭션 업데이트 처리\",\"id\":\"5de5d577\"},{\"tagName\":\"h2\",\"title\":\"결제 영수증 검증 및 구독 상태 확인\",\"id\":\"e53fdd54\"},{\"tagName\":\"h2\",\"title\":\"구독 관리 및 갱신\",\"id\":\"f48dcfc1\"},{\"tagName\":\"h2\",\"title\":\"마무리\",\"id\":\"ed8464a3\"}],\"language\":\"kr\"}]}]]}]]\n"])</script><script>self.__next_f.push([1,"5:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리 | 마고자비 블로그\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"이 문서는 iOS 애플리케이션에서 StoreKit을 이용하여 구독 모델을 구현하는 방법을 다룹니다. 반복 결제 시스템 설계와 구독 상태 관리에 대한 자세한 설명을 제공합니다.\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"iOS,StoreKit,구독 모델,반복 결제\"}],[\"$\",\"meta\",\"4\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no\"}],[\"$\",\"link\",\"5\",{\"rel\":\"canonical\",\"href\":\"https://magomercy.com/swift/iOS-%EA%B5%AC%EB%8F%85-%EB%AA%A8%EB%8D%B8-%EA%B5%AC%ED%98%84-StoreKit%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%98%EB%B3%B5-%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B4%80%EB%A6%AC-aae7a94b\"}],[\"$\",\"meta\",\"6\",{\"name\":\"apple-mobile-web-app-capable\",\"content\":\"yes\"}],[\"$\",\"meta\",\"7\",{\"name\":\"apple-mobile-web-app-title\",\"content\":\"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리 | 마고자비 블로그\"}],[\"$\",\"meta\",\"8\",{\"name\":\"apple-mobile-web-app-status-bar-style\",\"content\":\"default\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:title\",\"content\":\"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리 | 마고자비 블로그\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:description\",\"content\":\"이 문서는 iOS 애플리케이션에서 StoreKit을 이용하여 구독 모델을 구현하는 방법을 다룹니다. 반복 결제 시스템 설계와 구독 상태 관리에 대한 자세한 설명을 제공합니다.\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:url\",\"content\":\"https://magomercy.com/swift/iOS-%EA%B5%AC%EB%8F%85-%EB%AA%A8%EB%8D%B8-%EA%B5%AC%ED%98%84-StoreKit%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%98%EB%B3%B5-%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B4%80%EB%A6%AC-aae7a94b\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:site_name\",\"content\":\"마고자비 블로그 | 마구잡이로 하고 싶은 것을 합니다.\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:locale\",\"content\":\"kr\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image\",\"content\":\"https://magomercy.com/images/swiftBanner2.jpg\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:creator\",\"content\":\"마고자비 블로그\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:title\",\"content\":\"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리 | 마고자비 블로그\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:description\",\"content\":\"이 문서는 iOS 애플리케이션에서 StoreKit을 이용하여 구독 모델을 구현하는 방법을 다룹니다. 반복 결제 시스템 설계와 구독 상태 관리에 대한 자세한 설명을 제공합니다.\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image\",\"content\":\"https://magomercy.com/images/swiftBanner2.jpg\"}],[\"$\",\"link\",\"21\",{\"rel\":\"icon\",\"href\":\"https://magomercy.com/favicon32.png\"}],[\"$\",\"link\",\"22\",{\"rel\":\"apple-touch-icon\",\"href\":\"https://magomercy.com/favicon32.png\"}],[\"$\",\"meta\",\"23\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"a:null\n"])</script></body></html>