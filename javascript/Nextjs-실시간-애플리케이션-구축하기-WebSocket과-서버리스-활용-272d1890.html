<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/><link rel="preload" as="font" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/98e4530578c425d7.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-2f2428fbb7549638.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-695585668d16e3fb.js" async=""></script><script src="/_next/static/chunks/596-e6a99af3279f5db8.js" async=""></script><script src="/_next/static/chunks/main-app-8d8e64378ebd25aa.js" async=""></script><link rel="preload" as="script" href="https://www.googletagmanager.com/gtag/js?id=G-DRZBQ8XGPS"/><title>Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용 | 마고자비 블로그</title><meta name="description" content="이 글에서는 최신 JavaScript 프레임워크인 Next.js를 사용하여 실시간 애플리케이션을 구축하는 방법에 대해 알아봅니다. 특히, 실시간 통신을 위해 WebSocket을 사용하고, 백엔드 서버리스 환경을 활용하는 방법을 자세히 설명합니다."/><meta name="keywords" content="Next.js,WebSocket,서버리스,실시간 애플리케이션"/><link rel="canonical" href="https://magomercy.com/javascript/Nextjs-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-WebSocket%EA%B3%BC-%EC%84%9C%EB%B2%84%EB%A6%AC%EC%8A%A4-%ED%99%9C%EC%9A%A9-272d1890"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-title" content="Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용 | 마고자비 블로그"/><meta name="apple-mobile-web-app-status-bar-style" content="default"/><meta property="og:title" content="Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용 | 마고자비 블로그"/><meta property="og:description" content="이 글에서는 최신 JavaScript 프레임워크인 Next.js를 사용하여 실시간 애플리케이션을 구축하는 방법에 대해 알아봅니다. 특히, 실시간 통신을 위해 WebSocket을 사용하고, 백엔드 서버리스 환경을 활용하는 방법을 자세히 설명합니다."/><meta property="og:url" content="https://magomercy.com/javascript/Nextjs-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-WebSocket%EA%B3%BC-%EC%84%9C%EB%B2%84%EB%A6%AC%EC%8A%A4-%ED%99%9C%EC%9A%A9-272d1890"/><meta property="og:site_name" content="마고자비 블로그 | 마구잡이로 하고 싶은 것을 합니다."/><meta property="og:locale" content="kr"/><meta property="og:image" content="https://magomercy.com/images/javascriptBanner2.jpg"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:creator" content="마고자비 블로그"/><meta name="twitter:title" content="Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용 | 마고자비 블로그"/><meta name="twitter:description" content="이 글에서는 최신 JavaScript 프레임워크인 Next.js를 사용하여 실시간 애플리케이션을 구축하는 방법에 대해 알아봅니다. 특히, 실시간 통신을 위해 WebSocket을 사용하고, 백엔드 서버리스 환경을 활용하는 방법을 자세히 설명합니다."/><meta name="twitter:image" content="https://magomercy.com/images/javascriptBanner2.jpg"/><link rel="icon" href="https://magomercy.com/favicon32.png"/><link rel="apple-touch-icon" href="https://magomercy.com/favicon32.png"/><meta name="next-size-adjust"/><meta name="google-site-verification" content="WaKebxnU_qX7Mu3Qu9GWWzpa_7KmuUe8QEsu6fKv3bc"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_aaf875"><div class="flex flex-col w-full fixed top-[0px] z-50 "><header class="flex flex-row justify-center w-[100%] sm:h-[80px] h-[60px]  "><div class="flex justify-between items-center xl:w-[1200px] w-[100%] sm:px-[40px] px-[20px]"><a href="/"><img alt="로고" loading="lazy" width="140" height="35" decoding="async" data-nimg="1" class="sm:block hidden" style="color:transparent" src="/dallogLogo.png"/><img alt="로고" loading="lazy" width="104" height="26" decoding="async" data-nimg="1" class="sm:hidden" style="color:transparent" src="/dallogLogoDark.png"/></a><nav><ul class="flex flex-row md:gap-[20px] gap-[10px]"><li><a href="/search" target="_blank"><div class="sm:flex hidden items-center h-[40px] px-[18px]  rounded-[100px] text-[15px] text-gray-100 gap-[4px] "><img alt="검색 아이콘" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" style="color:transparent" src="/search.png"/>검색</div><div class="sm:hidden flex justify-center items-center h-[40px] w-[40px]"><img alt="검색 아이콘" loading="lazy" width="22" height="22" decoding="async" data-nimg="1" class="sm:hidden" style="color:transparent" src="/search_dark.png"/></div></a></li><li><a href="/profile" target="_blank"><div class="sm:flex hidden items-center h-[40px] px-[18px] rounded-[100px] "><img alt="프로필 아이콘" loading="lazy" width="24" height="24" decoding="async" data-nimg="1" style="color:transparent" src="/i_person.png"/></div><div class="sm:hidden flex justify-center items-center h-[40px] w-[40px]"><img alt="프로필 아이콘" loading="lazy" width="28" height="28" decoding="async" data-nimg="1" style="color:transparent" src="/i_person_dark.png"/></div></a></li></ul></nav></div></header><div class="w-full flex flex-row justify-start"><div class="h-[2px] bg-[#F2D024] filter-blur-4" style="width:0%"></div></div></div><section class="flex fixed top-0 left-0 w-full  md:h-[600px] h-[300px] justify-center" style="background-image:url(/images/javascriptBanner2.jpg);background-position:center;background-size:contain;background-repeat:no-repeat"><div class="w-full md:h-[600px] h-[300px]  bg-[#171E24] bg-opacity-[0.35] absolute top-0 left-0"></div><div class="hidden md:flex flex-col justify-end w-[100%] md:w-[700px] px-[20px] pb-[100px]"><h1 class="font-semibold text-[40px] text-gray-100 text-shadow-default z-40">Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용</h1></div></section><main class="flex flex-row justify-center md:py-[120px] py-[60px] bg-white md:mt-[600px] mt-[300px] relative z-30 "><div class="xl:flex hidden w-[300px]"><div class="toc sticky top-[90px] flex flex-col"><div class="googleAd-container" style="width:100%;padding-left:30px;padding-right:30px"><ins class="adsbygoogle" style="display:block" data-ad-slot="9496760534" data-ad-format="auto" data-full-width-responsive="true"></ins></div></div></div><article class="flex flex-col w-full md:w-[600px] px-[20px] md:px-[0px] gap-[40px]"><div class="md:hidden border-b-[0.6px] pb-[40px] border-gray-200"><h1 class="text-[28px] font-bold leading-[150%]">Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용</h1></div><div class="flex flex-col"><div class="googleAd-container" style="width:100%"><ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-6t+ed+2i-1n-4w" data-ad-client="ca-pub-4221532240017712" data-ad-slot="5421225677"></ins></div><div>작성일 : <time>2024-07-19</time></div></div><div><div class="md-to-html"><h1 id="cc5ca874" class="md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900">Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용</h1>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">Next.js는 React와 함께 사용되는 인기 있는 JavaScript 프레임워크로, 서버 사이드 렌더링(SSR)과 정적 웹사이트 생성을 모두 지원합니다. 실시간 애플리케이션을 구축하기 위해 Next.js와 WebSocket을 결합하면, 사용자가 즉각적으로 변화를 경험하도록 할 수 있습니다. 이 글에서는 이러한 실시간 기능을 서버리스 환경에서 구현하는 방법을 소개하겠습니다.</p>
<h2 id="06fc0244" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">Next.js 소개</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">Next.js는 Vercel에서 개발한 React 애플리케이션을 위한 프레임워크로, 서버 사이드 렌더링과 정적 사이트 생성을 용이하게 만듭니다. 여기서 주목할 부분은 Next.js가 페이지 수준에서 자동 코드 분할을 제공하여 초기 로딩 속도를 크게 향상시킨다는 점입니다.</p>
<h3 id="f8cad7b0" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">주요 특징</h3>
<ul>
<li><strong class="font-black">서버 사이드 렌더링(SSR)</strong>: 페이지 로드를 위한 최적화된 HTML을 생성하여 초기 페이지 로드 속도를 높입니다.</li>
<li><strong class="font-black">정적 사이트 생성(SSG)</strong>: Build 시점에 HTML을 생성하여 빠른 정적 페이지를 제공합니다.</li>
<li><strong class="font-black">API Routes</strong>: 백엔드 서버 설정 없이 API를 생성할 수 있습니다.</li>
</ul>
<h2 id="e1ff1ce7" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">WebSocket 개요</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">WebSocket은 HTTP와 달리, 클라이언트와 서버 간의 양방향 통신을 가능하게 하는 프로토콜입니다. 일반적으로 실시간 데이터 전송이 필요한 채팅 애플리케이션이나 온라인 게임 등에 사용됩니다. WebSocket은 연결이 초기화된 후, 지속적인 연결 상태를 유지하여 데이터를 주고 받기 때문에 실시간 데이터 전송에 매우 효율적입니다.</p>
<h2 id="1b3c7a58" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">서버리스 개요</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">서버리스 아키텍처는 서버 관리를 필요로 하지 않는 클라우드 컴퓨팅 실행 모델입니다. AWS Lambda, Google Cloud Functions와 같은 서버리스 플랫폼을 통해 컴퓨팅 자원을 자동으로 관리하고, 이벤트 기반으로 짧은 시간 동안 애플리케이션 코드를 실행할 수 있습니다.</p>
<h2 id="f97ba9b0" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">실시간 애플리케이션 구축하기</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">이제 Next.js, WebSocket, 그리고 서버리스 환경을 활용하여 실시간 애플리케이션을 구축해 보겠습니다.</p>
<h3 id="ff165eab" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">프로젝트 초기 설정</h3>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">먼저 Next.js 프로젝트를 생성합니다.</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>bash</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-bash" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>npx create-next-app@latest 실시간-애플리케이션
</span><span></span><span class="token" style="color:hsl(29, 54%, 61%)">cd</span><span> 실시간-애플리케이션</span></code></pre></div></pre>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">프로젝트가 생성되면 필요한 의존성을 설치합니다.</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>bash</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-bash" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(207, 82%, 66%)">npm</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">install</span><span> ws
</span><span></span><span class="token" style="color:hsl(207, 82%, 66%)">npm</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">install</span><span> @vercel/node</span></code></pre></div></pre>
<h3 id="95b0328b" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">서버리스 함수 구현</h3>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">이제 서버리스 함수로 WebSocket 서버를 설정해 보겠습니다. <code node="[object Object]">pages/api</code> 폴더에 새로운 파일을 생성합니다.</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>javascript</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-javascript" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// pages/api/socket.js</span><span>
</span><span></span><span class="token module" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Server</span><span class="token imports"> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;ws&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span></span><span class="token module" style="color:hsl(286, 60%, 67%)">export</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">default</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">handler</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token parameter">req</span><span class="token parameter" style="color:hsl(220, 14%, 71%)">,</span><span class="token parameter"> res</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(207, 82%, 66%)">!</span><span>res</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">socket</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">server</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">ws</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> wsServer </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">new</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">Server</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> </span><span class="token literal-property" style="color:hsl(355, 65%, 65%)">server</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> res</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">socket</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">server</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span>    wsServer</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">on</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;connection&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token parameter">socket</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>      socket</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">on</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;message&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token parameter">data</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> message </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token known-class-name" style="color:hsl(29, 54%, 61%)">JSON</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">parse</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>data</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>        wsServer</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">clients</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">forEach</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token parameter">client</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>          </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>client </span><span class="token" style="color:hsl(207, 82%, 66%)">!==</span><span> socket </span><span class="token" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span> client</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">readyState</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">===</span><span> client</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(29, 54%, 61%)">OPEN</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>            client</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">send</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token known-class-name" style="color:hsl(29, 54%, 61%)">JSON</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">stringify</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>message</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>          </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>      </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span>    res</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">socket</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">server</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">ws</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> wsServer</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>  res</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">end</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">이 코드 블록은 WebSocket 서버를 설정하고, 서버리스 환경에서 다수의 클라이언트 간 메세지를 송수신 할 수 있도록 합니다.</p>
<h3 id="403a6881" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">클라이언트 구현</h3>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">이제 클라이언트에서 WebSocket을 설정하고 통신을 시작합니다.</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>javascript</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-javascript" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// pages/index.js</span><span>
</span><span></span><span class="token module" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">{</span><span class="token imports"> useEffect</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> useState </span><span class="token imports" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;react&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span></span><span class="token module" style="color:hsl(286, 60%, 67%)">export</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">default</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token maybe-class-name" style="color:hsl(207, 82%, 66%)">Home</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>messages</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> setMessages</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">useState</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>message</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> setMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">useState</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span>  </span><span class="token" style="color:hsl(207, 82%, 66%)">useEffect</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> socket </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">new</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">WebSocket</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;ws://localhost:3000/api/socket&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span>    socket</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method-variable function-variable method property-access" style="color:hsl(207, 82%, 66%)">onmessage</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token parameter">event</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>      </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> newMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token known-class-name" style="color:hsl(29, 54%, 61%)">JSON</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">parse</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>event</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">data</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>      </span><span class="token" style="color:hsl(207, 82%, 66%)">setMessages</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token parameter">prevMessages</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token spread" style="color:hsl(207, 82%, 66%)">...</span><span>prevMessages</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> newMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> socket</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">close</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token function-variable" style="color:hsl(207, 82%, 66%)">sendMessage</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> socket </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">new</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">WebSocket</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;ws://localhost:3000/api/socket&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    socket</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method-variable function-variable method property-access" style="color:hsl(207, 82%, 66%)">onopen</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>      socket</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">send</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token known-class-name" style="color:hsl(29, 54%, 61%)">JSON</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">stringify</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> </span><span class="token literal-property" style="color:hsl(355, 65%, 65%)">text</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> message </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>      </span><span class="token" style="color:hsl(207, 82%, 66%)">setMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>
</span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span>div</span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span>
</span><span>      </span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span>h1</span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span>실시간 채팅 애플리케이션</span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token" style="color:hsl(207, 82%, 66%)">/</span><span>h1</span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span>
</span><span>      </span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span>div</span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>messages</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">map</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token parameter">msg</span><span class="token parameter" style="color:hsl(220, 14%, 71%)">,</span><span class="token parameter"> i</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>
</span><span>          </span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span>p key</span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>i</span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>msg</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">text</span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token" style="color:hsl(207, 82%, 66%)">/</span><span>p</span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>      </span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token" style="color:hsl(207, 82%, 66%)">/</span><span>div</span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span>
</span><span>      </span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span>input
</span><span>        type</span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;text&#x27;</span><span>
</span><span>        value</span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>message</span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>        onChange</span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token parameter">e</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">setMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>e</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">target</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">value</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>      </span><span class="token" style="color:hsl(207, 82%, 66%)">/</span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span>
</span><span>      </span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span>button onClick</span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>sendMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span>전송</span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token" style="color:hsl(207, 82%, 66%)">/</span><span>button</span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span>
</span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token" style="color:hsl(207, 82%, 66%)">/</span><span>div</span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span>
</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">이제 Next.js 페이지가 WebSocket을 통해 실시간 소통을 할 수 있게 되었습니다. <code node="[object Object]">useEffect</code>를 사용하여 컴포넌트가 마운트될 때 WebSocket 연결을 설정하고, 새로운 메시지가 수신될 때마다 상태를 업데이트합니다.</p>
<h2 id="5b12bcf2" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">결론</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">이번 글에서는 Next.js를 사용하여 서버리스 환경에서 WebSocket을 통해 실시간 애플리케이션을 구축하는 방법을 알아보았습니다. 이러한 접근 방식은 서버 관리를 단순화하면서도 고성능의 실시간 경험을 제공할 수 있습니다. 이를 통해 다양한 실시간 애플리케이션, 예를 들어 채팅 애플리케이션, 주식 거래 플랫폼, 라이브 데이터 대시보드 등을 쉽게 구현할 수 있게 되었습니다. 앞으로도 Next.js와 같은 최신 기술을 통해 더욱 효과적이고 효율적인 개발을 계속해 나가시기 바랍니다.</p></div></div><div class="googleAd-container" style="width:100%"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-4221532240017712" data-ad-slot="6323802284"></ins></div></article><div class="xl:flex hidden w-[300px]"><section class="flex flex-col pl-[30px] "><div class="toc sticky top-[90px] flex flex-col"><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-medium py-[5px]" href="#cc5ca874">Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#06fc0244">Next.js 소개</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#f8cad7b0">주요 특징</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#e1ff1ce7">WebSocket 개요</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#1b3c7a58">서버리스 개요</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#f97ba9b0">실시간 애플리케이션 구축하기</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#ff165eab">프로젝트 초기 설정</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#95b0328b">서버리스 함수 구현</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#403a6881">클라이언트 구현</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#5b12bcf2">결론</a><div class="googleAd-container" style="width:100%;padding-left:30px;padding-right:30px"><ins class="adsbygoogle" style="display:block" data-ad-slot="9496760534" data-ad-format="auto" data-full-width-responsive="true"></ins></div></div></section></div></main><script src="/_next/static/chunks/webpack-2f2428fbb7549638.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/98e4530578c425d7.css\",{\"as\":\"style\"}]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:I{\"id\":57948,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n6:I{\"id\":56628,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":42879,\"chunks\":[\"185:static/chunks/app/layout-b198f10c98e34978.js\"],\"name\":\"GoogleAnalytics\",\"async\":false}\n8:I{"])</script><script>self.__next_f.push([1,"\"id\":47767,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n9:I{\"id\":57920,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/98e4530578c425d7.css\",\"precedence\":\"next\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"BTzIZmIeYXT3BlsSUt3SU\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/javascript/Nextjs-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-WebSocket%EA%B3%BC-%EC%84%9C%EB%B2%84%EB%A6%AC%EC%8A%A4-%ED%99%9C%EC%9A%A9-272d1890\",\"initialTree\":[\"\",{\"children\":[\"javascript\",{\"children\":[[\"slug\",\"Nextjs-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-WebSocket%EA%B3%BC-%EC%84%9C%EB%B2%84%EB%A6%AC%EC%8A%A4-%ED%99%9C%EC%9A%A9-272d1890\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"Nextjs-실시간-애플리케이션-구축하기-WebSocket과-서버리스-활용-272d1890\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L5\"],\"globalErrorComponent\":\"$6\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[[\"$\",\"$L7\",null,{}],[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"javascript\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"javascript\",\"children\",[\"slug\",\"Nextjs-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-WebSocket%EA%B3%BC-%EC%84%9C%EB%B2%84%EB%A6%AC%EC%8A%A4-%ED%99%9C%EC%9A%A9-272d1890\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$La\",\"$Lb\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"Nextjs-실시간-애플리케이션-구축하기-WebSocket과-서버리스-활용-272d1890\\\"}\"},\"styles\":[]}],\"segment\":[\"slug\",\"Nextjs-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-WebSocket%EA%B3%BC-%EC%84%9C%EB%B2%84%EB%A6%AC%EC%8A%A4-%ED%99%9C%EC%9A%A9-272d1890\",\"d\"]},\"styles\":[]}],\"segment\":\"javascript\"},\"styles\":[]}]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"c:I{\"id\":22873,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"172:static/chunks/app/javascript/[slug]/page-5d9f0fdf07008d20.js\"],\"name\":\"\",\"async\":false}\nd:I{\"id\":84423,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"172:static/chunks/app/javascript/[slug]/page-5d9f0fdf07008d20.js\"],\"name\":\"\",\"async\":false}\ne:I{\"id\":234"])</script><script>self.__next_f.push([1,"6,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"172:static/chunks/app/javascript/[slug]/page-5d9f0fdf07008d20.js\"],\"name\":\"\",\"async\":false}\nf:I{\"id\":67490,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"172:static/chunks/app/javascript/[slug]/page-5d9f0fdf07008d20.js\"],\"name\":\"MarkDownCode\",\"async\":false}\n12:I{\"id\":872"])</script><script>self.__next_f.push([1,"72,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"172:static/chunks/app/javascript/[slug]/page-5d9f0fdf07008d20.js\"],\"name\":\"\",\"async\":false}\n13:I{\"id\":55026,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"172:static/chunks/app/javascript/[slug]/page-5d9f0fdf07008d20.js\"],\"name\":\"\",\"async\":false}\n10:T42f,"])</script><script>self.__next_f.push([1,"// pages/index.js\nimport { useEffect, useState } from 'react';\n\nexport default function Home() {\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState('');\n\n  useEffect(() =\u003e {\n    const socket = new WebSocket('ws://localhost:3000/api/socket');\n\n    socket.onmessage = (event) =\u003e {\n      const newMessage = JSON.parse(event.data);\n      setMessages((prevMessages) =\u003e [...prevMessages, newMessage]);\n    };\n\n    return () =\u003e socket.close();\n  }, []);\n\n  const sendMessage = () =\u003e {\n    const socket = new WebSocket('ws://localhost:3000/api/socket');\n    socket.onopen = () =\u003e {\n      socket.send(JSON.stringify({ text: message }));\n      setMessage('');\n    };\n  };\n\n  return (\n    \u003cdiv\u003e\n      \u003ch1\u003e실시간 채팅 애플리케이션\u003c/h1\u003e\n      \u003cdiv\u003e\n        {messages.map((msg, i) =\u003e (\n          \u003cp key={i}\u003e{msg.text}\u003c/p\u003e\n        ))}\n      \u003c/div\u003e\n      \u003cinput\n        type='text'\n        value={message}\n        onChange={(e) =\u003e setMessage(e.target.value)}\n      /\u003e\n      \u003cbutton onClick={sendMessage}\u003e전송\u003c/button\u003e\n    \u003c/div\u003e\n  );\n}\n"])</script><script>self.__next_f.push([1,"11:T42f,"])</script><script>self.__next_f.push([1,"// pages/index.js\nimport { useEffect, useState } from 'react';\n\nexport default function Home() {\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState('');\n\n  useEffect(() =\u003e {\n    const socket = new WebSocket('ws://localhost:3000/api/socket');\n\n    socket.onmessage = (event) =\u003e {\n      const newMessage = JSON.parse(event.data);\n      setMessages((prevMessages) =\u003e [...prevMessages, newMessage]);\n    };\n\n    return () =\u003e socket.close();\n  }, []);\n\n  const sendMessage = () =\u003e {\n    const socket = new WebSocket('ws://localhost:3000/api/socket');\n    socket.onopen = () =\u003e {\n      socket.send(JSON.stringify({ text: message }));\n      setMessage('');\n    };\n  };\n\n  return (\n    \u003cdiv\u003e\n      \u003ch1\u003e실시간 채팅 애플리케이션\u003c/h1\u003e\n      \u003cdiv\u003e\n        {messages.map((msg, i) =\u003e (\n          \u003cp key={i}\u003e{msg.text}\u003c/p\u003e\n        ))}\n      \u003c/div\u003e\n      \u003cinput\n        type='text'\n        value={message}\n        onChange={(e) =\u003e setMessage(e.target.value)}\n      /\u003e\n      \u003cbutton onClick={sendMessage}\u003e전송\u003c/button\u003e\n    \u003c/div\u003e\n  );\n}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"$Lc\",null,{\"language\":\"kr\",\"screenType\":\"ARTICLE_DETAIL\"}],[\"$\",\"section\",null,{\"className\":\"flex fixed top-0 left-0 w-full  md:h-[600px] h-[300px] justify-center\",\"style\":{\"backgroundImage\":\"url(/images/javascriptBanner2.jpg)\",\"backgroundPosition\":\"center\",\"backgroundSize\":\"contain\",\"backgroundRepeat\":\"no-repeat\"},\"children\":[[\"$\",\"div\",null,{\"className\":\"w-full md:h-[600px] h-[300px]  bg-[#171E24] bg-opacity-[0.35] absolute top-0 left-0\"}],[\"$\",\"div\",null,{\"className\":\"hidden md:flex flex-col justify-end w-[100%] md:w-[700px] px-[20px] pb-[100px]\",\"children\":[\"$\",\"h1\",null,{\"className\":\"font-semibold text-[40px] text-gray-100 text-shadow-default z-40\",\"children\":\"Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용\"}]}]]}],[\"$\",\"main\",null,{\"className\":\"flex flex-row justify-center md:py-[120px] py-[60px] bg-white md:mt-[600px] mt-[300px] relative z-30 \",\"children\":[[\"$\",\"div\",null,{\"className\":\"xl:flex hidden w-[300px]\",\"children\":[\"$\",\"div\",null,{\"className\":\"toc sticky top-[90px] flex flex-col\",\"children\":[\"$\",\"$Ld\",null,{}]}]}],[\"$\",\"article\",null,{\"className\":\"flex flex-col w-full md:w-[600px] px-[20px] md:px-[0px] gap-[40px]\",\"children\":[[\"$\",\"div\",null,{\"className\":\"md:hidden border-b-[0.6px] pb-[40px] border-gray-200\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-[28px] font-bold leading-[150%]\",\"children\":\"Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용\"}]}],[\"$\",\"div\",null,{\"className\":\"flex flex-col\",\"children\":[[\"$\",\"$Le\",null,{}],[\"$\",\"div\",null,{\"children\":[\"작성일 : \",[\"$\",\"time\",null,{\"children\":\"2024-07-19\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"md-to-html\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"cc5ca874\",\"className\":\"md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900\",\"children\":\"Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"Next.js는 React와 함께 사용되는 인기 있는 JavaScript 프레임워크로, 서버 사이드 렌더링(SSR)과 정적 웹사이트 생성을 모두 지원합니다. 실시간 애플리케이션을 구축하기 위해 Next.js와 WebSocket을 결합하면, 사용자가 즉각적으로 변화를 경험하도록 할 수 있습니다. 이 글에서는 이러한 실시간 기능을 서버리스 환경에서 구현하는 방법을 소개하겠습니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"06fc0244\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"Next.js 소개\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"Next.js는 Vercel에서 개발한 React 애플리케이션을 위한 프레임워크로, 서버 사이드 렌더링과 정적 사이트 생성을 용이하게 만듭니다. 여기서 주목할 부분은 Next.js가 페이지 수준에서 자동 코드 분할을 제공하여 초기 로딩 속도를 크게 향상시킨다는 점입니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"f8cad7b0\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"주요 특징\"}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-black\",\"children\":\"서버 사이드 렌더링(SSR)\"}],\": 페이지 로드를 위한 최적화된 HTML을 생성하여 초기 페이지 로드 속도를 높입니다.\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-black\",\"children\":\"정적 사이트 생성(SSG)\"}],\": Build 시점에 HTML을 생성하여 빠른 정적 페이지를 제공합니다.\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-black\",\"children\":\"API Routes\"}],\": 백엔드 서버 설정 없이 API를 생성할 수 있습니다.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"e1ff1ce7\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"WebSocket 개요\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"WebSocket은 HTTP와 달리, 클라이언트와 서버 간의 양방향 통신을 가능하게 하는 프로토콜입니다. 일반적으로 실시간 데이터 전송이 필요한 채팅 애플리케이션이나 온라인 게임 등에 사용됩니다. WebSocket은 연결이 초기화된 후, 지속적인 연결 상태를 유지하여 데이터를 주고 받기 때문에 실시간 데이터 전송에 매우 효율적입니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"1b3c7a58\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"서버리스 개요\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"서버리스 아키텍처는 서버 관리를 필요로 하지 않는 클라우드 컴퓨팅 실행 모델입니다. AWS Lambda, Google Cloud Functions와 같은 서버리스 플랫폼을 통해 컴퓨팅 자원을 자동으로 관리하고, 이벤트 기반으로 짧은 시간 동안 애플리케이션 코드를 실행할 수 있습니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"f97ba9b0\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"실시간 애플리케이션 구축하기\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"이제 Next.js, WebSocket, 그리고 서버리스 환경을 활용하여 실시간 애플리케이션을 구축해 보겠습니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"ff165eab\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"프로젝트 초기 설정\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"먼저 Next.js 프로젝트를 생성합니다.\"}],\"\\n\",[\"$\",\"pre\",\"pre-0\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-bash\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-bash\"]},\"children\":[{\"type\":\"text\",\"value\":\"npx create-next-app@latest 실시간-애플리케이션\\ncd 실시간-애플리케이션\\n\"}],\"position\":{\"start\":{\"line\":32,\"column\":1,\"offset\":1124},\"end\":{\"line\":35,\"column\":4,\"offset\":1187}}},\"children\":\"npx create-next-app@latest 실시간-애플리케이션\\ncd 실시간-애플리케이션\\n\"}}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"프로젝트가 생성되면 필요한 의존성을 설치합니다.\"}],\"\\n\",[\"$\",\"pre\",\"pre-1\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-bash\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-bash\"]},\"children\":[{\"type\":\"text\",\"value\":\"npm install ws\\nnpm install @vercel/node\\n\"}],\"position\":{\"start\":{\"line\":39,\"column\":1,\"offset\":1217},\"end\":{\"line\":42,\"column\":4,\"offset\":1268}}},\"children\":\"npm install ws\\nnpm install @vercel/node\\n\"}}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"95b0328b\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"서버리스 함수 구현\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":[\"이제 서버리스 함수로 WebSocket 서버를 설정해 보겠습니다. \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"pages/api\",\"position\":{\"start\":{\"line\":46,\"column\":38,\"offset\":1323},\"end\":{\"line\":46,\"column\":49,\"offset\":1334}}}],\"position\":{\"start\":{\"line\":46,\"column\":38,\"offset\":1323},\"end\":{\"line\":46,\"column\":49,\"offset\":1334}}},\"children\":\"pages/api\"}}],\" 폴더에 새로운 파일을 생성합니다.\"]}],\"\\n\",[\"$\",\"pre\",\"pre-2\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-javascript\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-javascript\"]},\"children\":[{\"type\":\"text\",\"value\":\"// pages/api/socket.js\\nimport { Server } from 'ws';\\n\\nexport default function handler(req, res) {\\n  if (!res.socket.server.ws) {\\n    const wsServer = new Server({ server: res.socket.server });\\n\\n    wsServer.on('connection', socket =\u003e {\\n      socket.on('message', data =\u003e {\\n        const message = JSON.parse(data);\\n        wsServer.clients.forEach(client =\u003e {\\n          if (client !== socket \u0026\u0026 client.readyState === client.OPEN) {\\n            client.send(JSON.stringify(message));\\n          }\\n        });\\n      });\\n    });\\n\\n    res.socket.server.ws = wsServer;\\n  }\\n  res.end();\\n}\\n\"}],\"position\":{\"start\":{\"line\":48,\"column\":1,\"offset\":1355},\"end\":{\"line\":71,\"column\":4,\"offset\":1952}}},\"children\":\"// pages/api/socket.js\\nimport { Server } from 'ws';\\n\\nexport default function handler(req, res) {\\n  if (!res.socket.server.ws) {\\n    const wsServer = new Server({ server: res.socket.server });\\n\\n    wsServer.on('connection', socket =\u003e {\\n      socket.on('message', data =\u003e {\\n        const message = JSON.parse(data);\\n        wsServer.clients.forEach(client =\u003e {\\n          if (client !== socket \u0026\u0026 client.readyState === client.OPEN) {\\n            client.send(JSON.stringify(message));\\n          }\\n        });\\n      });\\n    });\\n\\n    res.socket.server.ws = wsServer;\\n  }\\n  res.end();\\n}\\n\"}}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"이 코드 블록은 WebSocket 서버를 설정하고, 서버리스 환경에서 다수의 클라이언트 간 메세지를 송수신 할 수 있도록 합니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"403a6881\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"클라이언트 구현\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"이제 클라이언트에서 WebSocket을 설정하고 통신을 시작합니다.\"}],\"\\n\",[\"$\",\"pre\",\"pre-3\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-javascript\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-javascript\"]},\"children\":[{\"type\":\"text\",\"value\":\"$10\"}],\"position\":{\"start\":{\"line\":79,\"column\":1,\"offset\":2081},\"end\":{\"line\":123,\"column\":4,\"offset\":3143}}},\"children\":\"$11\"}}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":[\"이제 Next.js 페이지가 WebSocket을 통해 실시간 소통을 할 수 있게 되었습니다. \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"useEffect\",\"position\":{\"start\":{\"line\":125,\"column\":53,\"offset\":3197},\"end\":{\"line\":125,\"column\":64,\"offset\":3208}}}],\"position\":{\"start\":{\"line\":125,\"column\":53,\"offset\":3197},\"end\":{\"line\":125,\"column\":64,\"offset\":3208}}},\"children\":\"useEffect\"}}],\"를 사용하여 컴포넌트가 마운트될 때 WebSocket 연결을 설정하고, 새로운 메시지가 수신될 때마다 상태를 업데이트합니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"5b12bcf2\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"결론\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"이번 글에서는 Next.js를 사용하여 서버리스 환경에서 WebSocket을 통해 실시간 애플리케이션을 구축하는 방법을 알아보았습니다. 이러한 접근 방식은 서버 관리를 단순화하면서도 고성능의 실시간 경험을 제공할 수 있습니다. 이를 통해 다양한 실시간 애플리케이션, 예를 들어 채팅 애플리케이션, 주식 거래 플랫폼, 라이브 데이터 대시보드 등을 쉽게 구현할 수 있게 되었습니다. 앞으로도 Next.js와 같은 최신 기술을 통해 더욱 효과적이고 효율적인 개발을 계속해 나가시기 바랍니다.\"}]]}]}],[\"$\",\"$L12\",null,{}]]}],[\"$\",\"div\",null,{\"className\":\"xl:flex hidden w-[300px]\",\"children\":[\"$\",\"$L13\",null,{\"articleTitle\":\"Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용\",\"toc\":[{\"tagName\":\"h1\",\"title\":\"Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용\",\"id\":\"cc5ca874\"},{\"tagName\":\"h2\",\"title\":\"Next.js 소개\",\"id\":\"06fc0244\"},{\"tagName\":\"h3\",\"title\":\"주요 특징\",\"id\":\"f8cad7b0\"},{\"tagName\":\"h2\",\"title\":\"WebSocket 개요\",\"id\":\"e1ff1ce7\"},{\"tagName\":\"h2\",\"title\":\"서버리스 개요\",\"id\":\"1b3c7a58\"},{\"tagName\":\"h2\",\"title\":\"실시간 애플리케이션 구축하기\",\"id\":\"f97ba9b0\"},{\"tagName\":\"h3\",\"title\":\"프로젝트 초기 설정\",\"id\":\"ff165eab\"},{\"tagName\":\"h3\",\"title\":\"서버리스 함수 구현\",\"id\":\"95b0328b\"},{\"tagName\":\"h3\",\"title\":\"클라이언트 구현\",\"id\":\"403a6881\"},{\"tagName\":\"h2\",\"title\":\"결론\",\"id\":\"5b12bcf2\"}],\"language\":\"kr\"}]}]]}]]\n"])</script><script>self.__next_f.push([1,"5:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용 | 마고자비 블로그\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"이 글에서는 최신 JavaScript 프레임워크인 Next.js를 사용하여 실시간 애플리케이션을 구축하는 방법에 대해 알아봅니다. 특히, 실시간 통신을 위해 WebSocket을 사용하고, 백엔드 서버리스 환경을 활용하는 방법을 자세히 설명합니다.\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"Next.js,WebSocket,서버리스,실시간 애플리케이션\"}],[\"$\",\"meta\",\"4\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no\"}],[\"$\",\"link\",\"5\",{\"rel\":\"canonical\",\"href\":\"https://magomercy.com/javascript/Nextjs-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-WebSocket%EA%B3%BC-%EC%84%9C%EB%B2%84%EB%A6%AC%EC%8A%A4-%ED%99%9C%EC%9A%A9-272d1890\"}],[\"$\",\"meta\",\"6\",{\"name\":\"apple-mobile-web-app-capable\",\"content\":\"yes\"}],[\"$\",\"meta\",\"7\",{\"name\":\"apple-mobile-web-app-title\",\"content\":\"Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용 | 마고자비 블로그\"}],[\"$\",\"meta\",\"8\",{\"name\":\"apple-mobile-web-app-status-bar-style\",\"content\":\"default\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:title\",\"content\":\"Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용 | 마고자비 블로그\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:description\",\"content\":\"이 글에서는 최신 JavaScript 프레임워크인 Next.js를 사용하여 실시간 애플리케이션을 구축하는 방법에 대해 알아봅니다. 특히, 실시간 통신을 위해 WebSocket을 사용하고, 백엔드 서버리스 환경을 활용하는 방법을 자세히 설명합니다.\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:url\",\"content\":\"https://magomercy.com/javascript/Nextjs-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-WebSocket%EA%B3%BC-%EC%84%9C%EB%B2%84%EB%A6%AC%EC%8A%A4-%ED%99%9C%EC%9A%A9-272d1890\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:site_name\",\"content\":\"마고자비 블로그 | 마구잡이로 하고 싶은 것을 합니다.\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:locale\",\"content\":\"kr\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image\",\"content\":\"https://magomercy.com/images/javascriptBanner2.jpg\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:creator\",\"content\":\"마고자비 블로그\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:title\",\"content\":\"Next.js 실시간 애플리케이션 구축하기: WebSocket과 서버리스 활용 | 마고자비 블로그\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:description\",\"content\":\"이 글에서는 최신 JavaScript 프레임워크인 Next.js를 사용하여 실시간 애플리케이션을 구축하는 방법에 대해 알아봅니다. 특히, 실시간 통신을 위해 WebSocket을 사용하고, 백엔드 서버리스 환경을 활용하는 방법을 자세히 설명합니다.\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image\",\"content\":\"https://magomercy.com/images/javascriptBanner2.jpg\"}],[\"$\",\"link\",\"21\",{\"rel\":\"icon\",\"href\":\"https://magomercy.com/favicon32.png\"}],[\"$\",\"link\",\"22\",{\"rel\":\"apple-touch-icon\",\"href\":\"https://magomercy.com/favicon32.png\"}],[\"$\",\"meta\",\"23\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"a:null\n"])</script></body></html>