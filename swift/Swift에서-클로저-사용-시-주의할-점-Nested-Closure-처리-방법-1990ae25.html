<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/><link rel="preload" as="font" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/98e4530578c425d7.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-2f2428fbb7549638.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-695585668d16e3fb.js" async=""></script><script src="/_next/static/chunks/596-e6a99af3279f5db8.js" async=""></script><script src="/_next/static/chunks/main-app-8d8e64378ebd25aa.js" async=""></script><link rel="preload" as="script" href="https://www.googletagmanager.com/gtag/js?id=G-DRZBQ8XGPS"/><title>Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법 | 마고자비 블로그</title><meta name="description" content="Swift 프로그래밍에서 클로저는 매우 강력한 기능을 제공합니다. 그러나 클로저를 사용할 때 특히 중첩된 클로저 처리와 관련된 주의할 점이 있습니다. 이 글에서는 Swift에서 클로저 사용 시 발생할 수 있는 문제와 이를 해결하는 방법에 대해 다룹니다."/><meta name="keywords" content="Swift,클로저,넥스트클로저,메모리관리"/><link rel="canonical" href="https://magomercy.com/swift/Swift%EC%97%90%EC%84%9C-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9-%EC%8B%9C-%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90-Nested-Closure-%EC%B2%98%EB%A6%AC-%EB%B0%A9%EB%B2%95-1990ae25"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-title" content="Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법 | 마고자비 블로그"/><meta name="apple-mobile-web-app-status-bar-style" content="default"/><meta property="og:title" content="Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법 | 마고자비 블로그"/><meta property="og:description" content="Swift 프로그래밍에서 클로저는 매우 강력한 기능을 제공합니다. 그러나 클로저를 사용할 때 특히 중첩된 클로저 처리와 관련된 주의할 점이 있습니다. 이 글에서는 Swift에서 클로저 사용 시 발생할 수 있는 문제와 이를 해결하는 방법에 대해 다룹니다."/><meta property="og:url" content="https://magomercy.com/swift/Swift%EC%97%90%EC%84%9C-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9-%EC%8B%9C-%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90-Nested-Closure-%EC%B2%98%EB%A6%AC-%EB%B0%A9%EB%B2%95-1990ae25"/><meta property="og:site_name" content="마고자비 블로그 | 마구잡이로 하고 싶은 것을 합니다."/><meta property="og:locale" content="kr"/><meta property="og:image" content="https://magomercy.com/images/swiftBanner5.jpg"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:creator" content="마고자비 블로그"/><meta name="twitter:title" content="Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법 | 마고자비 블로그"/><meta name="twitter:description" content="Swift 프로그래밍에서 클로저는 매우 강력한 기능을 제공합니다. 그러나 클로저를 사용할 때 특히 중첩된 클로저 처리와 관련된 주의할 점이 있습니다. 이 글에서는 Swift에서 클로저 사용 시 발생할 수 있는 문제와 이를 해결하는 방법에 대해 다룹니다."/><meta name="twitter:image" content="https://magomercy.com/images/swiftBanner5.jpg"/><link rel="icon" href="https://magomercy.com/favicon32.png"/><link rel="apple-touch-icon" href="https://magomercy.com/favicon32.png"/><meta name="next-size-adjust"/><meta name="google-site-verification" content="WaKebxnU_qX7Mu3Qu9GWWzpa_7KmuUe8QEsu6fKv3bc"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_aaf875"><div class="flex flex-col w-full fixed top-[0px] z-50 "><header class="flex flex-row justify-center w-[100%] sm:h-[80px] h-[60px]  "><div class="flex justify-between items-center xl:w-[1200px] w-[100%] sm:px-[40px] px-[20px]"><a href="/"><img alt="로고" loading="lazy" width="140" height="35" decoding="async" data-nimg="1" class="sm:block hidden" style="color:transparent" src="/dallogLogo.png"/><img alt="로고" loading="lazy" width="104" height="26" decoding="async" data-nimg="1" class="sm:hidden" style="color:transparent" src="/dallogLogoDark.png"/></a><nav><ul class="flex flex-row md:gap-[20px] gap-[10px]"><li><a href="/search" target="_blank"><div class="sm:flex hidden items-center h-[40px] px-[18px]  rounded-[100px] text-[15px] text-gray-100 gap-[4px] "><img alt="검색 아이콘" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" style="color:transparent" src="/search.png"/>검색</div><div class="sm:hidden flex justify-center items-center h-[40px] w-[40px]"><img alt="검색 아이콘" loading="lazy" width="22" height="22" decoding="async" data-nimg="1" class="sm:hidden" style="color:transparent" src="/search_dark.png"/></div></a></li><li><a href="/profile" target="_blank"><div class="sm:flex hidden items-center h-[40px] px-[18px] rounded-[100px] "><img alt="프로필 아이콘" loading="lazy" width="24" height="24" decoding="async" data-nimg="1" style="color:transparent" src="/i_person.png"/></div><div class="sm:hidden flex justify-center items-center h-[40px] w-[40px]"><img alt="프로필 아이콘" loading="lazy" width="28" height="28" decoding="async" data-nimg="1" style="color:transparent" src="/i_person_dark.png"/></div></a></li></ul></nav></div></header><div class="w-full flex flex-row justify-start"><div class="h-[2px] bg-[#F2D024] filter-blur-4" style="width:0%"></div></div></div><section class="flex fixed top-0 left-0 w-full  md:h-[600px] h-[300px] justify-center" style="background-image:url(/images/swiftBanner5.jpg);background-position:center;background-size:contain;background-repeat:no-repeat"><div class="w-full md:h-[600px] h-[300px]  bg-[#171E24] bg-opacity-[0.35] absolute top-0 left-0"></div><div class="hidden md:flex flex-col justify-end w-[100%] md:w-[700px] px-[20px] pb-[100px]"><h1 class="font-semibold text-[40px] text-gray-100 text-shadow-default z-40">Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법</h1></div></section><main class="flex flex-row justify-center md:py-[120px] py-[60px] bg-white md:mt-[600px] mt-[300px] relative z-30 "><div class="xl:flex hidden w-[300px]"><div class="toc sticky top-[90px] flex flex-col"><div class="googleAd-container" style="width:100%;padding-left:30px;padding-right:30px"><ins class="adsbygoogle" style="display:block" data-ad-slot="9496760534" data-ad-format="auto" data-full-width-responsive="true"></ins></div></div></div><article class="flex flex-col w-full md:w-[600px] px-[20px] md:px-[0px] gap-[40px]"><div class="md:hidden border-b-[0.6px] pb-[40px] border-gray-200"><h1 class="text-[28px] font-bold leading-[150%]">Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법</h1></div><div class="flex flex-col"><div class="googleAd-container" style="width:100%"><ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-6t+ed+2i-1n-4w" data-ad-client="ca-pub-4221532240017712" data-ad-slot="5421225677"></ins></div><div>작성일 : <time>2024-07-30</time></div></div><div><div class="md-to-html"><h1 id="71e58a7e" class="md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900">Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법</h1>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">Swift 프로그래밍 언어에서 클로저(Closure)는 코드 블록을 하나의 단일 변수로 다룰 수 있게 하는 강력한 기능입니다. 클로저는 변수나 상수로 저장하거나, 함수나 메소드의 매개변수로 전달될 수 있습니다. 클로저는 특히 비동기 코드와 콜백 처리를 위해 널리 사용됩니다. 하지만 클로저를 사용할 때 주의해야 할 몇 가지 중요한 점들이 있습니다. 특히 중첩된 클로저(Nested Closure)와 관련된 문제를 이해하고 이를 미리 예방하는 것이 중요합니다. 이번 글에서는 Swift에서 클로저를 사용할 때 주의할 점과 중첩된 클로저를 처리하는 방법을 중점적으로 다룹니다.</p>
<h2 id="3fd5de8f" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">클로저의 기본 개념</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">클로저는 기본적으로 변수와 상수를 캡처하는 참조 유형입니다. 클로저는 변수를 &#x27;캡처&#x27; 하여, 해당 클로저가 호출될 때 이 변수에 접근할 수 있게 합니다. 클로저의 기본 형태는 <code node="[object Object]">(매개변수) -&gt; 반환타입 in 코드</code>입니다. 예를 들면 다음과 같습니다:</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>swift</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-swift" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">let</span><span> closure </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>a</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">Int</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> b</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">Int</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">-&gt;</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">Int</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">in</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">return</span><span> a </span><span class="token" style="color:hsl(207, 82%, 66%)">+</span><span> b
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">위의 예제에서 클로저는 두 개의 정수 인자를 받아 그 합을 반환합니다. 이는 단순한 클로저의 사용 예제이며, 여기에서 클로저는 특정 변수를 캡처하지 않습니다.</p>
<h2 id="9e1a8039" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">중첩된 클로저의 문제</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">때로는 클로저 내에서 다른 클로저를 호출해야 하는 경우가 있습니다. 이를 &#x27;중첩된 클로저&#x27;라고 합니다. 중첩된 클로저를 사용할 때는 주의가 필요합니다. 특히 메모리 누수와 강한 참조 사이클을 방지하기 위해 적절한 약한 참조(weak reference)와 미소유 참조(unowned reference)를 사용하는 것이 중요합니다.</p>
<h3 id="ce060f1a" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">중첩된 클로저 예제</h3>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">다음은 중첩된 클로저를 사용하는 간단한 예제입니다:</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>swift</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-swift" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">func</span><span> </span><span class="token function-definition" style="color:hsl(207, 82%, 66%)">performTask</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>completed</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token attribute" style="color:hsl(29, 54%, 61%)">@escaping</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">-&gt;</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">Void</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    operation1 </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        operation2 </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>            </span><span class="token" style="color:hsl(207, 82%, 66%)">completed</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">여기서 <code node="[object Object]">operation1</code>과 <code node="[object Object]">operation2</code>는 모두 비동기 작업을 수행하며, <code node="[object Object]">completed</code> 클로저는 최종 작업이 완료되었을 때 호출됩니다. 이러한 중첩된 클로저는 메모리 누수의 원인이 될 수 있으며, 참조 사이클을 일으킬 수 있습니다.</p>
<h2 id="c00860b2" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">강한 참조 사이클 방지</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">강한 참조 사이클을 방지하기 위해 클로저 내부에서 <code node="[object Object]">self</code>를 참조할 때 <code node="[object Object]">weak</code>나 <code node="[object Object]">unowned</code> 키워드를 사용해야 합니다.</p>
<h3 id="086ddcf5" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">weak 참조를 사용하는 방법</h3>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>swift</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-swift" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">class</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">SomeClass</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">var</span><span> value</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">Int</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">func</span><span> </span><span class="token function-definition" style="color:hsl(207, 82%, 66%)">doSomething</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(286, 60%, 67%)">let</span><span> closure </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(286, 60%, 67%)">weak</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">self</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">in</span><span>
</span><span>            </span><span class="token" style="color:hsl(286, 60%, 67%)">self</span><span class="token" style="color:hsl(207, 82%, 66%)">?</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>value </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">1</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>        </span><span class="token" style="color:hsl(207, 82%, 66%)">closure</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">위 예제에서 <code node="[object Object]">[weak self]</code>를 사용하여 <code node="[object Object]">self</code>에 대한 강한 참조를 방지하고 있습니다. <code node="[object Object]">self</code>가 nil이 될 수 있으므로 안전하게 <code node="[object Object]">self?.value</code>를 사용해야 합니다.</p>
<h3 id="5bf8a500" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">unowned 참조를 사용하는 방법</h3>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>swift</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-swift" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">class</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">SomeClass</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">var</span><span> value</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">Int</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">func</span><span> </span><span class="token function-definition" style="color:hsl(207, 82%, 66%)">doSomething</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(286, 60%, 67%)">let</span><span> closure </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(286, 60%, 67%)">unowned</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">self</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">in</span><span>
</span><span>            </span><span class="token" style="color:hsl(286, 60%, 67%)">self</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>value </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">1</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>        </span><span class="token" style="color:hsl(207, 82%, 66%)">closure</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]"><code node="[object Object]">[unowned self]</code>를 사용하면 <code node="[object Object]">self</code>가 반드시 존재한다고 가정할 수 있으며, nil이 될 가능성이 없을 때 유용합니다. 하지만 <code node="[object Object]">self</code>가 nil이 되면 앱이 크래시 날 위험이 있으니 주의해야 합니다.</p>
<h2 id="685cd738" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">주의할 점과 최적의 사용법</h2>
<h3 id="a4ce89e9" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">비동기 작업과 캡처 목록</h3>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">클로저를 비동기 작업으로 사용할 때는 클로저가 호출되는 시점을 예측하기 어렵기 때문에 참조 사이클을 더욱 주의해야 합니다. 비동기 작업이 완료될 때까지 클로저가 해제되지 않으면 메모리 누수가 발생할 수 있습니다.</p>
<h3 id="be139144" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">캡처 목록의 활용</h3>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">캡처 목록을 사용하여 클로저 내부에서 캡처하는 객체의 참조 유형을 명시적으로 지정할 수 있습니다. 이는 참조 사이클을 방지하고 클로저의 명확한 메모리 관리를 가능하게 합니다.</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>swift</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-swift" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">class</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">ViewController</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">UIViewController</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">var</span><span> someClosure</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">-&gt;</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">Void</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(207, 82%, 66%)">?</span><span>
</span>
<span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">func</span><span> </span><span class="token function-definition" style="color:hsl(207, 82%, 66%)">setupClosure</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        someClosure </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(286, 60%, 67%)">weak</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">self</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">in</span><span>
</span><span>            </span><span class="token" style="color:hsl(286, 60%, 67%)">guard</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">let</span><span> strongSelf </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">self</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">else</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>            strongSelf</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(207, 82%, 66%)">doSomething</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span>
<span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">func</span><span> </span><span class="token function-definition" style="color:hsl(207, 82%, 66%)">doSomething</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(207, 82%, 66%)">print</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token string-literal" style="color:hsl(95, 38%, 62%)">&quot;Doing something&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">위 예제에서 <code node="[object Object]">[weak self]</code>를 사용하여 <code node="[object Object]">self</code>에 대한 약한 참조를 유지하고, <code node="[object Object]">guard let strongSelf = self</code>를 통해 안전하게 <code node="[object Object]">strongSelf</code>를 사용합니다.</p>
<h3 id="851121dc" class="md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800">메모리 디버깅</h3>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">Xcode는 메모리 디버깅 도구를 제공합니다. Instruments의 <code node="[object Object]">Leaks</code>와 <code node="[object Object]">Allocations</code> 도구를 사용하여 메모리 누수를 추적하고, 강한 참조 사이클을 감지할 수 있습니다. 주기적으로 메모리 관리를 확인하여 누수를 방지하는 것이 좋습니다.</p>
<h2 id="5b12bcf2" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">결론</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">클로저는 Swift 프로그래밍에서 매우 유용한 도구입니다. 그러나 클로저를 사용할 때 특히 중첩된 클로저와 관련된 문제를 이해하고 적절한 메모리 관리 기법을 사용하는 것이 중요합니다. 약한 참조(weak)와 미소유 참조(unowned)를 통해 강한 참조 사이클과 메모리 누수를 방지할 수 있으며, 이를 통해 안전하고 효율적인 코드를 작성할 수 있습니다. 주기적으로 메모리 디버깅 도구를 활용하여 최적의 메모리 관리를 유지하는 것도 중요합니다.</p></div></div><div class="googleAd-container" style="width:100%"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-4221532240017712" data-ad-slot="6323802284"></ins></div></article><div class="xl:flex hidden w-[300px]"><section class="flex flex-col pl-[30px] "><div class="toc sticky top-[90px] flex flex-col"><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-medium py-[5px]" href="#71e58a7e">Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#3fd5de8f">클로저의 기본 개념</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#9e1a8039">중첩된 클로저의 문제</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#ce060f1a">중첩된 클로저 예제</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#c00860b2">강한 참조 사이클 방지</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#086ddcf5">weak 참조를 사용하는 방법</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#5bf8a500">unowned 참조를 사용하는 방법</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#685cd738">주의할 점과 최적의 사용법</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#a4ce89e9">비동기 작업과 캡처 목록</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#be139144">캡처 목록의 활용</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[40px]" href="#851121dc">메모리 디버깅</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#5b12bcf2">결론</a><div class="googleAd-container" style="width:100%;padding-left:30px;padding-right:30px"><ins class="adsbygoogle" style="display:block" data-ad-slot="9496760534" data-ad-format="auto" data-full-width-responsive="true"></ins></div></div></section></div></main><script src="/_next/static/chunks/webpack-2f2428fbb7549638.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/98e4530578c425d7.css\",{\"as\":\"style\"}]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:I{\"id\":57948,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n6:I{\"id\":56628,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":42879,\"chunks\":[\"185:static/chunks/app/layout-b198f10c98e34978.js\"],\"name\":\"GoogleAnalytics\",\"async\":false}\n8:I{"])</script><script>self.__next_f.push([1,"\"id\":47767,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n9:I{\"id\":57920,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/98e4530578c425d7.css\",\"precedence\":\"next\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"BTzIZmIeYXT3BlsSUt3SU\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/swift/Swift%EC%97%90%EC%84%9C-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9-%EC%8B%9C-%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90-Nested-Closure-%EC%B2%98%EB%A6%AC-%EB%B0%A9%EB%B2%95-1990ae25\",\"initialTree\":[\"\",{\"children\":[\"swift\",{\"children\":[[\"slug\",\"Swift%EC%97%90%EC%84%9C-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9-%EC%8B%9C-%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90-Nested-Closure-%EC%B2%98%EB%A6%AC-%EB%B0%A9%EB%B2%95-1990ae25\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"Swift에서-클로저-사용-시-주의할-점-Nested-Closure-처리-방법-1990ae25\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L5\"],\"globalErrorComponent\":\"$6\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[[\"$\",\"$L7\",null,{}],[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"swift\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"swift\",\"children\",[\"slug\",\"Swift%EC%97%90%EC%84%9C-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9-%EC%8B%9C-%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90-Nested-Closure-%EC%B2%98%EB%A6%AC-%EB%B0%A9%EB%B2%95-1990ae25\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$La\",\"$Lb\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"Swift에서-클로저-사용-시-주의할-점-Nested-Closure-처리-방법-1990ae25\\\"}\"},\"styles\":[]}],\"segment\":[\"slug\",\"Swift%EC%97%90%EC%84%9C-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9-%EC%8B%9C-%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90-Nested-Closure-%EC%B2%98%EB%A6%AC-%EB%B0%A9%EB%B2%95-1990ae25\",\"d\"]},\"styles\":[]}],\"segment\":\"swift\"},\"styles\":[]}]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"c:I{\"id\":22873,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\nd:I{\"id\":84423,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\ne:I{\"id\":2346,\"chunks\""])</script><script>self.__next_f.push([1,":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\nf:I{\"id\":67490,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"MarkDownCode\",\"async\":false}\n10:I{\"id\":87272,\"chunks\":[\"986:st"])</script><script>self.__next_f.push([1,"atic/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\n11:I{\"id\":55026,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"$Lc\",null,{\"language\":\"kr\",\"screenType\":\"ARTICLE_DETAIL\"}],[\"$\",\"section\",null,{\"className\":\"flex fixed top-0 left-0 w-full  md:h-[600px] h-[300px] justify-center\",\"style\":{\"backgroundImage\":\"url(/images/swiftBanner5.jpg)\",\"backgroundPosition\":\"center\",\"backgroundSize\":\"contain\",\"backgroundRepeat\":\"no-repeat\"},\"children\":[[\"$\",\"div\",null,{\"className\":\"w-full md:h-[600px] h-[300px]  bg-[#171E24] bg-opacity-[0.35] absolute top-0 left-0\"}],[\"$\",\"div\",null,{\"className\":\"hidden md:flex flex-col justify-end w-[100%] md:w-[700px] px-[20px] pb-[100px]\",\"children\":[\"$\",\"h1\",null,{\"className\":\"font-semibold text-[40px] text-gray-100 text-shadow-default z-40\",\"children\":\"Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법\"}]}]]}],[\"$\",\"main\",null,{\"className\":\"flex flex-row justify-center md:py-[120px] py-[60px] bg-white md:mt-[600px] mt-[300px] relative z-30 \",\"children\":[[\"$\",\"div\",null,{\"className\":\"xl:flex hidden w-[300px]\",\"children\":[\"$\",\"div\",null,{\"className\":\"toc sticky top-[90px] flex flex-col\",\"children\":[\"$\",\"$Ld\",null,{}]}]}],[\"$\",\"article\",null,{\"className\":\"flex flex-col w-full md:w-[600px] px-[20px] md:px-[0px] gap-[40px]\",\"children\":[[\"$\",\"div\",null,{\"className\":\"md:hidden border-b-[0.6px] pb-[40px] border-gray-200\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-[28px] font-bold leading-[150%]\",\"children\":\"Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법\"}]}],[\"$\",\"div\",null,{\"className\":\"flex flex-col\",\"children\":[[\"$\",\"$Le\",null,{}],[\"$\",\"div\",null,{\"children\":[\"작성일 : \",[\"$\",\"time\",null,{\"children\":\"2024-07-30\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"md-to-html\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"71e58a7e\",\"className\":\"md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900\",\"children\":\"Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"Swift 프로그래밍 언어에서 클로저(Closure)는 코드 블록을 하나의 단일 변수로 다룰 수 있게 하는 강력한 기능입니다. 클로저는 변수나 상수로 저장하거나, 함수나 메소드의 매개변수로 전달될 수 있습니다. 클로저는 특히 비동기 코드와 콜백 처리를 위해 널리 사용됩니다. 하지만 클로저를 사용할 때 주의해야 할 몇 가지 중요한 점들이 있습니다. 특히 중첩된 클로저(Nested Closure)와 관련된 문제를 이해하고 이를 미리 예방하는 것이 중요합니다. 이번 글에서는 Swift에서 클로저를 사용할 때 주의할 점과 중첩된 클로저를 처리하는 방법을 중점적으로 다룹니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"3fd5de8f\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"클로저의 기본 개념\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":[\"클로저는 기본적으로 변수와 상수를 캡처하는 참조 유형입니다. 클로저는 변수를 '캡처' 하여, 해당 클로저가 호출될 때 이 변수에 접근할 수 있게 합니다. 클로저의 기본 형태는 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"(매개변수) -\u003e 반환타입 in 코드\",\"position\":{\"start\":{\"line\":8,\"column\":99,\"offset\":484},\"end\":{\"line\":8,\"column\":121,\"offset\":506}}}],\"position\":{\"start\":{\"line\":8,\"column\":99,\"offset\":484},\"end\":{\"line\":8,\"column\":121,\"offset\":506}}},\"children\":\"(매개변수) -\u003e 반환타입 in 코드\"}}],\"입니다. 예를 들면 다음과 같습니다:\"]}],\"\\n\",[\"$\",\"pre\",\"pre-0\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-swift\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-swift\"]},\"children\":[{\"type\":\"text\",\"value\":\"let closure = { (a: Int, b: Int) -\u003e Int in\\n    return a + b\\n}\\n\"}],\"position\":{\"start\":{\"line\":10,\"column\":1,\"offset\":528},\"end\":{\"line\":14,\"column\":4,\"offset\":602}}},\"children\":\"let closure = { (a: Int, b: Int) -\u003e Int in\\n    return a + b\\n}\\n\"}}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"위의 예제에서 클로저는 두 개의 정수 인자를 받아 그 합을 반환합니다. 이는 단순한 클로저의 사용 예제이며, 여기에서 클로저는 특정 변수를 캡처하지 않습니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"9e1a8039\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"중첩된 클로저의 문제\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"때로는 클로저 내에서 다른 클로저를 호출해야 하는 경우가 있습니다. 이를 '중첩된 클로저'라고 합니다. 중첩된 클로저를 사용할 때는 주의가 필요합니다. 특히 메모리 누수와 강한 참조 사이클을 방지하기 위해 적절한 약한 참조(weak reference)와 미소유 참조(unowned reference)를 사용하는 것이 중요합니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"ce060f1a\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"중첩된 클로저 예제\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"다음은 중첩된 클로저를 사용하는 간단한 예제입니다:\"}],\"\\n\",[\"$\",\"pre\",\"pre-1\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-swift\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-swift\"]},\"children\":[{\"type\":\"text\",\"value\":\"func performTask(completed: @escaping () -\u003e Void) {\\n    operation1 {\\n        operation2 {\\n            completed()\\n        }\\n    }\\n}\\n\"}],\"position\":{\"start\":{\"line\":26,\"column\":1,\"offset\":941},\"end\":{\"line\":34,\"column\":4,\"offset\":1085}}},\"children\":\"func performTask(completed: @escaping () -\u003e Void) {\\n    operation1 {\\n        operation2 {\\n            completed()\\n        }\\n    }\\n}\\n\"}}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":[\"여기서 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"operation1\",\"position\":{\"start\":{\"line\":36,\"column\":5,\"offset\":1091},\"end\":{\"line\":36,\"column\":17,\"offset\":1103}}}],\"position\":{\"start\":{\"line\":36,\"column\":5,\"offset\":1091},\"end\":{\"line\":36,\"column\":17,\"offset\":1103}}},\"children\":\"operation1\"}}],\"과 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"operation2\",\"position\":{\"start\":{\"line\":36,\"column\":19,\"offset\":1105},\"end\":{\"line\":36,\"column\":31,\"offset\":1117}}}],\"position\":{\"start\":{\"line\":36,\"column\":19,\"offset\":1105},\"end\":{\"line\":36,\"column\":31,\"offset\":1117}}},\"children\":\"operation2\"}}],\"는 모두 비동기 작업을 수행하며, \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"completed\",\"position\":{\"start\":{\"line\":36,\"column\":50,\"offset\":1136},\"end\":{\"line\":36,\"column\":61,\"offset\":1147}}}],\"position\":{\"start\":{\"line\":36,\"column\":50,\"offset\":1136},\"end\":{\"line\":36,\"column\":61,\"offset\":1147}}},\"children\":\"completed\"}}],\" 클로저는 최종 작업이 완료되었을 때 호출됩니다. 이러한 중첩된 클로저는 메모리 누수의 원인이 될 수 있으며, 참조 사이클을 일으킬 수 있습니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"c00860b2\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"강한 참조 사이클 방지\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":[\"강한 참조 사이클을 방지하기 위해 클로저 내부에서 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"self\",\"position\":{\"start\":{\"line\":40,\"column\":29,\"offset\":1275},\"end\":{\"line\":40,\"column\":35,\"offset\":1281}}}],\"position\":{\"start\":{\"line\":40,\"column\":29,\"offset\":1275},\"end\":{\"line\":40,\"column\":35,\"offset\":1281}}},\"children\":\"self\"}}],\"를 참조할 때 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"weak\",\"position\":{\"start\":{\"line\":40,\"column\":43,\"offset\":1289},\"end\":{\"line\":40,\"column\":49,\"offset\":1295}}}],\"position\":{\"start\":{\"line\":40,\"column\":43,\"offset\":1289},\"end\":{\"line\":40,\"column\":49,\"offset\":1295}}},\"children\":\"weak\"}}],\"나 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"unowned\",\"position\":{\"start\":{\"line\":40,\"column\":51,\"offset\":1297},\"end\":{\"line\":40,\"column\":60,\"offset\":1306}}}],\"position\":{\"start\":{\"line\":40,\"column\":51,\"offset\":1297},\"end\":{\"line\":40,\"column\":60,\"offset\":1306}}},\"children\":\"unowned\"}}],\" 키워드를 사용해야 합니다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"086ddcf5\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"weak 참조를 사용하는 방법\"}],\"\\n\",[\"$\",\"pre\",\"pre-2\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-swift\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-swift\"]},\"children\":[{\"type\":\"text\",\"value\":\"class SomeClass {\\n    var value: Int = 0\\n    func doSomething() {\\n        let closure = { [weak self] in\\n            self?.value += 1\\n        }\\n        closure()\\n    }\\n}\\n\"}],\"position\":{\"start\":{\"line\":44,\"column\":1,\"offset\":1345},\"end\":{\"line\":54,\"column\":4,\"offset\":1527}}},\"children\":\"class SomeClass {\\n    var value: Int = 0\\n    func doSomething() {\\n        let closure = { [weak self] in\\n            self?.value += 1\\n        }\\n        closure()\\n    }\\n}\\n\"}}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":[\"위 예제에서 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"[weak self]\",\"position\":{\"start\":{\"line\":56,\"column\":8,\"offset\":1536},\"end\":{\"line\":56,\"column\":21,\"offset\":1549}}}],\"position\":{\"start\":{\"line\":56,\"column\":8,\"offset\":1536},\"end\":{\"line\":56,\"column\":21,\"offset\":1549}}},\"children\":\"[weak self]\"}}],\"를 사용하여 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"self\",\"position\":{\"start\":{\"line\":56,\"column\":28,\"offset\":1556},\"end\":{\"line\":56,\"column\":34,\"offset\":1562}}}],\"position\":{\"start\":{\"line\":56,\"column\":28,\"offset\":1556},\"end\":{\"line\":56,\"column\":34,\"offset\":1562}}},\"children\":\"self\"}}],\"에 대한 강한 참조를 방지하고 있습니다. \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"self\",\"position\":{\"start\":{\"line\":56,\"column\":57,\"offset\":1585},\"end\":{\"line\":56,\"column\":63,\"offset\":1591}}}],\"position\":{\"start\":{\"line\":56,\"column\":57,\"offset\":1585},\"end\":{\"line\":56,\"column\":63,\"offset\":1591}}},\"children\":\"self\"}}],\"가 nil이 될 수 있으므로 안전하게 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"self?.value\",\"position\":{\"start\":{\"line\":56,\"column\":84,\"offset\":1612},\"end\":{\"line\":56,\"column\":97,\"offset\":1625}}}],\"position\":{\"start\":{\"line\":56,\"column\":84,\"offset\":1612},\"end\":{\"line\":56,\"column\":97,\"offset\":1625}}},\"children\":\"self?.value\"}}],\"를 사용해야 합니다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"5bf8a500\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"unowned 참조를 사용하는 방법\"}],\"\\n\",[\"$\",\"pre\",\"pre-3\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-swift\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-swift\"]},\"children\":[{\"type\":\"text\",\"value\":\"class SomeClass {\\n    var value: Int = 0\\n    func doSomething() {\\n        let closure = { [unowned self] in\\n            self.value += 1\\n        }\\n        closure()\\n    }\\n}\\n\"}],\"position\":{\"start\":{\"line\":60,\"column\":1,\"offset\":1663},\"end\":{\"line\":70,\"column\":4,\"offset\":1847}}},\"children\":\"class SomeClass {\\n    var value: Int = 0\\n    func doSomething() {\\n        let closure = { [unowned self] in\\n            self.value += 1\\n        }\\n        closure()\\n    }\\n}\\n\"}}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":[[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"[unowned self]\",\"position\":{\"start\":{\"line\":72,\"column\":1,\"offset\":1849},\"end\":{\"line\":72,\"column\":17,\"offset\":1865}}}],\"position\":{\"start\":{\"line\":72,\"column\":1,\"offset\":1849},\"end\":{\"line\":72,\"column\":17,\"offset\":1865}}},\"children\":\"[unowned self]\"}}],\"를 사용하면 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"self\",\"position\":{\"start\":{\"line\":72,\"column\":24,\"offset\":1872},\"end\":{\"line\":72,\"column\":30,\"offset\":1878}}}],\"position\":{\"start\":{\"line\":72,\"column\":24,\"offset\":1872},\"end\":{\"line\":72,\"column\":30,\"offset\":1878}}},\"children\":\"self\"}}],\"가 반드시 존재한다고 가정할 수 있으며, nil이 될 가능성이 없을 때 유용합니다. 하지만 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"self\",\"position\":{\"start\":{\"line\":72,\"column\":81,\"offset\":1929},\"end\":{\"line\":72,\"column\":87,\"offset\":1935}}}],\"position\":{\"start\":{\"line\":72,\"column\":81,\"offset\":1929},\"end\":{\"line\":72,\"column\":87,\"offset\":1935}}},\"children\":\"self\"}}],\"가 nil이 되면 앱이 크래시 날 위험이 있으니 주의해야 합니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"685cd738\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"주의할 점과 최적의 사용법\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"a4ce89e9\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"비동기 작업과 캡처 목록\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"클로저를 비동기 작업으로 사용할 때는 클로저가 호출되는 시점을 예측하기 어렵기 때문에 참조 사이클을 더욱 주의해야 합니다. 비동기 작업이 완료될 때까지 클로저가 해제되지 않으면 메모리 누수가 발생할 수 있습니다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"be139144\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"캡처 목록의 활용\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"캡처 목록을 사용하여 클로저 내부에서 캡처하는 객체의 참조 유형을 명시적으로 지정할 수 있습니다. 이는 참조 사이클을 방지하고 클로저의 명확한 메모리 관리를 가능하게 합니다.\"}],\"\\n\",[\"$\",\"pre\",\"pre-4\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-swift\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-swift\"]},\"children\":[{\"type\":\"text\",\"value\":\"class ViewController: UIViewController {\\n    var someClosure: (() -\u003e Void)?\\n\\n    func setupClosure() {\\n        someClosure = { [weak self] in\\n            guard let strongSelf = self else { return }\\n            strongSelf.doSomething()\\n        }\\n    }\\n\\n    func doSomething() {\\n        print(\\\"Doing something\\\")\\n    }\\n}\\n\"}],\"position\":{\"start\":{\"line\":84,\"column\":1,\"offset\":2245},\"end\":{\"line\":99,\"column\":4,\"offset\":2575}}},\"children\":\"class ViewController: UIViewController {\\n    var someClosure: (() -\u003e Void)?\\n\\n    func setupClosure() {\\n        someClosure = { [weak self] in\\n            guard let strongSelf = self else { return }\\n            strongSelf.doSomething()\\n        }\\n    }\\n\\n    func doSomething() {\\n        print(\\\"Doing something\\\")\\n    }\\n}\\n\"}}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":[\"위 예제에서 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"[weak self]\",\"position\":{\"start\":{\"line\":101,\"column\":8,\"offset\":2584},\"end\":{\"line\":101,\"column\":21,\"offset\":2597}}}],\"position\":{\"start\":{\"line\":101,\"column\":8,\"offset\":2584},\"end\":{\"line\":101,\"column\":21,\"offset\":2597}}},\"children\":\"[weak self]\"}}],\"를 사용하여 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"self\",\"position\":{\"start\":{\"line\":101,\"column\":28,\"offset\":2604},\"end\":{\"line\":101,\"column\":34,\"offset\":2610}}}],\"position\":{\"start\":{\"line\":101,\"column\":28,\"offset\":2604},\"end\":{\"line\":101,\"column\":34,\"offset\":2610}}},\"children\":\"self\"}}],\"에 대한 약한 참조를 유지하고, \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"guard let strongSelf = self\",\"position\":{\"start\":{\"line\":101,\"column\":52,\"offset\":2628},\"end\":{\"line\":101,\"column\":81,\"offset\":2657}}}],\"position\":{\"start\":{\"line\":101,\"column\":52,\"offset\":2628},\"end\":{\"line\":101,\"column\":81,\"offset\":2657}}},\"children\":\"guard let strongSelf = self\"}}],\"를 통해 안전하게 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"strongSelf\",\"position\":{\"start\":{\"line\":101,\"column\":91,\"offset\":2667},\"end\":{\"line\":101,\"column\":103,\"offset\":2679}}}],\"position\":{\"start\":{\"line\":101,\"column\":91,\"offset\":2667},\"end\":{\"line\":101,\"column\":103,\"offset\":2679}}},\"children\":\"strongSelf\"}}],\"를 사용합니다.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"851121dc\",\"className\":\"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800\",\"children\":\"메모리 디버깅\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":[\"Xcode는 메모리 디버깅 도구를 제공합니다. Instruments의 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"Leaks\",\"position\":{\"start\":{\"line\":105,\"column\":40,\"offset\":2741},\"end\":{\"line\":105,\"column\":47,\"offset\":2748}}}],\"position\":{\"start\":{\"line\":105,\"column\":40,\"offset\":2741},\"end\":{\"line\":105,\"column\":47,\"offset\":2748}}},\"children\":\"Leaks\"}}],\"와 \",[\"$\",\"$Lf\",null,{\"props\":{\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{},\"children\":[{\"type\":\"text\",\"value\":\"Allocations\",\"position\":{\"start\":{\"line\":105,\"column\":49,\"offset\":2750},\"end\":{\"line\":105,\"column\":62,\"offset\":2763}}}],\"position\":{\"start\":{\"line\":105,\"column\":49,\"offset\":2750},\"end\":{\"line\":105,\"column\":62,\"offset\":2763}}},\"children\":\"Allocations\"}}],\" 도구를 사용하여 메모리 누수를 추적하고, 강한 참조 사이클을 감지할 수 있습니다. 주기적으로 메모리 관리를 확인하여 누수를 방지하는 것이 좋습니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"5b12bcf2\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"결론\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"클로저는 Swift 프로그래밍에서 매우 유용한 도구입니다. 그러나 클로저를 사용할 때 특히 중첩된 클로저와 관련된 문제를 이해하고 적절한 메모리 관리 기법을 사용하는 것이 중요합니다. 약한 참조(weak)와 미소유 참조(unowned)를 통해 강한 참조 사이클과 메모리 누수를 방지할 수 있으며, 이를 통해 안전하고 효율적인 코드를 작성할 수 있습니다. 주기적으로 메모리 디버깅 도구를 활용하여 최적의 메모리 관리를 유지하는 것도 중요합니다.\"}]]}]}],[\"$\",\"$L10\",null,{}]]}],[\"$\",\"div\",null,{\"className\":\"xl:flex hidden w-[300px]\",\"children\":[\"$\",\"$L11\",null,{\"articleTitle\":\"Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법\",\"toc\":[{\"tagName\":\"h1\",\"title\":\"Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법\",\"id\":\"71e58a7e\"},{\"tagName\":\"h2\",\"title\":\"클로저의 기본 개념\",\"id\":\"3fd5de8f\"},{\"tagName\":\"h2\",\"title\":\"중첩된 클로저의 문제\",\"id\":\"9e1a8039\"},{\"tagName\":\"h3\",\"title\":\"중첩된 클로저 예제\",\"id\":\"ce060f1a\"},{\"tagName\":\"h2\",\"title\":\"강한 참조 사이클 방지\",\"id\":\"c00860b2\"},{\"tagName\":\"h3\",\"title\":\"weak 참조를 사용하는 방법\",\"id\":\"086ddcf5\"},{\"tagName\":\"h3\",\"title\":\"unowned 참조를 사용하는 방법\",\"id\":\"5bf8a500\"},{\"tagName\":\"h2\",\"title\":\"주의할 점과 최적의 사용법\",\"id\":\"685cd738\"},{\"tagName\":\"h3\",\"title\":\"비동기 작업과 캡처 목록\",\"id\":\"a4ce89e9\"},{\"tagName\":\"h3\",\"title\":\"캡처 목록의 활용\",\"id\":\"be139144\"},{\"tagName\":\"h3\",\"title\":\"메모리 디버깅\",\"id\":\"851121dc\"},{\"tagName\":\"h2\",\"title\":\"결론\",\"id\":\"5b12bcf2\"}],\"language\":\"kr\"}]}]]}]]\n"])</script><script>self.__next_f.push([1,"5:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법 | 마고자비 블로그\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Swift 프로그래밍에서 클로저는 매우 강력한 기능을 제공합니다. 그러나 클로저를 사용할 때 특히 중첩된 클로저 처리와 관련된 주의할 점이 있습니다. 이 글에서는 Swift에서 클로저 사용 시 발생할 수 있는 문제와 이를 해결하는 방법에 대해 다룹니다.\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"Swift,클로저,넥스트클로저,메모리관리\"}],[\"$\",\"meta\",\"4\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no\"}],[\"$\",\"link\",\"5\",{\"rel\":\"canonical\",\"href\":\"https://magomercy.com/swift/Swift%EC%97%90%EC%84%9C-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9-%EC%8B%9C-%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90-Nested-Closure-%EC%B2%98%EB%A6%AC-%EB%B0%A9%EB%B2%95-1990ae25\"}],[\"$\",\"meta\",\"6\",{\"name\":\"apple-mobile-web-app-capable\",\"content\":\"yes\"}],[\"$\",\"meta\",\"7\",{\"name\":\"apple-mobile-web-app-title\",\"content\":\"Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법 | 마고자비 블로그\"}],[\"$\",\"meta\",\"8\",{\"name\":\"apple-mobile-web-app-status-bar-style\",\"content\":\"default\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:title\",\"content\":\"Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법 | 마고자비 블로그\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:description\",\"content\":\"Swift 프로그래밍에서 클로저는 매우 강력한 기능을 제공합니다. 그러나 클로저를 사용할 때 특히 중첩된 클로저 처리와 관련된 주의할 점이 있습니다. 이 글에서는 Swift에서 클로저 사용 시 발생할 수 있는 문제와 이를 해결하는 방법에 대해 다룹니다.\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:url\",\"content\":\"https://magomercy.com/swift/Swift%EC%97%90%EC%84%9C-%ED%81%B4%EB%A1%9C%EC%A0%80-%EC%82%AC%EC%9A%A9-%EC%8B%9C-%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90-Nested-Closure-%EC%B2%98%EB%A6%AC-%EB%B0%A9%EB%B2%95-1990ae25\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:site_name\",\"content\":\"마고자비 블로그 | 마구잡이로 하고 싶은 것을 합니다.\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:locale\",\"content\":\"kr\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image\",\"content\":\"https://magomercy.com/images/swiftBanner5.jpg\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:creator\",\"content\":\"마고자비 블로그\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:title\",\"content\":\"Swift에서 클로저 사용 시 주의할 점: Nested Closure 처리 방법 | 마고자비 블로그\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:description\",\"content\":\"Swift 프로그래밍에서 클로저는 매우 강력한 기능을 제공합니다. 그러나 클로저를 사용할 때 특히 중첩된 클로저 처리와 관련된 주의할 점이 있습니다. 이 글에서는 Swift에서 클로저 사용 시 발생할 수 있는 문제와 이를 해결하는 방법에 대해 다룹니다.\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image\",\"content\":\"https://magomercy.com/images/swiftBanner5.jpg\"}],[\"$\",\"link\",\"21\",{\"rel\":\"icon\",\"href\":\"https://magomercy.com/favicon32.png\"}],[\"$\",\"link\",\"22\",{\"rel\":\"apple-touch-icon\",\"href\":\"https://magomercy.com/favicon32.png\"}],[\"$\",\"meta\",\"23\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"a:null\n"])</script></body></html>