1:HL["/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2",{"as":"font","type":"font/woff2"}]
2:HL["/_next/static/css/98e4530578c425d7.css",{"as":"style"}]
0:["BTzIZmIeYXT3BlsSUt3SU",[[["",{"children":["swift",{"children":[["slug","iOS-%EA%B5%AC%EB%8F%85-%EB%AA%A8%EB%8D%B8-%EA%B5%AC%ED%98%84-StoreKit%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%98%EB%B3%B5-%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B4%80%EB%A6%AC-aae7a94b","d"],{"children":["__PAGE__?{\"slug\":\"iOS-구독-모델-구현-StoreKit을-이용한-반복-결제-시스템-설계-및-관리-aae7a94b\"}",{}]}]}]},"$undefined","$undefined",true],"$L3",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/98e4530578c425d7.css","precedence":"next"}]],"$L4"]]]]
5:I{"id":42879,"chunks":["185:static/chunks/app/layout-b198f10c98e34978.js"],"name":"GoogleAnalytics","async":false}
6:I{"id":47767,"chunks":["272:static/chunks/webpack-2f2428fbb7549638.js","971:static/chunks/fd9d1056-695585668d16e3fb.js","596:static/chunks/596-e6a99af3279f5db8.js"],"name":"default","async":false}
7:I{"id":57920,"chunks":["272:static/chunks/webpack-2f2428fbb7549638.js","971:static/chunks/fd9d1056-695585668d16e3fb.js","596:static/chunks/596-e6a99af3279f5db8.js"],"name":"default","async":false}
3:[null,["$","html",null,{"lang":"ko","children":[["$","$L5",null,{}],["$","body",null,{"className":"__className_aaf875","children":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","swift","children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","swift","children",["slug","iOS-%EA%B5%AC%EB%8F%85-%EB%AA%A8%EB%8D%B8-%EA%B5%AC%ED%98%84-StoreKit%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%98%EB%B3%B5-%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B4%80%EB%A6%AC-aae7a94b","d"],"children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$L8","$L9",null],"segment":"__PAGE__?{\"slug\":\"iOS-구독-모델-구현-StoreKit을-이용한-반복-결제-시스템-설계-및-관리-aae7a94b\"}"},"styles":[]}],"segment":["slug","iOS-%EA%B5%AC%EB%8F%85-%EB%AA%A8%EB%8D%B8-%EA%B5%AC%ED%98%84-StoreKit%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%98%EB%B3%B5-%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B4%80%EB%A6%AC-aae7a94b","d"]},"styles":[]}],"segment":"swift"},"styles":[]}]}]]}],null]
4:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리 | 마고자비 블로그"}],["$","meta","2",{"name":"description","content":"이 문서는 iOS 애플리케이션에서 StoreKit을 이용하여 구독 모델을 구현하는 방법을 다룹니다. 반복 결제 시스템 설계와 구독 상태 관리에 대한 자세한 설명을 제공합니다."}],["$","meta","3",{"name":"keywords","content":"iOS,StoreKit,구독 모델,반복 결제"}],["$","meta","4",{"name":"viewport","content":"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"}],["$","link","5",{"rel":"canonical","href":"https://magomercy.com/swift/iOS-%EA%B5%AC%EB%8F%85-%EB%AA%A8%EB%8D%B8-%EA%B5%AC%ED%98%84-StoreKit%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%98%EB%B3%B5-%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B4%80%EB%A6%AC-aae7a94b"}],["$","meta","6",{"name":"apple-mobile-web-app-capable","content":"yes"}],["$","meta","7",{"name":"apple-mobile-web-app-title","content":"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리 | 마고자비 블로그"}],["$","meta","8",{"name":"apple-mobile-web-app-status-bar-style","content":"default"}],["$","meta","9",{"property":"og:title","content":"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리 | 마고자비 블로그"}],["$","meta","10",{"property":"og:description","content":"이 문서는 iOS 애플리케이션에서 StoreKit을 이용하여 구독 모델을 구현하는 방법을 다룹니다. 반복 결제 시스템 설계와 구독 상태 관리에 대한 자세한 설명을 제공합니다."}],["$","meta","11",{"property":"og:url","content":"https://magomercy.com/swift/iOS-%EA%B5%AC%EB%8F%85-%EB%AA%A8%EB%8D%B8-%EA%B5%AC%ED%98%84-StoreKit%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%98%EB%B3%B5-%EA%B2%B0%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84-%EB%B0%8F-%EA%B4%80%EB%A6%AC-aae7a94b"}],["$","meta","12",{"property":"og:site_name","content":"마고자비 블로그 | 마구잡이로 하고 싶은 것을 합니다."}],["$","meta","13",{"property":"og:locale","content":"kr"}],["$","meta","14",{"property":"og:image","content":"https://magomercy.com/images/swiftBanner2.jpg"}],["$","meta","15",{"property":"og:type","content":"website"}],["$","meta","16",{"name":"twitter:card","content":"summary"}],["$","meta","17",{"name":"twitter:creator","content":"마고자비 블로그"}],["$","meta","18",{"name":"twitter:title","content":"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리 | 마고자비 블로그"}],["$","meta","19",{"name":"twitter:description","content":"이 문서는 iOS 애플리케이션에서 StoreKit을 이용하여 구독 모델을 구현하는 방법을 다룹니다. 반복 결제 시스템 설계와 구독 상태 관리에 대한 자세한 설명을 제공합니다."}],["$","meta","20",{"name":"twitter:image","content":"https://magomercy.com/images/swiftBanner2.jpg"}],["$","link","21",{"rel":"icon","href":"https://magomercy.com/favicon32.png"}],["$","link","22",{"rel":"apple-touch-icon","href":"https://magomercy.com/favicon32.png"}],["$","meta","23",{"name":"next-size-adjust"}]]
a:I{"id":22873,"chunks":["986:static/chunks/986-5f83c849e7b0dffa.js","754:static/chunks/754-8b5d90286cb88ad9.js","543:static/chunks/543-fe4d83430fed7822.js","288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js"],"name":"","async":false}
b:I{"id":84423,"chunks":["986:static/chunks/986-5f83c849e7b0dffa.js","754:static/chunks/754-8b5d90286cb88ad9.js","543:static/chunks/543-fe4d83430fed7822.js","288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js"],"name":"","async":false}
c:I{"id":2346,"chunks":["986:static/chunks/986-5f83c849e7b0dffa.js","754:static/chunks/754-8b5d90286cb88ad9.js","543:static/chunks/543-fe4d83430fed7822.js","288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js"],"name":"","async":false}
d:I{"id":67490,"chunks":["986:static/chunks/986-5f83c849e7b0dffa.js","754:static/chunks/754-8b5d90286cb88ad9.js","543:static/chunks/543-fe4d83430fed7822.js","288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js"],"name":"MarkDownCode","async":false}
e:I{"id":87272,"chunks":["986:static/chunks/986-5f83c849e7b0dffa.js","754:static/chunks/754-8b5d90286cb88ad9.js","543:static/chunks/543-fe4d83430fed7822.js","288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js"],"name":"","async":false}
f:I{"id":55026,"chunks":["986:static/chunks/986-5f83c849e7b0dffa.js","754:static/chunks/754-8b5d90286cb88ad9.js","543:static/chunks/543-fe4d83430fed7822.js","288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js"],"name":"","async":false}
9:[["$","$La",null,{"language":"kr","screenType":"ARTICLE_DETAIL"}],["$","section",null,{"className":"flex fixed top-0 left-0 w-full  md:h-[600px] h-[300px] justify-center","style":{"backgroundImage":"url(/images/swiftBanner2.jpg)","backgroundPosition":"center","backgroundSize":"contain","backgroundRepeat":"no-repeat"},"children":[["$","div",null,{"className":"w-full md:h-[600px] h-[300px]  bg-[#171E24] bg-opacity-[0.35] absolute top-0 left-0"}],["$","div",null,{"className":"hidden md:flex flex-col justify-end w-[100%] md:w-[700px] px-[20px] pb-[100px]","children":["$","h1",null,{"className":"font-semibold text-[40px] text-gray-100 text-shadow-default z-40","children":"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리"}]}]]}],["$","main",null,{"className":"flex flex-row justify-center md:py-[120px] py-[60px] bg-white md:mt-[600px] mt-[300px] relative z-30 ","children":[["$","div",null,{"className":"xl:flex hidden w-[300px]","children":["$","div",null,{"className":"toc sticky top-[90px] flex flex-col","children":["$","$Lb",null,{}]}]}],["$","article",null,{"className":"flex flex-col w-full md:w-[600px] px-[20px] md:px-[0px] gap-[40px]","children":[["$","div",null,{"className":"md:hidden border-b-[0.6px] pb-[40px] border-gray-200","children":["$","h1",null,{"className":"text-[28px] font-bold leading-[150%]","children":"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리"}]}],["$","div",null,{"className":"flex flex-col","children":[["$","$Lc",null,{}],["$","div",null,{"children":["작성일 : ",["$","time",null,{"children":"2024-07-02"}]]}]]}],["$","div",null,{"children":["$","div",null,{"className":"md-to-html","children":[["$","h1",null,{"id":"a79d9838","className":"md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900","children":"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"애플리케이션 개발자에게 구독 모델은 안정적인 수익 모델을 제공합니다. Apple의 StoreKit 프레임워크는 iOS 앱에서 인앱 구독을 손쉽게 관리하고 반복 결제를 처리할 수 있도록 해줍니다. 이 문서에서는 iOS 애플리케이션에 StoreKit을 사용하여 구독 모델을 구현하는 방법을 단계별로 설명합니다."}],"\n",["$","h2",null,{"id":"f60ef07c","className":"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800","children":"준비 작업"}],"\n",["$","h3",null,{"id":"4199ffbf","className":"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800","children":"Apple Developer 계정 설정"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"먼저 구독 모델을 구현하려면 Apple Developer 계정이 필요합니다. Apple Developer 계정으로 로그인한 후 App Store Connect에서 새로운 애플리케이션을 생성하거나 기존의 애플리케이션에 인앱 구독 상품을 추가합니다."}],"\n",["$","ol","ol-0",{"children":["\n",["$","li","li-0",{"children":"App Store Connect에 로그인합니다."}],"\n",["$","li","li-1",{"children":[["$","$Ld",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"My Apps","position":{"start":{"line":13,"column":4,"offset":432},"end":{"line":13,"column":13,"offset":441}}}],"position":{"start":{"line":13,"column":4,"offset":432},"end":{"line":13,"column":13,"offset":441}}},"children":"My Apps"}}],"로 이동하여 새로운 앱을 생성하거나 기존 앱을 선택합니다."]}],"\n",["$","li","li-2",{"children":[["$","$Ld",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Features","position":{"start":{"line":14,"column":4,"offset":477},"end":{"line":14,"column":14,"offset":487}}}],"position":{"start":{"line":14,"column":4,"offset":477},"end":{"line":14,"column":14,"offset":487}}},"children":"Features"}}]," 탭에서 ",["$","$Ld",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"In-App Purchases","position":{"start":{"line":14,"column":19,"offset":492},"end":{"line":14,"column":37,"offset":510}}}],"position":{"start":{"line":14,"column":19,"offset":492},"end":{"line":14,"column":37,"offset":510}}},"children":"In-App Purchases"}}],"를 선택합니다."]}],"\n",["$","li","li-3",{"children":[["$","$Ld",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"+","position":{"start":{"line":15,"column":4,"offset":522},"end":{"line":15,"column":7,"offset":525}}}],"position":{"start":{"line":15,"column":4,"offset":522},"end":{"line":15,"column":7,"offset":525}}},"children":"+"}}]," 버튼을 클릭하여 새로운 인앱 구매 항목을 추가합니다."]}],"\n",["$","li","li-4",{"children":[["$","$Ld",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Subscription","position":{"start":{"line":16,"column":4,"offset":559},"end":{"line":16,"column":18,"offset":573}}}],"position":{"start":{"line":16,"column":4,"offset":559},"end":{"line":16,"column":18,"offset":573}}},"children":"Subscription"}}]," 유형을 선택하고 필요한 정보를 입력합니다."]}],"\n"]}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"이 과정에서 구독 항목의 이름, 설명, 가격 및 결제 주기를 설정할 수 있습니다. 항목을 입력한 후 검토 및 승인을 기다립니다."}],"\n",["$","h3",null,{"id":"4843ac6b","className":"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800","children":"Xcode 프로젝트 설정"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"앱 내부에서는 Xcode를 사용하여 StoreKit 프레임워크를 설정해야 합니다. StoreKit은 기본적으로 iOS 프로젝트에 포함되어 있으므로 별도의 설치는 필요하지 않습니다."}],"\n",["$","pre","pre-0",{"children":["$","$Ld",null,{"props":{"className":"language-swift","node":{"type":"element","tagName":"code","properties":{"className":["language-swift"]},"children":[{"type":"text","value":"import StoreKit\n"}],"position":{"start":{"line":24,"column":1,"offset":793},"end":{"line":26,"column":4,"offset":821}}},"children":"import StoreKit\n"}}]}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"위의 코드를 프로젝트의 적절한 위치에 추가하여 StoreKit을 가져옵니다."}],"\n",["$","h2",null,{"id":"031247c4","className":"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800","children":"StoreKit 초기화 및 제품 식별자 설정"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"사용자가 구독을 시작할 수 있도록 코드에서 StoreKit을 초기화하고 제품 식별자를 설정해야 합니다. 다음은 이를 위한 샘플 코드입니다."}],"\n",["$","pre","pre-1",{"children":["$","$Ld",null,{"props":{"className":"language-swift","node":{"type":"element","tagName":"code","properties":{"className":["language-swift"]},"children":[{"type":"text","value":"class SubscriptionManager: NSObject, SKProductsRequestDelegate, SKPaymentTransactionObserver {\n    static let shared = SubscriptionManager()\n    let productIdentifiers: Set<String> = [\"com.yourapp.subscription.monthly\"]\n    var products = [SKProduct]()\n\n    func requestProducts() {\n        let request = SKProductsRequest(productIdentifiers: productIdentifiers)\n        request.delegate = self\n        request.start()\n    }\n\n    func productsRequest(_ request: SKProductsRequest, didReceive response: SKProductsResponse) {\n        products = response.products\n        // 제품 리스트 업데이트 로직\n    }\n}\n"}],"position":{"start":{"line":34,"column":1,"offset":975},"end":{"line":51,"column":4,"offset":1582}}},"children":"class SubscriptionManager: NSObject, SKProductsRequestDelegate, SKPaymentTransactionObserver {\n    static let shared = SubscriptionManager()\n    let productIdentifiers: Set<String> = [\"com.yourapp.subscription.monthly\"]\n    var products = [SKProduct]()\n\n    func requestProducts() {\n        let request = SKProductsRequest(productIdentifiers: productIdentifiers)\n        request.delegate = self\n        request.start()\n    }\n\n    func productsRequest(_ request: SKProductsRequest, didReceive response: SKProductsResponse) {\n        products = response.products\n        // 제품 리스트 업데이트 로직\n    }\n}\n"}}]}],"\n",["$","h2",null,{"id":"ec2604dd","className":"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800","children":"구독 구매 및 상태 관리"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"사용자가 구독을 구매할 수 있도록 프로세스를 설정해야 합니다. 이는 크게 세 단계로 나눌 수 있습니다: 구독 상품 표시, 구매 트랜잭션 처리, 구독 상태 갱신."}],"\n",["$","h3",null,{"id":"187bc948","className":"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800","children":"구독 상품 표시"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"앱 내에서 구독 상품을 사용자에게 보여주는 UI를 구현합니다. 예를 들어, 스토어 화면이나 구독 전용 페이지에 구독 옵션을 나열할 수 있습니다."}],"\n",["$","pre","pre-2",{"children":["$","$Ld",null,{"props":{"className":"language-swift","node":{"type":"element","tagName":"code","properties":{"className":["language-swift"]},"children":[{"type":"text","value":"func displayProducts() {\n    // 상품을 표시하는 UI 업데이트 로직\n    for product in products {\n        print(\"Product: \\(product.localizedTitle) - Price: \\(product.priceLocale.currencySymbol ?? \"\")\\(product.price)\")\n    }\n}\n"}],"position":{"start":{"line":61,"column":1,"offset":1789},"end":{"line":68,"column":4,"offset":2012}}},"children":"func displayProducts() {\n    // 상품을 표시하는 UI 업데이트 로직\n    for product in products {\n        print(\"Product: \\(product.localizedTitle) - Price: \\(product.priceLocale.currencySymbol ?? \"\")\\(product.price)\")\n    }\n}\n"}}]}],"\n",["$","h3",null,{"id":"63cea9d5","className":"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800","children":"구매 트랜잭션 처리"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"사용자가 구독 상품을 선택하면 결제 프로세스를 시작하여 트랜잭션을 처리합니다."}],"\n",["$","pre","pre-3",{"children":["$","$Ld",null,{"props":{"className":"language-swift","node":{"type":"element","tagName":"code","properties":{"className":["language-swift"]},"children":[{"type":"text","value":"func purchase(product: SKProduct) {\n    if SKPaymentQueue.canMakePayments() {\n        let payment = SKPayment(product: product)\n        SKPaymentQueue.default().add(payment)\n    } else {\n        print(\"In-app purchases are not allowed\")\n    }\n}\n"}],"position":{"start":{"line":74,"column":1,"offset":2075},"end":{"line":83,"column":4,"offset":2332}}},"children":"func purchase(product: SKProduct) {\n    if SKPaymentQueue.canMakePayments() {\n        let payment = SKPayment(product: product)\n        SKPaymentQueue.default().add(payment)\n    } else {\n        print(\"In-app purchases are not allowed\")\n    }\n}\n"}}]}],"\n",["$","h3",null,{"id":"5de5d577","className":"md:text-[24px] text-[20px] font-medium leading-[140%] md:py-[30px] py-[18px] text-gray-800","children":"트랜잭션 업데이트 처리"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":["결제 트랜잭션을 처리하고 상태를 관리하기 위해 ",["$","$Ld",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SKPaymentTransactionObserver","position":{"start":{"line":87,"column":27,"offset":2378},"end":{"line":87,"column":57,"offset":2408}}}],"position":{"start":{"line":87,"column":27,"offset":2378},"end":{"line":87,"column":57,"offset":2408}}},"children":"SKPaymentTransactionObserver"}}],"를 구현합니다."]}],"\n",["$","pre","pre-4",{"children":["$","$Ld",null,{"props":{"className":"language-swift","node":{"type":"element","tagName":"code","properties":{"className":["language-swift"]},"children":[{"type":"text","value":"func paymentQueue(_ queue: SKPaymentQueue, updatedTransactions transactions: [SKPaymentTransaction]) {\n    for transaction in transactions {\n        switch transaction.transactionState {\n        case .purchased:\n            // 구독 활성화 로직\n            SKPaymentQueue.default().finishTransaction(transaction)\n        case .failed:\n            // 에러 처리 로직\n            SKPaymentQueue.default().finishTransaction(transaction)\n        case .restored:\n            // 구독 복원 로직\n            SKPaymentQueue.default().finishTransaction(transaction)\n        default:\n            break\n        }\n    }\n}\n"}],"position":{"start":{"line":89,"column":1,"offset":2418},"end":{"line":107,"column":4,"offset":3018}}},"children":"func paymentQueue(_ queue: SKPaymentQueue, updatedTransactions transactions: [SKPaymentTransaction]) {\n    for transaction in transactions {\n        switch transaction.transactionState {\n        case .purchased:\n            // 구독 활성화 로직\n            SKPaymentQueue.default().finishTransaction(transaction)\n        case .failed:\n            // 에러 처리 로직\n            SKPaymentQueue.default().finishTransaction(transaction)\n        case .restored:\n            // 구독 복원 로직\n            SKPaymentQueue.default().finishTransaction(transaction)\n        default:\n            break\n        }\n    }\n}\n"}}]}],"\n",["$","h2",null,{"id":"e53fdd54","className":"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800","children":"결제 영수증 검증 및 구독 상태 확인"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"구독 상태를 정확히 관리하려면 결제 영수증을 검증하고 사용자의 구독 상태를 주기적으로 확인해야 합니다. 이는 보안상의 이유로 백엔드 서버에서 처리하는 것이 가장 좋습니다. 백엔드 서버는 Apple의 영수증 검증 API를 이용해 사용자의 구독 상태를 검증할 수 있습니다."}],"\n",["$","pre","pre-5",{"children":["$","$Ld",null,{"props":{"className":"language-swift","node":{"type":"element","tagName":"code","properties":{"className":["language-swift"]},"children":[{"type":"text","value":"func verifyReceipt() {\n    // 백엔드 서버로 영수증 데이터 전송 및 검증 로직\n}\n"}],"position":{"start":{"line":113,"column":1,"offset":3197},"end":{"line":117,"column":4,"offset":3268}}},"children":"func verifyReceipt() {\n    // 백엔드 서버로 영수증 데이터 전송 및 검증 로직\n}\n"}}]}],"\n",["$","h2",null,{"id":"f48dcfc1","className":"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800","children":"구독 관리 및 갱신"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"사용자는 언제든지 자신의 구독을 관리하고 갱신할 수 있어야 합니다. 이를 위해 앱 내에서 사용자에게 구독 상태를 표시하고, 필요시 갱신 또는 해지할 수 있는 기능을 제공해야 합니다."}],"\n",["$","pre","pre-6",{"children":["$","$Ld",null,{"props":{"className":"language-swift","node":{"type":"element","tagName":"code","properties":{"className":["language-swift"]},"children":[{"type":"text","value":"func manageSubscriptions() {\n    if let url = URL(string: \"https://apps.apple.com/account/subscriptions\") {\n        UIApplication.shared.open(url)\n    }\n}\n"}],"position":{"start":{"line":123,"column":1,"offset":3388},"end":{"line":129,"column":4,"offset":3555}}},"children":"func manageSubscriptions() {\n    if let url = URL(string: \"https://apps.apple.com/account/subscriptions\") {\n        UIApplication.shared.open(url)\n    }\n}\n"}}]}],"\n",["$","h2",null,{"id":"ed8464a3","className":"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800","children":"마무리"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"iOS 앱에서 StoreKit을 이용해 구독 모델을 구현하는 것은 복잡하지만, 위에서 설명한 단계를 따르면 사용자에게 원활한 구독 경험을 제공할 수 있습니다. 올바르게 설계된 구독 모델은 애플리케이션의 수익성을 높이고 사용자 유지율을 향상시킬 수 있습니다."}]]}]}],["$","$Le",null,{}]]}],["$","div",null,{"className":"xl:flex hidden w-[300px]","children":["$","$Lf",null,{"articleTitle":"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리","toc":[{"tagName":"h1","title":"iOS 구독 모델 구현: StoreKit을 이용한 반복 결제 시스템 설계 및 관리","id":"a79d9838"},{"tagName":"h2","title":"준비 작업","id":"f60ef07c"},{"tagName":"h3","title":"Apple Developer 계정 설정","id":"4199ffbf"},{"tagName":"h3","title":"Xcode 프로젝트 설정","id":"4843ac6b"},{"tagName":"h2","title":"StoreKit 초기화 및 제품 식별자 설정","id":"031247c4"},{"tagName":"h2","title":"구독 구매 및 상태 관리","id":"ec2604dd"},{"tagName":"h3","title":"구독 상품 표시","id":"187bc948"},{"tagName":"h3","title":"구매 트랜잭션 처리","id":"63cea9d5"},{"tagName":"h3","title":"트랜잭션 업데이트 처리","id":"5de5d577"},{"tagName":"h2","title":"결제 영수증 검증 및 구독 상태 확인","id":"e53fdd54"},{"tagName":"h2","title":"구독 관리 및 갱신","id":"f48dcfc1"},{"tagName":"h2","title":"마무리","id":"ed8464a3"}],"language":"kr"}]}]]}]]
8:null
