<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/><link rel="preload" as="font" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/98e4530578c425d7.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-2f2428fbb7549638.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-695585668d16e3fb.js" async=""></script><script src="/_next/static/chunks/596-e6a99af3279f5db8.js" async=""></script><script src="/_next/static/chunks/main-app-8d8e64378ebd25aa.js" async=""></script><link rel="preload" as="script" href="https://www.googletagmanager.com/gtag/js?id=G-DRZBQ8XGPS"/><title>[Swift] Copy on Write (COW) | 마고자비 블로그</title><meta name="description" content="Copy on Write(COW)에 대해서 간단하게 정리합니다."/><meta name="keywords" content="swift,basic"/><link rel="canonical" href="https://magomercy.com/swift/copy+on+write"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-title" content="[Swift] Copy on Write (COW) | 마고자비 블로그"/><meta name="apple-mobile-web-app-status-bar-style" content="default"/><meta property="og:title" content="[Swift] Copy on Write (COW) | 마고자비 블로그"/><meta property="og:description" content="Copy on Write(COW)에 대해서 간단하게 정리합니다."/><meta property="og:url" content="https://magomercy.com/swift/copy+on+write"/><meta property="og:site_name" content="마고자비 블로그 | 마구잡이로 하고 싶은 것을 합니다."/><meta property="og:locale" content="kr"/><meta property="og:image" content="https://magomercy.com/images/cow.jpg"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:creator" content="마고자비 블로그"/><meta name="twitter:title" content="[Swift] Copy on Write (COW) | 마고자비 블로그"/><meta name="twitter:description" content="Copy on Write(COW)에 대해서 간단하게 정리합니다."/><meta name="twitter:image" content="https://magomercy.com/images/cow.jpg"/><link rel="icon" href="https://magomercy.com/favicon32.png"/><link rel="apple-touch-icon" href="https://magomercy.com/favicon32.png"/><meta name="next-size-adjust"/><meta name="google-site-verification" content="WaKebxnU_qX7Mu3Qu9GWWzpa_7KmuUe8QEsu6fKv3bc"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_aaf875"><div class="flex flex-col w-full fixed top-[0px] z-50 "><header class="flex flex-row justify-center w-[100%] sm:h-[80px] h-[60px]  "><div class="flex justify-between items-center xl:w-[1200px] w-[100%] sm:px-[40px] px-[20px]"><a href="/"><img alt="로고" loading="lazy" width="140" height="35" decoding="async" data-nimg="1" class="sm:block hidden" style="color:transparent" src="/dallogLogo.png"/><img alt="로고" loading="lazy" width="104" height="26" decoding="async" data-nimg="1" class="sm:hidden" style="color:transparent" src="/dallogLogoDark.png"/></a><nav><ul class="flex flex-row md:gap-[20px] gap-[10px]"><li><a href="/search" target="_blank"><div class="sm:flex hidden items-center h-[40px] px-[18px]  rounded-[100px] text-[15px] text-gray-100 gap-[4px] "><img alt="검색 아이콘" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" style="color:transparent" src="/search.png"/>검색</div><div class="sm:hidden flex justify-center items-center h-[40px] w-[40px]"><img alt="검색 아이콘" loading="lazy" width="22" height="22" decoding="async" data-nimg="1" class="sm:hidden" style="color:transparent" src="/search_dark.png"/></div></a></li><li><a href="/profile" target="_blank"><div class="sm:flex hidden items-center h-[40px] px-[18px] rounded-[100px] "><img alt="프로필 아이콘" loading="lazy" width="24" height="24" decoding="async" data-nimg="1" style="color:transparent" src="/i_person.png"/></div><div class="sm:hidden flex justify-center items-center h-[40px] w-[40px]"><img alt="프로필 아이콘" loading="lazy" width="28" height="28" decoding="async" data-nimg="1" style="color:transparent" src="/i_person_dark.png"/></div></a></li></ul></nav></div></header><div class="w-full flex flex-row justify-start"><div class="h-[2px] bg-[#F2D024] filter-blur-4" style="width:0%"></div></div></div><section class="flex fixed top-0 left-0 w-full  md:h-[600px] h-[300px] justify-center" style="background-image:url(/images/cow.jpg);background-position:center;background-size:contain;background-repeat:no-repeat"><div class="w-full md:h-[600px] h-[300px]  bg-[#171E24] bg-opacity-[0.35] absolute top-0 left-0"></div><div class="hidden md:flex flex-col justify-end w-[100%] md:w-[700px] px-[20px] pb-[100px]"><h1 class="font-semibold text-[40px] text-gray-100 text-shadow-default z-40">[Swift] Copy on Write (COW)</h1></div></section><main class="flex flex-row justify-center md:py-[120px] py-[60px] bg-white md:mt-[600px] mt-[300px] relative z-30 "><div class="xl:flex hidden w-[300px]"><div class="toc sticky top-[90px] flex flex-col"><div class="googleAd-container" style="width:100%;padding-left:30px;padding-right:30px"><ins class="adsbygoogle" style="display:block" data-ad-slot="9496760534" data-ad-format="auto" data-full-width-responsive="true"></ins></div></div></div><article class="flex flex-col w-full md:w-[600px] px-[20px] md:px-[0px] gap-[40px]"><div class="md:hidden border-b-[0.6px] pb-[40px] border-gray-200"><h1 class="text-[28px] font-bold leading-[150%]">[Swift] Copy on Write (COW)</h1></div><div class="flex flex-col"><div class="googleAd-container" style="width:100%"><ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-6t+ed+2i-1n-4w" data-ad-client="ca-pub-4221532240017712" data-ad-slot="5421225677"></ins></div><div>작성일 : <time>2023-04-20</time></div></div><div><div class="md-to-html"><h1 id="476966c5" class="md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900">개요</h1>
<hr/>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">값 타입(value type)에 대해서 학습하다보면 Copy on write(cow)에 대한 내용을 종종 볼 수 있다. 평소에는 메모리를 효율적으로 쓰는 기법 중 하나라고 이해하고 넘겼지만, mutating을 이해하기 위해서는 COW를 깊게 이해하고 있어야 하기에 이렇게 정리를 한다.</p>
<h1 id="20422c5d" class="md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900">Swift에서 Copy on Write(COW)</h1>
<hr/>
<blockquote class="bg-gray-100 p-[40px] md:my-[30px] my-[20px] rounded-[16px]">
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">COW는 Swift 자체 기능이라기 보다는 컴퓨터 프로그래밍에서 사용되는 리소스 관리 기술이다. 여기서 설명하는 COW는 Swift 언어에 한정된 설명이다.</p>
</blockquote>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">COW는 메모리 할당과 해제를 최적화하는 기술이며 값 타입에 제공되는 기능이다. 값 타입은 데이터의 값을 복사하여 새로운 인스턴스를 생성하는 타입을 말한다. Swift에서는 구조체(struct), 열거형(enum) 등이 값 타입에 해당된다. 하지만 value type은 인스턴스를 생성할 때 바로 데이터 값을 복사하지 않는다. 마치 reference type과 유사하게 새로운 인스턴스를 생성하면 기존 인스턴스와 메모리를 공유하고 새로운 인스턴스가 변경될 때 값을 복사한다. 쉽게 말해서 새로운 인스턴스를 생성하는 시점을 미루는 기법이다.</p>
<h1 id="ded485c3" class="md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900">언제 최적화 효과가 많이 나타날까?</h1>
<hr/>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">COW는 주로 대용량의 데이터를 다룰 때 유용하다. 예를 들어, 문자열(String)은 struct로 구현되어 있으며, 문자열을 복사하면 해당 문자열의 모든 문자를 복사해야 한다. 만약 문자열이 매우 크다면 복사하는데 많은 시간과 메모리가 필요하다. COW를 사용하면 문자열을 복사하는 대신, 원래의 문자열과 공유하다가 변경이 발생하면 새로운 문자열을 생성하게 되므로 메모리 사용을 줄일 수 있다.</p>
<h1 id="5b5f26e1" class="md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900">한계점 및 주의사항</h1>
<hr/>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">COW는 값 타입에서만 사용할 수 있으며 참조(Reference) 타입인 class에서는 사용할 수 없다. 또한, COW는 메모리 사용을 최적화하기 위한 기능이므로 항상 성능상 이점을 제공하지는 않습니다. 따라서 각각의 상황에 맞는 최적의 구현 방식을 선택하는 것이 중요하다.</p>
<h1 id="b767d08a" class="md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900">참고</h1>
<hr/>
<ul>
<li><a href="https://programmers.co.kr/" class=" text-gray-500 font-normal no-underline px-[4px]">🔗 <span class="italic underline">위키 Copy-on-write</span></a></li>
<li><a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/aboutswift/" class=" text-gray-500 font-normal no-underline px-[4px]">🔗 <span class="italic underline">swift language docs</span></a></li>
</ul></div></div><div class="googleAd-container" style="width:100%"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-4221532240017712" data-ad-slot="6323802284"></ins></div></article><div class="xl:flex hidden w-[300px]"><section class="flex flex-col pl-[30px] "><div class="toc sticky top-[90px] flex flex-col"><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-medium py-[5px]" href="#476966c5">개요</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-medium py-[5px]" href="#20422c5d">Swift에서 Copy on Write(COW)</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-medium py-[5px]" href="#ded485c3">언제 최적화 효과가 많이 나타날까?</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-medium py-[5px]" href="#5b5f26e1">한계점 및 주의사항</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-medium py-[5px]" href="#b767d08a">참고</a><div class="googleAd-container" style="width:100%;padding-left:30px;padding-right:30px"><ins class="adsbygoogle" style="display:block" data-ad-slot="9496760534" data-ad-format="auto" data-full-width-responsive="true"></ins></div></div></section></div></main><script src="/_next/static/chunks/webpack-2f2428fbb7549638.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/98e4530578c425d7.css\",{\"as\":\"style\"}]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:I{\"id\":57948,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n6:I{\"id\":56628,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":42879,\"chunks\":[\"185:static/chunks/app/layout-b198f10c98e34978.js\"],\"name\":\"GoogleAnalytics\",\"async\":false}\n8:I{"])</script><script>self.__next_f.push([1,"\"id\":47767,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n9:I{\"id\":57920,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/98e4530578c425d7.css\",\"precedence\":\"next\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"BTzIZmIeYXT3BlsSUt3SU\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/swift/copy%2Bon%2Bwrite\",\"initialTree\":[\"\",{\"children\":[\"swift\",{\"children\":[[\"slug\",\"copy%2Bon%2Bwrite\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"copy+on+write\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L5\"],\"globalErrorComponent\":\"$6\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[[\"$\",\"$L7\",null,{}],[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"swift\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"swift\",\"children\",[\"slug\",\"copy%2Bon%2Bwrite\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$La\",\"$Lb\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"copy+on+write\\\"}\"},\"styles\":[]}],\"segment\":[\"slug\",\"copy%2Bon%2Bwrite\",\"d\"]},\"styles\":[]}],\"segment\":\"swift\"},\"styles\":[]}]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"c:I{\"id\":22873,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\nd:I{\"id\":84423,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\ne:I{\"id\":2346,\"chunks\""])</script><script>self.__next_f.push([1,":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\nf:I{\"id\":62313,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\n12:I{\"id\":87272,\"chunks\":[\"986:static/chunks/"])</script><script>self.__next_f.push([1,"986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\n13:I{\"id\":55026,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\n10:T95f,"])</script><script>self.__next_f.push([1,"\n# 개요\n\n---\n\n값 타입(value type)에 대해서 학습하다보면 Copy on write(cow)에 대한 내용을 종종 볼 수 있다. 평소에는 메모리를 효율적으로 쓰는 기법 중 하나라고 이해하고 넘겼지만, mutating을 이해하기 위해서는 COW를 깊게 이해하고 있어야 하기에 이렇게 정리를 한다.\n\n# Swift에서 Copy on Write(COW)\n\n---\n\n\u003e COW는 Swift 자체 기능이라기 보다는 컴퓨터 프로그래밍에서 사용되는 리소스 관리 기술이다. 여기서 설명하는 COW는 Swift 언어에 한정된 설명이다.\n\nCOW는 메모리 할당과 해제를 최적화하는 기술이며 값 타입에 제공되는 기능이다. 값 타입은 데이터의 값을 복사하여 새로운 인스턴스를 생성하는 타입을 말한다. Swift에서는 구조체(struct), 열거형(enum) 등이 값 타입에 해당된다. 하지만 value type은 인스턴스를 생성할 때 바로 데이터 값을 복사하지 않는다. 마치 reference type과 유사하게 새로운 인스턴스를 생성하면 기존 인스턴스와 메모리를 공유하고 새로운 인스턴스가 변경될 때 값을 복사한다. 쉽게 말해서 새로운 인스턴스를 생성하는 시점을 미루는 기법이다.\n\n# 언제 최적화 효과가 많이 나타날까?\n\n---\n\nCOW는 주로 대용량의 데이터를 다룰 때 유용하다. 예를 들어, 문자열(String)은 struct로 구현되어 있으며, 문자열을 복사하면 해당 문자열의 모든 문자를 복사해야 한다. 만약 문자열이 매우 크다면 복사하는데 많은 시간과 메모리가 필요하다. COW를 사용하면 문자열을 복사하는 대신, 원래의 문자열과 공유하다가 변경이 발생하면 새로운 문자열을 생성하게 되므로 메모리 사용을 줄일 수 있다.\n\n# 한계점 및 주의사항\n\n---\n\nCOW는 값 타입에서만 사용할 수 있으며 참조(Reference) 타입인 class에서는 사용할 수 없다. 또한, COW는 메모리 사용을 최적화하기 위한 기능이므로 항상 성능상 이점을 제공하지는 않습니다. 따라서 각각의 상황에 맞는 최적의 구현 방식을 선택하는 것이 중요하다.\n\n# 참고\n\n---\n\n- [위키 Copy-on-write](https://programmers.co.kr/)\n- [swift language docs](https://docs.swift.org/swift-book/documentation/the-swift-programming-language/aboutswift/)\n"])</script><script>self.__next_f.push([1,"11:T95f,"])</script><script>self.__next_f.push([1,"\n# 개요\n\n---\n\n값 타입(value type)에 대해서 학습하다보면 Copy on write(cow)에 대한 내용을 종종 볼 수 있다. 평소에는 메모리를 효율적으로 쓰는 기법 중 하나라고 이해하고 넘겼지만, mutating을 이해하기 위해서는 COW를 깊게 이해하고 있어야 하기에 이렇게 정리를 한다.\n\n# Swift에서 Copy on Write(COW)\n\n---\n\n\u003e COW는 Swift 자체 기능이라기 보다는 컴퓨터 프로그래밍에서 사용되는 리소스 관리 기술이다. 여기서 설명하는 COW는 Swift 언어에 한정된 설명이다.\n\nCOW는 메모리 할당과 해제를 최적화하는 기술이며 값 타입에 제공되는 기능이다. 값 타입은 데이터의 값을 복사하여 새로운 인스턴스를 생성하는 타입을 말한다. Swift에서는 구조체(struct), 열거형(enum) 등이 값 타입에 해당된다. 하지만 value type은 인스턴스를 생성할 때 바로 데이터 값을 복사하지 않는다. 마치 reference type과 유사하게 새로운 인스턴스를 생성하면 기존 인스턴스와 메모리를 공유하고 새로운 인스턴스가 변경될 때 값을 복사한다. 쉽게 말해서 새로운 인스턴스를 생성하는 시점을 미루는 기법이다.\n\n# 언제 최적화 효과가 많이 나타날까?\n\n---\n\nCOW는 주로 대용량의 데이터를 다룰 때 유용하다. 예를 들어, 문자열(String)은 struct로 구현되어 있으며, 문자열을 복사하면 해당 문자열의 모든 문자를 복사해야 한다. 만약 문자열이 매우 크다면 복사하는데 많은 시간과 메모리가 필요하다. COW를 사용하면 문자열을 복사하는 대신, 원래의 문자열과 공유하다가 변경이 발생하면 새로운 문자열을 생성하게 되므로 메모리 사용을 줄일 수 있다.\n\n# 한계점 및 주의사항\n\n---\n\nCOW는 값 타입에서만 사용할 수 있으며 참조(Reference) 타입인 class에서는 사용할 수 없다. 또한, COW는 메모리 사용을 최적화하기 위한 기능이므로 항상 성능상 이점을 제공하지는 않습니다. 따라서 각각의 상황에 맞는 최적의 구현 방식을 선택하는 것이 중요하다.\n\n# 참고\n\n---\n\n- [위키 Copy-on-write](https://programmers.co.kr/)\n- [swift language docs](https://docs.swift.org/swift-book/documentation/the-swift-programming-language/aboutswift/)\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"$Lc\",null,{\"language\":\"kr\",\"screenType\":\"ARTICLE_DETAIL\"}],[\"$\",\"section\",null,{\"className\":\"flex fixed top-0 left-0 w-full  md:h-[600px] h-[300px] justify-center\",\"style\":{\"backgroundImage\":\"url(/images/cow.jpg)\",\"backgroundPosition\":\"center\",\"backgroundSize\":\"contain\",\"backgroundRepeat\":\"no-repeat\"},\"children\":[[\"$\",\"div\",null,{\"className\":\"w-full md:h-[600px] h-[300px]  bg-[#171E24] bg-opacity-[0.35] absolute top-0 left-0\"}],[\"$\",\"div\",null,{\"className\":\"hidden md:flex flex-col justify-end w-[100%] md:w-[700px] px-[20px] pb-[100px]\",\"children\":[\"$\",\"h1\",null,{\"className\":\"font-semibold text-[40px] text-gray-100 text-shadow-default z-40\",\"children\":\"[Swift] Copy on Write (COW)\"}]}]]}],[\"$\",\"main\",null,{\"className\":\"flex flex-row justify-center md:py-[120px] py-[60px] bg-white md:mt-[600px] mt-[300px] relative z-30 \",\"children\":[[\"$\",\"div\",null,{\"className\":\"xl:flex hidden w-[300px]\",\"children\":[\"$\",\"div\",null,{\"className\":\"toc sticky top-[90px] flex flex-col\",\"children\":[\"$\",\"$Ld\",null,{}]}]}],[\"$\",\"article\",null,{\"className\":\"flex flex-col w-full md:w-[600px] px-[20px] md:px-[0px] gap-[40px]\",\"children\":[[\"$\",\"div\",null,{\"className\":\"md:hidden border-b-[0.6px] pb-[40px] border-gray-200\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-[28px] font-bold leading-[150%]\",\"children\":\"[Swift] Copy on Write (COW)\"}]}],[\"$\",\"div\",null,{\"className\":\"flex flex-col\",\"children\":[[\"$\",\"$Le\",null,{}],[\"$\",\"div\",null,{\"children\":[\"작성일 : \",[\"$\",\"time\",null,{\"children\":\"2023-04-20\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"md-to-html\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"476966c5\",\"className\":\"md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900\",\"children\":\"개요\"}],\"\\n\",[\"$\",\"hr\",\"hr-0\",{}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"값 타입(value type)에 대해서 학습하다보면 Copy on write(cow)에 대한 내용을 종종 볼 수 있다. 평소에는 메모리를 효율적으로 쓰는 기법 중 하나라고 이해하고 넘겼지만, mutating을 이해하기 위해서는 COW를 깊게 이해하고 있어야 하기에 이렇게 정리를 한다.\"}],\"\\n\",[\"$\",\"h1\",null,{\"id\":\"20422c5d\",\"className\":\"md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900\",\"children\":\"Swift에서 Copy on Write(COW)\"}],\"\\n\",[\"$\",\"hr\",\"hr-1\",{}],\"\\n\",[\"$\",\"blockquote\",null,{\"className\":\"bg-gray-100 p-[40px] md:my-[30px] my-[20px] rounded-[16px]\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"COW는 Swift 자체 기능이라기 보다는 컴퓨터 프로그래밍에서 사용되는 리소스 관리 기술이다. 여기서 설명하는 COW는 Swift 언어에 한정된 설명이다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"COW는 메모리 할당과 해제를 최적화하는 기술이며 값 타입에 제공되는 기능이다. 값 타입은 데이터의 값을 복사하여 새로운 인스턴스를 생성하는 타입을 말한다. Swift에서는 구조체(struct), 열거형(enum) 등이 값 타입에 해당된다. 하지만 value type은 인스턴스를 생성할 때 바로 데이터 값을 복사하지 않는다. 마치 reference type과 유사하게 새로운 인스턴스를 생성하면 기존 인스턴스와 메모리를 공유하고 새로운 인스턴스가 변경될 때 값을 복사한다. 쉽게 말해서 새로운 인스턴스를 생성하는 시점을 미루는 기법이다.\"}],\"\\n\",[\"$\",\"h1\",null,{\"id\":\"ded485c3\",\"className\":\"md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900\",\"children\":\"언제 최적화 효과가 많이 나타날까?\"}],\"\\n\",[\"$\",\"hr\",\"hr-2\",{}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"COW는 주로 대용량의 데이터를 다룰 때 유용하다. 예를 들어, 문자열(String)은 struct로 구현되어 있으며, 문자열을 복사하면 해당 문자열의 모든 문자를 복사해야 한다. 만약 문자열이 매우 크다면 복사하는데 많은 시간과 메모리가 필요하다. COW를 사용하면 문자열을 복사하는 대신, 원래의 문자열과 공유하다가 변경이 발생하면 새로운 문자열을 생성하게 되므로 메모리 사용을 줄일 수 있다.\"}],\"\\n\",[\"$\",\"h1\",null,{\"id\":\"5b5f26e1\",\"className\":\"md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900\",\"children\":\"한계점 및 주의사항\"}],\"\\n\",[\"$\",\"hr\",\"hr-3\",{}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"COW는 값 타입에서만 사용할 수 있으며 참조(Reference) 타입인 class에서는 사용할 수 없다. 또한, COW는 메모리 사용을 최적화하기 위한 기능이므로 항상 성능상 이점을 제공하지는 않습니다. 따라서 각각의 상황에 맞는 최적의 구현 방식을 선택하는 것이 중요하다.\"}],\"\\n\",[\"$\",\"h1\",null,{\"id\":\"b767d08a\",\"className\":\"md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900\",\"children\":\"참고\"}],\"\\n\",[\"$\",\"hr\",\"hr-4\",{}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"href\":\"https://programmers.co.kr/\",\"node\":{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"href\":\"https://programmers.co.kr/\"},\"children\":[{\"type\":\"text\",\"value\":\"위키 Copy-on-write\",\"position\":{\"start\":{\"line\":32,\"column\":4,\"offset\":1043},\"end\":{\"line\":32,\"column\":20,\"offset\":1059}}}],\"position\":{\"start\":{\"line\":32,\"column\":3,\"offset\":1042},\"end\":{\"line\":32,\"column\":49,\"offset\":1088}}},\"children\":\"위키 Copy-on-write\"},\"post\":{\"title\":\"[Swift] Copy on Write (COW)\",\"description\":\"Copy on Write(COW)에 대해서 간단하게 정리합니다.\",\"date\":\"2023-04-20T21:25:07.322Z\",\"tags\":[{\"name\":\"swift\",\"path\":\"/tags/swift\",\"id\":\"swift\"},{\"name\":\"basic\",\"path\":\"/tags/basic\",\"id\":\"basic\"}],\"author\":\"마고유\",\"banner\":\"/images/cow.jpg\",\"project\":\"swift basic\",\"readMin\":\"2.1\",\"totalCnt\":-3,\"monthlyCnt\":0,\"weeklyCnt\":0,\"slug\":\"copy+on+write\",\"content\":\"$10\",\"category\":\"swift\"},\"language\":\"kr\"}]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"href\":\"https://docs.swift.org/swift-book/documentation/the-swift-programming-language/aboutswift/\",\"node\":{\"type\":\"element\",\"tagName\":\"a\",\"properties\":{\"href\":\"https://docs.swift.org/swift-book/documentation/the-swift-programming-language/aboutswift/\"},\"children\":[{\"type\":\"text\",\"value\":\"swift language docs\",\"position\":{\"start\":{\"line\":33,\"column\":4,\"offset\":1092},\"end\":{\"line\":33,\"column\":23,\"offset\":1111}}}],\"position\":{\"start\":{\"line\":33,\"column\":3,\"offset\":1091},\"end\":{\"line\":33,\"column\":116,\"offset\":1204}}},\"children\":\"swift language docs\"},\"post\":{\"title\":\"[Swift] Copy on Write (COW)\",\"description\":\"Copy on Write(COW)에 대해서 간단하게 정리합니다.\",\"date\":\"2023-04-20T21:25:07.322Z\",\"tags\":[{\"name\":\"swift\",\"path\":\"/tags/swift\",\"id\":\"swift\"},{\"name\":\"basic\",\"path\":\"/tags/basic\",\"id\":\"basic\"}],\"author\":\"마고유\",\"banner\":\"/images/cow.jpg\",\"project\":\"swift basic\",\"readMin\":\"2.1\",\"totalCnt\":-3,\"monthlyCnt\":0,\"weeklyCnt\":0,\"slug\":\"copy+on+write\",\"content\":\"$11\",\"category\":\"swift\"},\"language\":\"kr\"}]}],\"\\n\"]}]]}]}],[\"$\",\"$L12\",null,{}]]}],[\"$\",\"div\",null,{\"className\":\"xl:flex hidden w-[300px]\",\"children\":[\"$\",\"$L13\",null,{\"articleTitle\":\"[Swift] Copy on Write (COW)\",\"toc\":[{\"tagName\":\"h1\",\"title\":\"개요\",\"id\":\"476966c5\"},{\"tagName\":\"h1\",\"title\":\"Swift에서 Copy on Write(COW)\",\"id\":\"20422c5d\"},{\"tagName\":\"h1\",\"title\":\"언제 최적화 효과가 많이 나타날까?\",\"id\":\"ded485c3\"},{\"tagName\":\"h1\",\"title\":\"한계점 및 주의사항\",\"id\":\"5b5f26e1\"},{\"tagName\":\"h1\",\"title\":\"참고\",\"id\":\"b767d08a\"}],\"language\":\"kr\"}]}]]}]]\n"])</script><script>self.__next_f.push([1,"5:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"[Swift] Copy on Write (COW) | 마고자비 블로그\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Copy on Write(COW)에 대해서 간단하게 정리합니다.\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"swift,basic\"}],[\"$\",\"meta\",\"4\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no\"}],[\"$\",\"link\",\"5\",{\"rel\":\"canonical\",\"href\":\"https://magomercy.com/swift/copy+on+write\"}],[\"$\",\"meta\",\"6\",{\"name\":\"apple-mobile-web-app-capable\",\"content\":\"yes\"}],[\"$\",\"meta\",\"7\",{\"name\":\"apple-mobile-web-app-title\",\"content\":\"[Swift] Copy on Write (COW) | 마고자비 블로그\"}],[\"$\",\"meta\",\"8\",{\"name\":\"apple-mobile-web-app-status-bar-style\",\"content\":\"default\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:title\",\"content\":\"[Swift] Copy on Write (COW) | 마고자비 블로그\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:description\",\"content\":\"Copy on Write(COW)에 대해서 간단하게 정리합니다.\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:url\",\"content\":\"https://magomercy.com/swift/copy+on+write\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:site_name\",\"content\":\"마고자비 블로그 | 마구잡이로 하고 싶은 것을 합니다.\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:locale\",\"content\":\"kr\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image\",\"content\":\"https://magomercy.com/images/cow.jpg\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:creator\",\"content\":\"마고자비 블로그\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:title\",\"content\":\"[Swift] Copy on Write (COW) | 마고자비 블로그\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:description\",\"content\":\"Copy on Write(COW)에 대해서 간단하게 정리합니다.\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image\",\"content\":\"https://magomercy.com/images/cow.jpg\"}],[\"$\",\"link\",\"21\",{\"rel\":\"icon\",\"href\":\"https://magomercy.com/favicon32.png\"}],[\"$\",\"link\",\"22\",{\"rel\":\"apple-touch-icon\",\"href\":\"https://magomercy.com/favicon32.png\"}],[\"$\",\"meta\",\"23\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"a:null\n"])</script></body></html>