<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/><link rel="preload" as="font" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/98e4530578c425d7.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-2f2428fbb7549638.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-695585668d16e3fb.js" async=""></script><script src="/_next/static/chunks/596-e6a99af3279f5db8.js" async=""></script><script src="/_next/static/chunks/main-app-8d8e64378ebd25aa.js" async=""></script><link rel="preload" as="script" href="https://www.googletagmanager.com/gtag/js?id=G-DRZBQ8XGPS"/><title>Swift의 String.count와 Java의 String.length()는 다르다. | 마고자비 블로그</title><meta name="description" content="Swift의 String count가 Java의 String count랑 다른 이유와 맞추는 방법에 대해서 설명합니다."/><meta name="keywords" content="swift,string"/><link rel="canonical" href="https://magomercy.com/swift/swift+string+%EB%8B%A4%EB%A3%A8%EA%B8%B0+3"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-title" content="Swift의 String.count와 Java의 String.length()는 다르다. | 마고자비 블로그"/><meta name="apple-mobile-web-app-status-bar-style" content="default"/><meta property="og:title" content="Swift의 String.count와 Java의 String.length()는 다르다. | 마고자비 블로그"/><meta property="og:description" content="Swift의 String count가 Java의 String count랑 다른 이유와 맞추는 방법에 대해서 설명합니다."/><meta property="og:url" content="https://magomercy.com/swift/swift+string+%EB%8B%A4%EB%A3%A8%EA%B8%B0+3"/><meta property="og:site_name" content="마고자비 블로그 | 마구잡이로 하고 싶은 것을 합니다."/><meta property="og:locale" content="kr"/><meta property="og:image" content="https://magomercy.com/images/swiftBasic.jpg"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:creator" content="마고자비 블로그"/><meta name="twitter:title" content="Swift의 String.count와 Java의 String.length()는 다르다. | 마고자비 블로그"/><meta name="twitter:description" content="Swift의 String count가 Java의 String count랑 다른 이유와 맞추는 방법에 대해서 설명합니다."/><meta name="twitter:image" content="https://magomercy.com/images/swiftBasic.jpg"/><link rel="icon" href="https://magomercy.com/favicon32.png"/><link rel="apple-touch-icon" href="https://magomercy.com/favicon32.png"/><meta name="next-size-adjust"/><meta name="google-site-verification" content="WaKebxnU_qX7Mu3Qu9GWWzpa_7KmuUe8QEsu6fKv3bc"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_aaf875"><div class="flex flex-col w-full fixed top-[0px] z-50 "><header class="flex flex-row justify-center w-[100%] sm:h-[80px] h-[60px]  "><div class="flex justify-between items-center xl:w-[1200px] w-[100%] sm:px-[40px] px-[20px]"><a href="/"><img alt="로고" loading="lazy" width="140" height="35" decoding="async" data-nimg="1" class="sm:block hidden" style="color:transparent" src="/dallogLogo.png"/><img alt="로고" loading="lazy" width="104" height="26" decoding="async" data-nimg="1" class="sm:hidden" style="color:transparent" src="/dallogLogoDark.png"/></a><nav><ul class="flex flex-row md:gap-[20px] gap-[10px]"><li><a href="/search" target="_blank"><div class="sm:flex hidden items-center h-[40px] px-[18px]  rounded-[100px] text-[15px] text-gray-100 gap-[4px] "><img alt="검색 아이콘" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" style="color:transparent" src="/search.png"/>검색</div><div class="sm:hidden flex justify-center items-center h-[40px] w-[40px]"><img alt="검색 아이콘" loading="lazy" width="22" height="22" decoding="async" data-nimg="1" class="sm:hidden" style="color:transparent" src="/search_dark.png"/></div></a></li><li><a href="/profile" target="_blank"><div class="sm:flex hidden items-center h-[40px] px-[18px] rounded-[100px] "><img alt="프로필 아이콘" loading="lazy" width="24" height="24" decoding="async" data-nimg="1" style="color:transparent" src="/i_person.png"/></div><div class="sm:hidden flex justify-center items-center h-[40px] w-[40px]"><img alt="프로필 아이콘" loading="lazy" width="28" height="28" decoding="async" data-nimg="1" style="color:transparent" src="/i_person_dark.png"/></div></a></li></ul></nav></div></header><div class="w-full flex flex-row justify-start"><div class="h-[2px] bg-[#F2D024] filter-blur-4" style="width:0%"></div></div></div><section class="flex fixed top-0 left-0 w-full  md:h-[600px] h-[300px] justify-center" style="background-image:url(/images/swiftBasic.jpg);background-position:center;background-size:contain;background-repeat:no-repeat"><div class="w-full md:h-[600px] h-[300px]  bg-[#171E24] bg-opacity-[0.35] absolute top-0 left-0"></div><div class="hidden md:flex flex-col justify-end w-[100%] md:w-[700px] px-[20px] pb-[100px]"><h1 class="font-semibold text-[40px] text-gray-100 text-shadow-default z-40">Swift의 String.count와 Java의 String.length()는 다르다.</h1></div></section><main class="flex flex-row justify-center md:py-[120px] py-[60px] bg-white md:mt-[600px] mt-[300px] relative z-30 "><div class="xl:flex hidden w-[300px]"><div class="toc sticky top-[90px] flex flex-col"><div class="googleAd-container" style="width:100%;padding-left:30px;padding-right:30px"><ins class="adsbygoogle" style="display:block" data-ad-slot="9496760534" data-ad-format="auto" data-full-width-responsive="true"></ins></div></div></div><article class="flex flex-col w-full md:w-[600px] px-[20px] md:px-[0px] gap-[40px]"><div class="md:hidden border-b-[0.6px] pb-[40px] border-gray-200"><h1 class="text-[28px] font-bold leading-[150%]">Swift의 String.count와 Java의 String.length()는 다르다.</h1></div><div class="flex flex-col"><div class="googleAd-container" style="width:100%"><ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-6t+ed+2i-1n-4w" data-ad-client="ca-pub-4221532240017712" data-ad-slot="5421225677"></ins></div><div>작성일 : <time>2023-04-05</time></div></div><div><div class="md-to-html"><h1 id="476966c5" class="md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900">개요</h1>
<hr/>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">&quot;👩‍👩‍👦&quot; 이모지는 3명의 사람(여성 2명, 소년 1명)으로 이루어진 가족을 나타내는 이모지입니다. 이모지를 Swift와 Java에서 문자열로 선언하고 각각의 count와 length를 계산해보겠습니다.</p>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">Swift:</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>swift</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-swift" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">let</span><span> family</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">String</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token string-literal" style="color:hsl(95, 38%, 62%)">&quot;👩‍👩‍👦&quot;</span><span>
</span><span></span><span class="token" style="color:hsl(207, 82%, 66%)">print</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>family</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>count</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// 1</span></code></pre></div></pre>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">Java:</p>
<pre><div class="flex flex-col flex-1 md:py-[40px] py-[30px]"><div class="flex flex-row justify-between items-center h-[40px] bg-[#3C3C3C] text-gray-100 text-[13px] py-0 px-[20px] rounded-t-[10px]"><div class="flex flex-row gap-[8px]"><div class="w-[12px] h-[12px] bg-[#FE5F57] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#FFBB30] rounded-[6px]"></div><div class="w-[12px] h-[12px] bg-[#2BC840] rounded-[6px]"></div></div>java</div><pre class="md:text-[18px] text-[15px]" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0 0 10px 10px"><code class="language-java" style="background:#252526;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(29, 54%, 61%)">String</span><span> family </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;👩‍👩‍👦&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span></span><span class="token" style="color:hsl(29, 54%, 61%)">System</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>out</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(207, 82%, 66%)">println</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>family</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(207, 82%, 66%)">length</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// 8</span></code></pre></div></pre>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">위 코드에서 볼 수 있듯이, Swift에서는 이모지가 1개의 문자로 인식되어 count가 1이 되지만, Java에서는 8개의 코드 유닛으로 이루어진 문자열로 인식되어 length가 8이 됩니다.</p>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">따라서, Swift와 Java에서 이모지를 문자열로 다룰 때에는 count와 length의 결과값이 다르게 나올 수 있으므로 주의가 필요합니다.</p>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">이는 일반적인 상황에서 문제가 되지 않지만, 사용자가 콘텐츠를 많이 올리는 서비스(ex SNS)에서 사용자의 콘텐츠의 글자 제한을 주는 경우 안드로이드와 iOS 각각 플렛폼에서 validation하는 기준이 다르기 때문에 사소한 문제가 발생할 수 있습니다.</p>
<h1 id="22c7f0fe" class="md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900">Java와 Swift의 문자열 count가 다른 이유</h1>
<hr/>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">이유는 &quot;👩‍👩‍👦&quot; 이 이모지는 여성 2명과 남성 1명으로 이루어진 조합 이모지이기 때문입니다. 이 조합 이모지는 여성 2명을 나타내는 &quot;👩‍👩&quot;과 남성 1명을 나타내는 &quot;👦&quot; 세 개의 이모지를 결합한 것입니다.</p>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">Swift에서는 문자열의 count를 유니코드 그래프 클러스터링 (Unicode grapheme clustering) 단위로 계산합니다. 유니코드 그래프 클러스터링은 사용자가 인식하는 문자 단위로 문자열을 나누는 방법으로, 이모지의 경우 결합된 이모지 조합도 하나의 문자로 계산합니다. 따라서 &quot;👩‍👩‍👦&quot; 이 이모지의 count는 1이 됩니다.</p>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">반면에 Java에서는 문자열의 length를 유니코드 코드 유닛 (Unicode code units) 단위로 계산합니다. 유니코드 코드 유닛은 각각의 코드 포인트를 나타내는 16비트 코드 유닛으로 문자열의 길이를 계산하는 방법입니다. 따라서 &quot;👩‍👩‍👦&quot; 이 이모지의 length는 8이 됩니다.</p>
<h1 id="c3beaf96" class="md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900">Java와 Swift의 문자열 count를 맞추는 방법</h1>
<hr/>
<h2 id="59848b83" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">바이트 비교</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">바이트 비교 방식은 유용할 수 있습니다. 하지만 문자열 내에 이모지 또는 멀티바이트 문자가 있는 경우 문자열의 길이를 정확하게 측정하기 어려울 수 있습니다. 예를 들어, UTF-8 인코딩을 사용하는 문자열에서 이모지는 4바이트로 표현되므로, 문자열을 바이트로 변환하고 그 길이를 측정하면 이모지가 여러 개 포함된 문자열의 길이가 정확하게 나오지 않을 수 있습니다. 따라서 이 방식은 정확성이 보장되지 않을 수 있으며, 주의해서 사용해야 합니다.</p>
<h2 id="3dc0ee1c" class="md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800">각 플랫폼의 자바스크립트 엔진으로 count를 재계산하는 방식</h2>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">각 플랫폼의 자바스크립트 엔진으로 문자열을 처리하는 것은 가능합니다. 하지만 이 방법은 문자열의 크기와 복잡도에 따라서 처리 속도가 느리고, 플랫폼 간 결과가 다를 수 있기 때문에 권장되는 방법은 아닙니다.</p>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">또한, 이 방법도 이모지와 같은 복합 문자의 처리에 대한 정확도 문제가 있을 수 있습니다. 따라서, 문자열 처리에 대한 정확성을 보장하려면 각 플랫폼에서 제공하는 문자열 처리 함수를 사용하는 것이 좋습니다.</p>
<h1 id="5b12bcf2" class="md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900">결론</h1>
<hr/>
<p class="md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]">이 글을 작성하며 여러가지 방식을 찾아 보았으나, 합리적으로 두 플랫폼의 String Count를 맞추는 방법을 찾지 못했습니다. 따라서 각 플랫폼 글자 counting 방식이 다를 수 있다는 것을 인정하고, DB type을 넉넉하게 설정하고, 글자 제한에 대해서 유연하게 대처해야 합니다. 혹시 좋은 방법이 있다면 댓글로 알려주세요. 감사합니다.</p></div></div><div class="googleAd-container" style="width:100%"><ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-4221532240017712" data-ad-slot="6323802284"></ins></div></article><div class="xl:flex hidden w-[300px]"><section class="flex flex-col pl-[30px] "><div class="toc sticky top-[90px] flex flex-col"><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-medium py-[5px]" href="#476966c5">개요</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-medium py-[5px]" href="#22c7f0fe">Java와 Swift의 문자열 count가 다른 이유</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-medium py-[5px]" href="#c3beaf96">Java와 Swift의 문자열 count를 맞추는 방법</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#59848b83">바이트 비교</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-normal pl-[20px]" href="#3dc0ee1c">각 플랫폼의 자바스크립트 엔진으로 count를 재계산하는 방식</a><a class="text-[14px] tracking-[-0.3px] text-gray-600 font-medium py-[5px]" href="#5b12bcf2">결론</a><div class="googleAd-container" style="width:100%;padding-left:30px;padding-right:30px"><ins class="adsbygoogle" style="display:block" data-ad-slot="9496760534" data-ad-format="auto" data-full-width-responsive="true"></ins></div></div></section></div></main><script src="/_next/static/chunks/webpack-2f2428fbb7549638.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/98e4530578c425d7.css\",{\"as\":\"style\"}]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:I{\"id\":57948,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n6:I{\"id\":56628,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":42879,\"chunks\":[\"185:static/chunks/app/layout-b198f10c98e34978.js\"],\"name\":\"GoogleAnalytics\",\"async\":false}\n8:I{"])</script><script>self.__next_f.push([1,"\"id\":47767,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n9:I{\"id\":57920,\"chunks\":[\"272:static/chunks/webpack-2f2428fbb7549638.js\",\"971:static/chunks/fd9d1056-695585668d16e3fb.js\",\"596:static/chunks/596-e6a99af3279f5db8.js\"],\"name\":\"default\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/98e4530578c425d7.css\",\"precedence\":\"next\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"BTzIZmIeYXT3BlsSUt3SU\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/swift/swift%2Bstring%2B%EB%8B%A4%EB%A3%A8%EA%B8%B0%2B3\",\"initialTree\":[\"\",{\"children\":[\"swift\",{\"children\":[[\"slug\",\"swift%2Bstring%2B%EB%8B%A4%EB%A3%A8%EA%B8%B0%2B3\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"swift+string+다루기+3\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L5\"],\"globalErrorComponent\":\"$6\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[[\"$\",\"$L7\",null,{}],[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"swift\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"swift\",\"children\",[\"slug\",\"swift%2Bstring%2B%EB%8B%A4%EB%A3%A8%EA%B8%B0%2B3\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$La\",\"$Lb\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"swift+string+다루기+3\\\"}\"},\"styles\":[]}],\"segment\":[\"slug\",\"swift%2Bstring%2B%EB%8B%A4%EB%A3%A8%EA%B8%B0%2B3\",\"d\"]},\"styles\":[]}],\"segment\":\"swift\"},\"styles\":[]}]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"c:I{\"id\":22873,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\nd:I{\"id\":84423,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\ne:I{\"id\":2346,\"chunks\""])</script><script>self.__next_f.push([1,":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\nf:I{\"id\":67490,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"MarkDownCode\",\"async\":false}\n10:I{\"id\":87272,\"chunks\":[\"986:st"])</script><script>self.__next_f.push([1,"atic/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\n11:I{\"id\":55026,\"chunks\":[\"986:static/chunks/986-5f83c849e7b0dffa.js\",\"754:static/chunks/754-8b5d90286cb88ad9.js\",\"543:static/chunks/543-fe4d83430fed7822.js\",\"288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"$Lc\",null,{\"language\":\"kr\",\"screenType\":\"ARTICLE_DETAIL\"}],[\"$\",\"section\",null,{\"className\":\"flex fixed top-0 left-0 w-full  md:h-[600px] h-[300px] justify-center\",\"style\":{\"backgroundImage\":\"url(/images/swiftBasic.jpg)\",\"backgroundPosition\":\"center\",\"backgroundSize\":\"contain\",\"backgroundRepeat\":\"no-repeat\"},\"children\":[[\"$\",\"div\",null,{\"className\":\"w-full md:h-[600px] h-[300px]  bg-[#171E24] bg-opacity-[0.35] absolute top-0 left-0\"}],[\"$\",\"div\",null,{\"className\":\"hidden md:flex flex-col justify-end w-[100%] md:w-[700px] px-[20px] pb-[100px]\",\"children\":[\"$\",\"h1\",null,{\"className\":\"font-semibold text-[40px] text-gray-100 text-shadow-default z-40\",\"children\":\"Swift의 String.count와 Java의 String.length()는 다르다.\"}]}]]}],[\"$\",\"main\",null,{\"className\":\"flex flex-row justify-center md:py-[120px] py-[60px] bg-white md:mt-[600px] mt-[300px] relative z-30 \",\"children\":[[\"$\",\"div\",null,{\"className\":\"xl:flex hidden w-[300px]\",\"children\":[\"$\",\"div\",null,{\"className\":\"toc sticky top-[90px] flex flex-col\",\"children\":[\"$\",\"$Ld\",null,{}]}]}],[\"$\",\"article\",null,{\"className\":\"flex flex-col w-full md:w-[600px] px-[20px] md:px-[0px] gap-[40px]\",\"children\":[[\"$\",\"div\",null,{\"className\":\"md:hidden border-b-[0.6px] pb-[40px] border-gray-200\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-[28px] font-bold leading-[150%]\",\"children\":\"Swift의 String.count와 Java의 String.length()는 다르다.\"}]}],[\"$\",\"div\",null,{\"className\":\"flex flex-col\",\"children\":[[\"$\",\"$Le\",null,{}],[\"$\",\"div\",null,{\"children\":[\"작성일 : \",[\"$\",\"time\",null,{\"children\":\"2023-04-05\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"md-to-html\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"476966c5\",\"className\":\"md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900\",\"children\":\"개요\"}],\"\\n\",[\"$\",\"hr\",\"hr-0\",{}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"\\\"👩‍👩‍👦\\\" 이모지는 3명의 사람(여성 2명, 소년 1명)으로 이루어진 가족을 나타내는 이모지입니다. 이모지를 Swift와 Java에서 문자열로 선언하고 각각의 count와 length를 계산해보겠습니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"Swift:\"}],\"\\n\",[\"$\",\"pre\",\"pre-0\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-swift\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-swift\"]},\"children\":[{\"type\":\"text\",\"value\":\"let family: String = \\\"👩‍👩‍👦\\\"\\nprint(family.count) // 1\\n\"}],\"position\":{\"start\":{\"line\":10,\"column\":1,\"offset\":140},\"end\":{\"line\":13,\"column\":4,\"offset\":209}}},\"children\":\"let family: String = \\\"👩‍👩‍👦\\\"\\nprint(family.count) // 1\\n\"}}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"Java:\"}],\"\\n\",[\"$\",\"pre\",\"pre-1\",{\"children\":[\"$\",\"$Lf\",null,{\"props\":{\"className\":\"language-java\",\"node\":{\"type\":\"element\",\"tagName\":\"code\",\"properties\":{\"className\":[\"language-java\"]},\"children\":[{\"type\":\"text\",\"value\":\"String family = \\\"👩‍👩‍👦\\\";\\nSystem.out.println(family.length()); // 8\\n\"}],\"position\":{\"start\":{\"line\":17,\"column\":1,\"offset\":218},\"end\":{\"line\":20,\"column\":4,\"offset\":299}}},\"children\":\"String family = \\\"👩‍👩‍👦\\\";\\nSystem.out.println(family.length()); // 8\\n\"}}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"위 코드에서 볼 수 있듯이, Swift에서는 이모지가 1개의 문자로 인식되어 count가 1이 되지만, Java에서는 8개의 코드 유닛으로 이루어진 문자열로 인식되어 length가 8이 됩니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"따라서, Swift와 Java에서 이모지를 문자열로 다룰 때에는 count와 length의 결과값이 다르게 나올 수 있으므로 주의가 필요합니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"이는 일반적인 상황에서 문제가 되지 않지만, 사용자가 콘텐츠를 많이 올리는 서비스(ex SNS)에서 사용자의 콘텐츠의 글자 제한을 주는 경우 안드로이드와 iOS 각각 플렛폼에서 validation하는 기준이 다르기 때문에 사소한 문제가 발생할 수 있습니다.\"}],\"\\n\",[\"$\",\"h1\",null,{\"id\":\"22c7f0fe\",\"className\":\"md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900\",\"children\":\"Java와 Swift의 문자열 count가 다른 이유\"}],\"\\n\",[\"$\",\"hr\",\"hr-1\",{}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"이유는 \\\"👩‍👩‍👦\\\" 이 이모지는 여성 2명과 남성 1명으로 이루어진 조합 이모지이기 때문입니다. 이 조합 이모지는 여성 2명을 나타내는 \\\"👩‍👩\\\"과 남성 1명을 나타내는 \\\"👦\\\" 세 개의 이모지를 결합한 것입니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"Swift에서는 문자열의 count를 유니코드 그래프 클러스터링 (Unicode grapheme clustering) 단위로 계산합니다. 유니코드 그래프 클러스터링은 사용자가 인식하는 문자 단위로 문자열을 나누는 방법으로, 이모지의 경우 결합된 이모지 조합도 하나의 문자로 계산합니다. 따라서 \\\"👩‍👩‍👦\\\" 이 이모지의 count는 1이 됩니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"반면에 Java에서는 문자열의 length를 유니코드 코드 유닛 (Unicode code units) 단위로 계산합니다. 유니코드 코드 유닛은 각각의 코드 포인트를 나타내는 16비트 코드 유닛으로 문자열의 길이를 계산하는 방법입니다. 따라서 \\\"👩‍👩‍👦\\\" 이 이모지의 length는 8이 됩니다.\"}],\"\\n\",[\"$\",\"h1\",null,{\"id\":\"c3beaf96\",\"className\":\"md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900\",\"children\":\"Java와 Swift의 문자열 count를 맞추는 방법\"}],\"\\n\",[\"$\",\"hr\",\"hr-2\",{}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"59848b83\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"바이트 비교\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"바이트 비교 방식은 유용할 수 있습니다. 하지만 문자열 내에 이모지 또는 멀티바이트 문자가 있는 경우 문자열의 길이를 정확하게 측정하기 어려울 수 있습니다. 예를 들어, UTF-8 인코딩을 사용하는 문자열에서 이모지는 4바이트로 표현되므로, 문자열을 바이트로 변환하고 그 길이를 측정하면 이모지가 여러 개 포함된 문자열의 길이가 정확하게 나오지 않을 수 있습니다. 따라서 이 방식은 정확성이 보장되지 않을 수 있으며, 주의해서 사용해야 합니다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"3dc0ee1c\",\"className\":\"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800\",\"children\":\"각 플랫폼의 자바스크립트 엔진으로 count를 재계산하는 방식\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"각 플랫폼의 자바스크립트 엔진으로 문자열을 처리하는 것은 가능합니다. 하지만 이 방법은 문자열의 크기와 복잡도에 따라서 처리 속도가 느리고, 플랫폼 간 결과가 다를 수 있기 때문에 권장되는 방법은 아닙니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"또한, 이 방법도 이모지와 같은 복합 문자의 처리에 대한 정확도 문제가 있을 수 있습니다. 따라서, 문자열 처리에 대한 정확성을 보장하려면 각 플랫폼에서 제공하는 문자열 처리 함수를 사용하는 것이 좋습니다.\"}],\"\\n\",[\"$\",\"h1\",null,{\"id\":\"5b12bcf2\",\"className\":\"md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900\",\"children\":\"결론\"}],\"\\n\",[\"$\",\"hr\",\"hr-3\",{}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]\",\"children\":\"이 글을 작성하며 여러가지 방식을 찾아 보았으나, 합리적으로 두 플랫폼의 String Count를 맞추는 방법을 찾지 못했습니다. 따라서 각 플랫폼 글자 counting 방식이 다를 수 있다는 것을 인정하고, DB type을 넉넉하게 설정하고, 글자 제한에 대해서 유연하게 대처해야 합니다. 혹시 좋은 방법이 있다면 댓글로 알려주세요. 감사합니다.\"}]]}]}],[\"$\",\"$L10\",null,{}]]}],[\"$\",\"div\",null,{\"className\":\"xl:flex hidden w-[300px]\",\"children\":[\"$\",\"$L11\",null,{\"articleTitle\":\"Swift의 String.count와 Java의 String.length()는 다르다.\",\"toc\":[{\"tagName\":\"h1\",\"title\":\"개요\",\"id\":\"476966c5\"},{\"tagName\":\"h1\",\"title\":\"Java와 Swift의 문자열 count가 다른 이유\",\"id\":\"22c7f0fe\"},{\"tagName\":\"h1\",\"title\":\"Java와 Swift의 문자열 count를 맞추는 방법\",\"id\":\"c3beaf96\"},{\"tagName\":\"h2\",\"title\":\"바이트 비교\",\"id\":\"59848b83\"},{\"tagName\":\"h2\",\"title\":\"각 플랫폼의 자바스크립트 엔진으로 count를 재계산하는 방식\",\"id\":\"3dc0ee1c\"},{\"tagName\":\"h1\",\"title\":\"결론\",\"id\":\"5b12bcf2\"}],\"language\":\"kr\"}]}]]}]]\n"])</script><script>self.__next_f.push([1,"5:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Swift의 String.count와 Java의 String.length()는 다르다. | 마고자비 블로그\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Swift의 String count가 Java의 String count랑 다른 이유와 맞추는 방법에 대해서 설명합니다.\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"swift,string\"}],[\"$\",\"meta\",\"4\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no\"}],[\"$\",\"link\",\"5\",{\"rel\":\"canonical\",\"href\":\"https://magomercy.com/swift/swift+string+%EB%8B%A4%EB%A3%A8%EA%B8%B0+3\"}],[\"$\",\"meta\",\"6\",{\"name\":\"apple-mobile-web-app-capable\",\"content\":\"yes\"}],[\"$\",\"meta\",\"7\",{\"name\":\"apple-mobile-web-app-title\",\"content\":\"Swift의 String.count와 Java의 String.length()는 다르다. | 마고자비 블로그\"}],[\"$\",\"meta\",\"8\",{\"name\":\"apple-mobile-web-app-status-bar-style\",\"content\":\"default\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:title\",\"content\":\"Swift의 String.count와 Java의 String.length()는 다르다. | 마고자비 블로그\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:description\",\"content\":\"Swift의 String count가 Java의 String count랑 다른 이유와 맞추는 방법에 대해서 설명합니다.\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:url\",\"content\":\"https://magomercy.com/swift/swift+string+%EB%8B%A4%EB%A3%A8%EA%B8%B0+3\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:site_name\",\"content\":\"마고자비 블로그 | 마구잡이로 하고 싶은 것을 합니다.\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:locale\",\"content\":\"kr\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image\",\"content\":\"https://magomercy.com/images/swiftBasic.jpg\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:creator\",\"content\":\"마고자비 블로그\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:title\",\"content\":\"Swift의 String.count와 Java의 String.length()는 다르다. | 마고자비 블로그\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:description\",\"content\":\"Swift의 String count가 Java의 String count랑 다른 이유와 맞추는 방법에 대해서 설명합니다.\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image\",\"content\":\"https://magomercy.com/images/swiftBasic.jpg\"}],[\"$\",\"link\",\"21\",{\"rel\":\"icon\",\"href\":\"https://magomercy.com/favicon32.png\"}],[\"$\",\"link\",\"22\",{\"rel\":\"apple-touch-icon\",\"href\":\"https://magomercy.com/favicon32.png\"}],[\"$\",\"meta\",\"23\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"a:null\n"])</script></body></html>