1:HL["/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2",{"as":"font","type":"font/woff2"}]
2:HL["/_next/static/css/98e4530578c425d7.css",{"as":"style"}]
0:["BTzIZmIeYXT3BlsSUt3SU",[[["",{"children":["swift",{"children":[["slug","SwiftUI-Apple-Login-%EA%B5%AC%ED%98%84-%EB%B0%A9%EB%B2%95-877f07a4","d"],{"children":["__PAGE__?{\"slug\":\"SwiftUI-Apple-Login-구현-방법-877f07a4\"}",{}]}]}]},"$undefined","$undefined",true],"$L3",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/98e4530578c425d7.css","precedence":"next"}]],"$L4"]]]]
5:I{"id":42879,"chunks":["185:static/chunks/app/layout-b198f10c98e34978.js"],"name":"GoogleAnalytics","async":false}
6:I{"id":47767,"chunks":["272:static/chunks/webpack-2f2428fbb7549638.js","971:static/chunks/fd9d1056-695585668d16e3fb.js","596:static/chunks/596-e6a99af3279f5db8.js"],"name":"default","async":false}
7:I{"id":57920,"chunks":["272:static/chunks/webpack-2f2428fbb7549638.js","971:static/chunks/fd9d1056-695585668d16e3fb.js","596:static/chunks/596-e6a99af3279f5db8.js"],"name":"default","async":false}
3:[null,["$","html",null,{"lang":"ko","children":[["$","$L5",null,{}],["$","body",null,{"className":"__className_aaf875","children":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","swift","children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","swift","children",["slug","SwiftUI-Apple-Login-%EA%B5%AC%ED%98%84-%EB%B0%A9%EB%B2%95-877f07a4","d"],"children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$L8","$L9",null],"segment":"__PAGE__?{\"slug\":\"SwiftUI-Apple-Login-구현-방법-877f07a4\"}"},"styles":[]}],"segment":["slug","SwiftUI-Apple-Login-%EA%B5%AC%ED%98%84-%EB%B0%A9%EB%B2%95-877f07a4","d"]},"styles":[]}],"segment":"swift"},"styles":[]}]}]]}],null]
4:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"SwiftUI Apple Login 구현 방법 | 마고자비 블로그"}],["$","meta","2",{"name":"description","content":"이 글에서는 SwiftUI를 사용하여 Apple 로그인 기능을 구현하는 방법을 설명합니다. Apple 로그인은 사용자의 Apple ID를 이용하여 간편하고 안전하게 앱에 로그인할 수 있는 방법입니다."}],["$","meta","3",{"name":"keywords","content":"SwiftUI,Apple Login,iOS,Swift"}],["$","meta","4",{"name":"viewport","content":"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"}],["$","link","5",{"rel":"canonical","href":"https://magomercy.com/swift/SwiftUI-Apple-Login-%EA%B5%AC%ED%98%84-%EB%B0%A9%EB%B2%95-877f07a4"}],["$","meta","6",{"name":"apple-mobile-web-app-capable","content":"yes"}],["$","meta","7",{"name":"apple-mobile-web-app-title","content":"SwiftUI Apple Login 구현 방법 | 마고자비 블로그"}],["$","meta","8",{"name":"apple-mobile-web-app-status-bar-style","content":"default"}],["$","meta","9",{"property":"og:title","content":"SwiftUI Apple Login 구현 방법 | 마고자비 블로그"}],["$","meta","10",{"property":"og:description","content":"이 글에서는 SwiftUI를 사용하여 Apple 로그인 기능을 구현하는 방법을 설명합니다. Apple 로그인은 사용자의 Apple ID를 이용하여 간편하고 안전하게 앱에 로그인할 수 있는 방법입니다."}],["$","meta","11",{"property":"og:url","content":"https://magomercy.com/swift/SwiftUI-Apple-Login-%EA%B5%AC%ED%98%84-%EB%B0%A9%EB%B2%95-877f07a4"}],["$","meta","12",{"property":"og:site_name","content":"마고자비 블로그 | 마구잡이로 하고 싶은 것을 합니다."}],["$","meta","13",{"property":"og:locale","content":"kr"}],["$","meta","14",{"property":"og:image","content":"https://magomercy.com/images/swiftBanner1.jpg"}],["$","meta","15",{"property":"og:type","content":"website"}],["$","meta","16",{"name":"twitter:card","content":"summary"}],["$","meta","17",{"name":"twitter:creator","content":"마고자비 블로그"}],["$","meta","18",{"name":"twitter:title","content":"SwiftUI Apple Login 구현 방법 | 마고자비 블로그"}],["$","meta","19",{"name":"twitter:description","content":"이 글에서는 SwiftUI를 사용하여 Apple 로그인 기능을 구현하는 방법을 설명합니다. Apple 로그인은 사용자의 Apple ID를 이용하여 간편하고 안전하게 앱에 로그인할 수 있는 방법입니다."}],["$","meta","20",{"name":"twitter:image","content":"https://magomercy.com/images/swiftBanner1.jpg"}],["$","link","21",{"rel":"icon","href":"https://magomercy.com/favicon32.png"}],["$","link","22",{"rel":"apple-touch-icon","href":"https://magomercy.com/favicon32.png"}],["$","meta","23",{"name":"next-size-adjust"}]]
a:I{"id":22873,"chunks":["986:static/chunks/986-5f83c849e7b0dffa.js","754:static/chunks/754-8b5d90286cb88ad9.js","543:static/chunks/543-fe4d83430fed7822.js","288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js"],"name":"","async":false}
b:I{"id":84423,"chunks":["986:static/chunks/986-5f83c849e7b0dffa.js","754:static/chunks/754-8b5d90286cb88ad9.js","543:static/chunks/543-fe4d83430fed7822.js","288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js"],"name":"","async":false}
c:I{"id":2346,"chunks":["986:static/chunks/986-5f83c849e7b0dffa.js","754:static/chunks/754-8b5d90286cb88ad9.js","543:static/chunks/543-fe4d83430fed7822.js","288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js"],"name":"","async":false}
d:I{"id":62313,"chunks":["986:static/chunks/986-5f83c849e7b0dffa.js","754:static/chunks/754-8b5d90286cb88ad9.js","543:static/chunks/543-fe4d83430fed7822.js","288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js"],"name":"","async":false}
f:I{"id":67490,"chunks":["986:static/chunks/986-5f83c849e7b0dffa.js","754:static/chunks/754-8b5d90286cb88ad9.js","543:static/chunks/543-fe4d83430fed7822.js","288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js"],"name":"MarkDownCode","async":false}
10:I{"id":87272,"chunks":["986:static/chunks/986-5f83c849e7b0dffa.js","754:static/chunks/754-8b5d90286cb88ad9.js","543:static/chunks/543-fe4d83430fed7822.js","288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js"],"name":"","async":false}
11:I{"id":55026,"chunks":["986:static/chunks/986-5f83c849e7b0dffa.js","754:static/chunks/754-8b5d90286cb88ad9.js","543:static/chunks/543-fe4d83430fed7822.js","288:static/chunks/app/swift/[slug]/page-4841b882b9c15aba.js"],"name":"","async":false}
e:T1aa3,
# SwiftUI Apple Login 구현 방법

Apple 로그인은 사용자의 Apple ID를 이용하여 간편하고 안전하게 로그인할 수 있는 기능입니다. Apple은 2019년 WWDC에서 새로운 인증 방식인 Sign in with Apple을 발표했는데, 이를 사용하면 사용자는 더 나은 개인정보 보호와 간편한 사용성을 누릴 수 있습니다. 이 글에서는 SwiftUI 환경에서 Apple 로그인을 구현하는 과정을 단계별로 설명하겠습니다.

## Apple 로그인 설정

Apple 로그인을 구현하기 전에, 먼저 Xcode 프로젝트 설정을 해야 합니다. Xcode 프로젝트에 Apple 로그인 기능을 추가하려면 다음 단계를 따르세요.

1. **Xcode 프로젝트 열기:** Xcode에서 프로젝트를 엽니다.
2. **Signing & Capabilities 설정:** 프로젝트 설정에서 'Signing & Capabilities' 탭을 선택합니다. '+' 버튼을 클릭하고 'Sign in with Apple'을 추가합니다.
3. **Keychain Sharing 활성화:** Apple 로그인을 사용하려면 'Keychain Sharing'도 활성화해야 합니다. '+' 버튼을 클릭하고 'Keychain Sharing'을 선택하여 추가합니다.

## Apple Developer 계정 설정

Apple 로그인을 사용하기 위해서는 Apple Developer 계정이 필요합니다. Apple Developer 계정을 통해 앱의 Bundle Identifier와 관련된 인증키와 권한을 설정해야 합니다. 다음 단계를 따르세요.

1. **Apple Developer 계정 로그인:** [Apple Developer 계정](https://developer.apple.com/)에 로그인합니다.
2. **Certificates, Identifiers & Profiles:** 'Certificates, Identifiers & Profiles' 섹션에서 앱의 Bundle Identifier을 선택합니다.
3. **Sign in with Apple 활성화:** 'Capabilities' 탭에서 'Sign in with Apple'을 찾아서 활성화합니다.

## SwiftUI에서 Apple 로그인 버튼 추가

Xcode 프로젝트와 Apple Developer 계정 설정이 완료되면 이제 SwiftUI에서 Apple 로그인 버튼을 추가할 수 있습니다. 다음 코드는 SwiftUI 뷰에 Apple 로그인 버튼을 추가하는 기본 예제입니다.

```swift
import SwiftUI
import AuthenticationServices

struct ContentView: View {
    var body: some View {
        SignInWithAppleButton(
            onRequest: { request in
                request.requestedScopes = [.fullName, .email]
            },
            onCompletion: { result in
                switch result {
                case .success(let authResults):
                    print("Authorization successful.")
                    handleAuthorization(authResults)
                case .failure(let error):
                    print("Authorization failed: \(error.localizedDescription)")
                }
            }
        )
        .signInWithAppleButtonStyle(.black)
        .frame(width: 200, height: 40)
        .padding()
    }

    func handleAuthorization(_ authResults: ASAuthorization) {
        // 사용자 정보 처리
    }
}
```

이 코드는 `SignInWithAppleButton`을 사용하여 Apple 로그인 버튼을 SwiftUI 뷰에 추가합니다. `onRequest`와 `onCompletion` 클로저를 사용하여 요청과 결과를 처리할 수 있습니다. `onRequest` 클로저에서는 로그인 요청 시 필요한 사용자 정보(예: 이름, 이메일)를 지정하고, `onCompletion` 클로저에서는 로그인 결과를 처리하면 됩니다.

## 인증 결과 처리

Apple 로그인 인증 결과를 처리하려면 `ASAuthorizationControllerDelegate` 프로토콜을 구현해야 합니다. 인증 성공 시 사용자 정보를 받아와서 처리할 수 있습니다. 다음은 인증 결과를 처리하는 예제입니다.

```swift
import AuthenticationServices

class AppleSignInCoordinator: NSObject, ASAuthorizationControllerDelegate {
    func authorizationController(controller: ASAuthorizationController, didCompleteWithAuthorization authorization: ASAuthorization) {
        if let appleIDCredential = authorization.credential as? ASAuthorizationAppleIDCredential {
            let userIdentifier = appleIDCredential.user
            let fullName = appleIDCredential.fullName
            let email = appleIDCredential.email

            // 사용자 정보를 저장하거나 처리합니다.
        }
    }

    func authorizationController(controller: ASAuthorizationController, didCompleteWithError error: Error) {
        print("Authorization failed: \(error.localizedDescription)")
    }
}
```

이 코드에서는 `authorizationController(:didCompleteWithAuthorization:)` 메서드를 통해 Apple ID 자격 증명을 처리합니다. 성공적으로 인증되면 사용자 식별자(`userIdentifier`), 전체 이름(`fullName`), 이메일(`email`) 등의 정보를 얻을 수 있습니다.

## 데이터를 Keychain에 저장

Apple 로그인을 사용하면 Apple에서 제공한 사용자 식별자를 Keychain에 저장하여 다시 로그인할 때 사용할 수 있습니다. 이를 통해 사용자는 앱을 다시 열 때마다 로그인 상태를 유지할 수 있습니다. 다음은 사용자 식별자를 Keychain에 저장하는 예제입니다.

```swift
import Security

func saveUserIdentifierToKeychain(_ userIdentifier: String) {
    let data = Data(userIdentifier.utf8)
    let query: [String: Any] = [
        kSecClass as String: kSecClassGenericPassword,
        kSecAttrAccount as String: "userIdentifier",
        kSecValueData as String: data
    ]
    SecItemAdd(query as CFDictionary, nil)
}

func getUserIdentifierFromKeychain() -> String? {
    let query: [String: Any] = [
        kSecClass as String: kSecClassGenericPassword,
        kSecAttrAccount as String: "userIdentifier",
        kSecReturnData as String: true,
        kSecMatchLimit as String: kSecMatchLimitOne
    ]
    var dataTypeRef: AnyObject? = nil
    let status = SecItemCopyMatching(query as CFDictionary, &dataTypeRef)
    if status == errSecSuccess, let data = dataTypeRef as? Data {
        return String(data: data, encoding: .utf8)
    }
    return nil
}
```

이 코드는 사용자 식별자를 Keychain에 저장하고 검색하는 함수들을 구현합니다. `saveUserIdentifierToKeychain` 함수는 사용자 식별자를 Keychain에 저장하고, `getUserIdentifierFromKeychain` 함수는 Keychain에서 사용자 식별자를 검색하여 반환합니다.

## 결론

이번 글에서는 SwiftUI를 사용하여 Apple 로그인 기능을 구현하는 방법을 다루었습니다. Apple 로그인을 설정하는 방법, SwiftUI에서 Apple 로그인 버튼을 추가하는 방법, 인증 결과를 처리하는 방법, 그리고 Keychain을 이용해 사용자 식별자를 저장하고 검색하는 방법에 대해 설명했습니다. 이 지침을 따라하면 사용자에게 안전하고 간편한 로그인 경험을 제공할 수 있습니다.
9:[["$","$La",null,{"language":"kr","screenType":"ARTICLE_DETAIL"}],["$","section",null,{"className":"flex fixed top-0 left-0 w-full  md:h-[600px] h-[300px] justify-center","style":{"backgroundImage":"url(/images/swiftBanner1.jpg)","backgroundPosition":"center","backgroundSize":"contain","backgroundRepeat":"no-repeat"},"children":[["$","div",null,{"className":"w-full md:h-[600px] h-[300px]  bg-[#171E24] bg-opacity-[0.35] absolute top-0 left-0"}],["$","div",null,{"className":"hidden md:flex flex-col justify-end w-[100%] md:w-[700px] px-[20px] pb-[100px]","children":["$","h1",null,{"className":"font-semibold text-[40px] text-gray-100 text-shadow-default z-40","children":"SwiftUI Apple Login 구현 방법"}]}]]}],["$","main",null,{"className":"flex flex-row justify-center md:py-[120px] py-[60px] bg-white md:mt-[600px] mt-[300px] relative z-30 ","children":[["$","div",null,{"className":"xl:flex hidden w-[300px]","children":["$","div",null,{"className":"toc sticky top-[90px] flex flex-col","children":["$","$Lb",null,{}]}]}],["$","article",null,{"className":"flex flex-col w-full md:w-[600px] px-[20px] md:px-[0px] gap-[40px]","children":[["$","div",null,{"className":"md:hidden border-b-[0.6px] pb-[40px] border-gray-200","children":["$","h1",null,{"className":"text-[28px] font-bold leading-[150%]","children":"SwiftUI Apple Login 구현 방법"}]}],["$","div",null,{"className":"flex flex-col","children":[["$","$Lc",null,{}],["$","div",null,{"children":["작성일 : ",["$","time",null,{"children":"2024-07-20"}]]}]]}],["$","div",null,{"children":["$","div",null,{"className":"md-to-html","children":[["$","h1",null,{"id":"56d61275","className":"md:text-[42px] text-[26px] font-bold leading-[150%] md:py-[50px] py-[30px] text-gray-900","children":"SwiftUI Apple Login 구현 방법"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"Apple 로그인은 사용자의 Apple ID를 이용하여 간편하고 안전하게 로그인할 수 있는 기능입니다. Apple은 2019년 WWDC에서 새로운 인증 방식인 Sign in with Apple을 발표했는데, 이를 사용하면 사용자는 더 나은 개인정보 보호와 간편한 사용성을 누릴 수 있습니다. 이 글에서는 SwiftUI 환경에서 Apple 로그인을 구현하는 과정을 단계별로 설명하겠습니다."}],"\n",["$","h2",null,{"id":"ee88eea1","className":"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800","children":"Apple 로그인 설정"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"Apple 로그인을 구현하기 전에, 먼저 Xcode 프로젝트 설정을 해야 합니다. Xcode 프로젝트에 Apple 로그인 기능을 추가하려면 다음 단계를 따르세요."}],"\n",["$","ol","ol-0",{"children":["\n",["$","li","li-0",{"children":[["$","strong",null,{"className":"font-black","children":"Xcode 프로젝트 열기:"}]," Xcode에서 프로젝트를 엽니다."]}],"\n",["$","li","li-1",{"children":[["$","strong",null,{"className":"font-black","children":"Signing & Capabilities 설정:"}]," 프로젝트 설정에서 'Signing & Capabilities' 탭을 선택합니다. '+' 버튼을 클릭하고 'Sign in with Apple'을 추가합니다."]}],"\n",["$","li","li-2",{"children":[["$","strong",null,{"className":"font-black","children":"Keychain Sharing 활성화:"}]," Apple 로그인을 사용하려면 'Keychain Sharing'도 활성화해야 합니다. '+' 버튼을 클릭하고 'Keychain Sharing'을 선택하여 추가합니다."]}],"\n"]}],"\n",["$","h2",null,{"id":"4199ffbf","className":"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800","children":"Apple Developer 계정 설정"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"Apple 로그인을 사용하기 위해서는 Apple Developer 계정이 필요합니다. Apple Developer 계정을 통해 앱의 Bundle Identifier와 관련된 인증키와 권한을 설정해야 합니다. 다음 단계를 따르세요."}],"\n",["$","ol","ol-1",{"children":["\n",["$","li","li-0",{"children":[["$","strong",null,{"className":"font-black","children":"Apple Developer 계정 로그인:"}]," ",["$","$Ld",null,{"props":{"href":"https://developer.apple.com/","node":{"type":"element","tagName":"a","properties":{"href":"https://developer.apple.com/"},"children":[{"type":"text","value":"Apple Developer 계정","position":{"start":{"line":18,"column":33,"offset":830},"end":{"line":18,"column":51,"offset":848}}}],"position":{"start":{"line":18,"column":32,"offset":829},"end":{"line":18,"column":82,"offset":879}}},"children":"Apple Developer 계정"},"post":{"id":"877f07a4-a555-40b3-bd41-c735b8519c2d","title":"SwiftUI Apple Login 구현 방법","fileName":"SwiftUI-Apple-Login-구현-방법-877f07a4","description":"이 글에서는 SwiftUI를 사용하여 Apple 로그인 기능을 구현하는 방법을 설명합니다. Apple 로그인은 사용자의 Apple ID를 이용하여 간편하고 안전하게 앱에 로그인할 수 있는 방법입니다.","date":"2024-07-20T06:01:48.704Z","tags":[{"name":"SwiftUI","path":"/tags/swiftui","id":"swiftui"},{"name":"Apple Login","path":"/tags/apple-login","id":"apple-login"},{"name":"iOS","path":"/tags/ios","id":"ios"},{"name":"Swift","path":"/tags/swift","id":"swift"}],"banner":"/images/swiftBanner1.jpg","author":"마고유","project":null,"totalCnt":0,"monthlyCnt":0,"weeklyCnt":0,"slug":"SwiftUI-Apple-Login-구현-방법-877f07a4","content":"$e","category":"swift","readMin":"6.1"},"language":"kr"}],"에 로그인합니다."]}],"\n",["$","li","li-1",{"children":[["$","strong",null,{"className":"font-black","children":"Certificates, Identifiers & Profiles:"}]," 'Certificates, Identifiers & Profiles' 섹션에서 앱의 Bundle Identifier을 선택합니다."]}],"\n",["$","li","li-2",{"children":[["$","strong",null,{"className":"font-black","children":"Sign in with Apple 활성화:"}]," 'Capabilities' 탭에서 'Sign in with Apple'을 찾아서 활성화합니다."]}],"\n"]}],"\n",["$","h2",null,{"id":"bdc9c4b5","className":"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800","children":"SwiftUI에서 Apple 로그인 버튼 추가"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"Xcode 프로젝트와 Apple Developer 계정 설정이 완료되면 이제 SwiftUI에서 Apple 로그인 버튼을 추가할 수 있습니다. 다음 코드는 SwiftUI 뷰에 Apple 로그인 버튼을 추가하는 기본 예제입니다."}],"\n",["$","pre","pre-0",{"children":["$","$Lf",null,{"props":{"className":"language-swift","node":{"type":"element","tagName":"code","properties":{"className":["language-swift"]},"children":[{"type":"text","value":"import SwiftUI\nimport AuthenticationServices\n\nstruct ContentView: View {\n    var body: some View {\n        SignInWithAppleButton(\n            onRequest: { request in\n                request.requestedScopes = [.fullName, .email]\n            },\n            onCompletion: { result in\n                switch result {\n                case .success(let authResults):\n                    print(\"Authorization successful.\")\n                    handleAuthorization(authResults)\n                case .failure(let error):\n                    print(\"Authorization failed: \\(error.localizedDescription)\")\n                }\n            }\n        )\n        .signInWithAppleButtonStyle(.black)\n        .frame(width: 200, height: 40)\n        .padding()\n    }\n\n    func handleAuthorization(_ authResults: ASAuthorization) {\n        // 사용자 정보 처리\n    }\n}\n"}],"position":{"start":{"line":26,"column":1,"offset":1249},"end":{"line":55,"column":4,"offset":2096}}},"children":"import SwiftUI\nimport AuthenticationServices\n\nstruct ContentView: View {\n    var body: some View {\n        SignInWithAppleButton(\n            onRequest: { request in\n                request.requestedScopes = [.fullName, .email]\n            },\n            onCompletion: { result in\n                switch result {\n                case .success(let authResults):\n                    print(\"Authorization successful.\")\n                    handleAuthorization(authResults)\n                case .failure(let error):\n                    print(\"Authorization failed: \\(error.localizedDescription)\")\n                }\n            }\n        )\n        .signInWithAppleButtonStyle(.black)\n        .frame(width: 200, height: 40)\n        .padding()\n    }\n\n    func handleAuthorization(_ authResults: ASAuthorization) {\n        // 사용자 정보 처리\n    }\n}\n"}}]}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":["이 코드는 ",["$","$Lf",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"SignInWithAppleButton","position":{"start":{"line":57,"column":7,"offset":2104},"end":{"line":57,"column":30,"offset":2127}}}],"position":{"start":{"line":57,"column":7,"offset":2104},"end":{"line":57,"column":30,"offset":2127}}},"children":"SignInWithAppleButton"}}],"을 사용하여 Apple 로그인 버튼을 SwiftUI 뷰에 추가합니다. ",["$","$Lf",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"onRequest","position":{"start":{"line":57,"column":69,"offset":2166},"end":{"line":57,"column":80,"offset":2177}}}],"position":{"start":{"line":57,"column":69,"offset":2166},"end":{"line":57,"column":80,"offset":2177}}},"children":"onRequest"}}],"와 ",["$","$Lf",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"onCompletion","position":{"start":{"line":57,"column":82,"offset":2179},"end":{"line":57,"column":96,"offset":2193}}}],"position":{"start":{"line":57,"column":82,"offset":2179},"end":{"line":57,"column":96,"offset":2193}}},"children":"onCompletion"}}]," 클로저를 사용하여 요청과 결과를 처리할 수 있습니다. ",["$","$Lf",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"onRequest","position":{"start":{"line":57,"column":127,"offset":2224},"end":{"line":57,"column":138,"offset":2235}}}],"position":{"start":{"line":57,"column":127,"offset":2224},"end":{"line":57,"column":138,"offset":2235}}},"children":"onRequest"}}]," 클로저에서는 로그인 요청 시 필요한 사용자 정보(예: 이름, 이메일)를 지정하고, ",["$","$Lf",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"onCompletion","position":{"start":{"line":57,"column":185,"offset":2282},"end":{"line":57,"column":199,"offset":2296}}}],"position":{"start":{"line":57,"column":185,"offset":2282},"end":{"line":57,"column":199,"offset":2296}}},"children":"onCompletion"}}]," 클로저에서는 로그인 결과를 처리하면 됩니다."]}],"\n",["$","h2",null,{"id":"033f1e0a","className":"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800","children":"인증 결과 처리"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":["Apple 로그인 인증 결과를 처리하려면 ",["$","$Lf",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ASAuthorizationControllerDelegate","position":{"start":{"line":61,"column":24,"offset":2359},"end":{"line":61,"column":59,"offset":2394}}}],"position":{"start":{"line":61,"column":24,"offset":2359},"end":{"line":61,"column":59,"offset":2394}}},"children":"ASAuthorizationControllerDelegate"}}]," 프로토콜을 구현해야 합니다. 인증 성공 시 사용자 정보를 받아와서 처리할 수 있습니다. 다음은 인증 결과를 처리하는 예제입니다."]}],"\n",["$","pre","pre-1",{"children":["$","$Lf",null,{"props":{"className":"language-swift","node":{"type":"element","tagName":"code","properties":{"className":["language-swift"]},"children":[{"type":"text","value":"import AuthenticationServices\n\nclass AppleSignInCoordinator: NSObject, ASAuthorizationControllerDelegate {\n    func authorizationController(controller: ASAuthorizationController, didCompleteWithAuthorization authorization: ASAuthorization) {\n        if let appleIDCredential = authorization.credential as? ASAuthorizationAppleIDCredential {\n            let userIdentifier = appleIDCredential.user\n            let fullName = appleIDCredential.fullName\n            let email = appleIDCredential.email\n\n            // 사용자 정보를 저장하거나 처리합니다.\n        }\n    }\n\n    func authorizationController(controller: ASAuthorizationController, didCompleteWithError error: Error) {\n        print(\"Authorization failed: \\(error.localizedDescription)\")\n    }\n}\n"}],"position":{"start":{"line":63,"column":1,"offset":2468},"end":{"line":81,"column":4,"offset":3219}}},"children":"import AuthenticationServices\n\nclass AppleSignInCoordinator: NSObject, ASAuthorizationControllerDelegate {\n    func authorizationController(controller: ASAuthorizationController, didCompleteWithAuthorization authorization: ASAuthorization) {\n        if let appleIDCredential = authorization.credential as? ASAuthorizationAppleIDCredential {\n            let userIdentifier = appleIDCredential.user\n            let fullName = appleIDCredential.fullName\n            let email = appleIDCredential.email\n\n            // 사용자 정보를 저장하거나 처리합니다.\n        }\n    }\n\n    func authorizationController(controller: ASAuthorizationController, didCompleteWithError error: Error) {\n        print(\"Authorization failed: \\(error.localizedDescription)\")\n    }\n}\n"}}]}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":["이 코드에서는 ",["$","$Lf",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"authorizationController(:didCompleteWithAuthorization:)","position":{"start":{"line":83,"column":9,"offset":3229},"end":{"line":83,"column":66,"offset":3286}}}],"position":{"start":{"line":83,"column":9,"offset":3229},"end":{"line":83,"column":66,"offset":3286}}},"children":"authorizationController(:didCompleteWithAuthorization:)"}}]," 메서드를 통해 Apple ID 자격 증명을 처리합니다. 성공적으로 인증되면 사용자 식별자(",["$","$Lf",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"userIdentifier","position":{"start":{"line":83,"column":117,"offset":3337},"end":{"line":83,"column":133,"offset":3353}}}],"position":{"start":{"line":83,"column":117,"offset":3337},"end":{"line":83,"column":133,"offset":3353}}},"children":"userIdentifier"}}],"), 전체 이름(",["$","$Lf",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"fullName","position":{"start":{"line":83,"column":142,"offset":3362},"end":{"line":83,"column":152,"offset":3372}}}],"position":{"start":{"line":83,"column":142,"offset":3362},"end":{"line":83,"column":152,"offset":3372}}},"children":"fullName"}}],"), 이메일(",["$","$Lf",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"email","position":{"start":{"line":83,"column":159,"offset":3379},"end":{"line":83,"column":166,"offset":3386}}}],"position":{"start":{"line":83,"column":159,"offset":3379},"end":{"line":83,"column":166,"offset":3386}}},"children":"email"}}],") 등의 정보를 얻을 수 있습니다."]}],"\n",["$","h2",null,{"id":"32c63f2b","className":"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800","children":"데이터를 Keychain에 저장"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"Apple 로그인을 사용하면 Apple에서 제공한 사용자 식별자를 Keychain에 저장하여 다시 로그인할 때 사용할 수 있습니다. 이를 통해 사용자는 앱을 다시 열 때마다 로그인 상태를 유지할 수 있습니다. 다음은 사용자 식별자를 Keychain에 저장하는 예제입니다."}],"\n",["$","pre","pre-2",{"children":["$","$Lf",null,{"props":{"className":"language-swift","node":{"type":"element","tagName":"code","properties":{"className":["language-swift"]},"children":[{"type":"text","value":"import Security\n\nfunc saveUserIdentifierToKeychain(_ userIdentifier: String) {\n    let data = Data(userIdentifier.utf8)\n    let query: [String: Any] = [\n        kSecClass as String: kSecClassGenericPassword,\n        kSecAttrAccount as String: \"userIdentifier\",\n        kSecValueData as String: data\n    ]\n    SecItemAdd(query as CFDictionary, nil)\n}\n\nfunc getUserIdentifierFromKeychain() -> String? {\n    let query: [String: Any] = [\n        kSecClass as String: kSecClassGenericPassword,\n        kSecAttrAccount as String: \"userIdentifier\",\n        kSecReturnData as String: true,\n        kSecMatchLimit as String: kSecMatchLimitOne\n    ]\n    var dataTypeRef: AnyObject? = nil\n    let status = SecItemCopyMatching(query as CFDictionary, &dataTypeRef)\n    if status == errSecSuccess, let data = dataTypeRef as? Data {\n        return String(data: data, encoding: .utf8)\n    }\n    return nil\n}\n"}],"position":{"start":{"line":89,"column":1,"offset":3582},"end":{"line":116,"column":4,"offset":4486}}},"children":"import Security\n\nfunc saveUserIdentifierToKeychain(_ userIdentifier: String) {\n    let data = Data(userIdentifier.utf8)\n    let query: [String: Any] = [\n        kSecClass as String: kSecClassGenericPassword,\n        kSecAttrAccount as String: \"userIdentifier\",\n        kSecValueData as String: data\n    ]\n    SecItemAdd(query as CFDictionary, nil)\n}\n\nfunc getUserIdentifierFromKeychain() -> String? {\n    let query: [String: Any] = [\n        kSecClass as String: kSecClassGenericPassword,\n        kSecAttrAccount as String: \"userIdentifier\",\n        kSecReturnData as String: true,\n        kSecMatchLimit as String: kSecMatchLimitOne\n    ]\n    var dataTypeRef: AnyObject? = nil\n    let status = SecItemCopyMatching(query as CFDictionary, &dataTypeRef)\n    if status == errSecSuccess, let data = dataTypeRef as? Data {\n        return String(data: data, encoding: .utf8)\n    }\n    return nil\n}\n"}}]}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":["이 코드는 사용자 식별자를 Keychain에 저장하고 검색하는 함수들을 구현합니다. ",["$","$Lf",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"saveUserIdentifierToKeychain","position":{"start":{"line":118,"column":48,"offset":4535},"end":{"line":118,"column":78,"offset":4565}}}],"position":{"start":{"line":118,"column":48,"offset":4535},"end":{"line":118,"column":78,"offset":4565}}},"children":"saveUserIdentifierToKeychain"}}]," 함수는 사용자 식별자를 Keychain에 저장하고, ",["$","$Lf",null,{"props":{"node":{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"getUserIdentifierFromKeychain","position":{"start":{"line":118,"column":108,"offset":4595},"end":{"line":118,"column":139,"offset":4626}}}],"position":{"start":{"line":118,"column":108,"offset":4595},"end":{"line":118,"column":139,"offset":4626}}},"children":"getUserIdentifierFromKeychain"}}]," 함수는 Keychain에서 사용자 식별자를 검색하여 반환합니다."]}],"\n",["$","h2",null,{"id":"5b12bcf2","className":"md:text-[32px] text-[22px] font-semibold leading-[145%] md:py-[30px] py-[20px] text-gray-800","children":"결론"}],"\n",["$","p",null,{"className":"md:text-[16px] text-[15px] leading-[180%] text-gray-800 md:py-[20px] py-[20px]","children":"이번 글에서는 SwiftUI를 사용하여 Apple 로그인 기능을 구현하는 방법을 다루었습니다. Apple 로그인을 설정하는 방법, SwiftUI에서 Apple 로그인 버튼을 추가하는 방법, 인증 결과를 처리하는 방법, 그리고 Keychain을 이용해 사용자 식별자를 저장하고 검색하는 방법에 대해 설명했습니다. 이 지침을 따라하면 사용자에게 안전하고 간편한 로그인 경험을 제공할 수 있습니다."}]]}]}],["$","$L10",null,{}]]}],["$","div",null,{"className":"xl:flex hidden w-[300px]","children":["$","$L11",null,{"articleTitle":"SwiftUI Apple Login 구현 방법","toc":[{"tagName":"h1","title":"SwiftUI Apple Login 구현 방법","id":"56d61275"},{"tagName":"h2","title":"Apple 로그인 설정","id":"ee88eea1"},{"tagName":"h2","title":"Apple Developer 계정 설정","id":"4199ffbf"},{"tagName":"h2","title":"SwiftUI에서 Apple 로그인 버튼 추가","id":"bdc9c4b5"},{"tagName":"h2","title":"인증 결과 처리","id":"033f1e0a"},{"tagName":"h2","title":"데이터를 Keychain에 저장","id":"32c63f2b"},{"tagName":"h2","title":"결론","id":"5b12bcf2"}],"language":"kr"}]}]]}]]
8:null
